<!doctype html><html lang=en><head><title>URL</title><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=X-UA-Compatible content="ie=edge"><link rel=stylesheet href=/application.780dc7a6fc8e42bf9fef490724bc6cbc57e759a0db2df60fcd517f9f667085ed.css integrity="sha256-eA3HpvyOQr+f70kHJLxsvFfnWaDbLfYPzVF/n2Zwhe0="><link rel=icon type=image/png href=/images/site/highlight.svg><link rel=alternate type=application/rss+xml href=https://linzeyan.github.io/tags/url/index.xml title=Ricky><meta property="og:title" content="Ricky"><meta property="og:type" content="website"><meta property="og:description" content="Ricky's Page."><meta property="og:image" content="/images/author/ava.jpg"><meta property="og:url" content="https://linzeyan.github.io/"><script defer src=https://static.cloudflareinsights.com/beacon.min.js data-cf-beacon='{"token": "27a0cd9f0e3b46909879cf99f7cc6878"}'></script><script integrity="sha256-DO4ugzEwhTW1Id1UIWn0gUJWaebCYOypeTit6LW4QB4=">let theme=localStorage.getItem("theme-scheme")||localStorage.getItem("darkmode:color-scheme")||"light";theme==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?theme="dark":theme="light"),document.documentElement.setAttribute("data-theme",theme)</script></head><body class="type-tags kind-term" data-bs-spy=scroll data-bs-target=#TableOfContents data-bs-offset=80><div class="container-fluid bg-secondary wrapper"><nav class="navbar navbar-expand-xl top-navbar shadow" id=top-navbar><div class=container><button class="navbar-toggler navbar-light" id=sidebar-toggler type=button>
<i data-feather=sidebar></i>
</button>
<a class=navbar-brand href=/><img src=/images/site/highlight.svg id=logo alt=Logo>
Ricky</a>
<button class="navbar-toggler navbar-light" id=navbar-toggler type=button data-bs-toggle=collapse data-bs-target=#top-nav-items aria-label=menu>
<i data-feather=menu></i></button><div class="collapse navbar-collapse dynamic-navbar" id=top-nav-items><ul class="nav navbar-nav ms-auto"><li class=nav-item><a class=nav-link href=/#home>Home</a></li><li class=nav-item><a class=nav-link href=/#about>About</a></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-bs-toggle=dropdown aria-haspopup=true aria-expanded=false>More</a><div class=dropdown-menu aria-labelledby=navbarDropdown><a class=dropdown-item href=/#skills>Skills</a>
<a class=dropdown-item href=/#experiences>Experiences</a>
<a class=dropdown-item href=/#education>Education</a>
<a class=dropdown-item href=/#projects>Projects</a></div></li><div id=top-navbar-divider></div><li class=nav-item><a class=nav-link id=blog-link href=/posts>Posts</a></li><li class=nav-item><a class=nav-link id=note-link href=/notes>Notes</a></li><li class=nav-item><a class=nav-link href=https://linzeyan.github.io/activities>Activities</a></li><li class=nav-item><a class=nav-link href=https://transforms.pages.dev/>Transform</a></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# id=languageSelector role=button data-bs-toggle=dropdown aria-haspopup=true aria-expanded=false><span class="fi fi-us"></span>
English</a><div class=dropdown-menu aria-labelledby=languageSelector><a class="dropdown-item nav-link languages-item" href=/tags/url><span class="fi fi-us"></span>
English
</a><a class="dropdown-item nav-link languages-item" href=/zh-tw/tags/url><span class="fi fi-tw"></span>
Chinese</a></div></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# id=themeSelector role=button data-bs-toggle=dropdown aria-haspopup=true aria-expanded=false><img id=navbar-theme-icon-svg class=theme-icon src=/icons/moon-svgrepo-com.svg width=20 alt="Dark Theme"></a><div id=themeMenu class="dropdown-menu dropdown-menu-icons-only" aria-labelledby=themeSelector><a class="dropdown-item nav-link" href=# data-scheme=light><img class=theme-icon src=/icons/sun-svgrepo-com.svg width=20 alt="Light Theme">
</a><a class="dropdown-item nav-link" href=# data-scheme=dark><img class=theme-icon src=/icons/moon-svgrepo-com.svg width=20 alt="Dark Theme">
</a><a class="dropdown-item nav-link" href=# data-scheme=system><img class=theme-icon src=/icons/computer-svgrepo-com.svg width=20 alt="System Theme"></a></div></li></ul></div></div><img src=/images/site/highlight.svg class=d-none id=main-logo alt=Logo>
<img src=/images/site/highlight.svg class=d-none id=inverted-logo alt="Inverted Logo"></nav><section class=sidebar-section id=sidebar-section><div class=sidebar-holder><div class=sidebar id=sidebar><form class=mx-auto method=get action=/search><input type=text name=keyword placeholder=Search data-search id=search-box></form><div class=sidebar-tree><ul class=tree id=tree><li id=list-heading><a href=/tags data-filter=all>Tags</a></li><div class="subtree taxonomy-terms"><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/a10/ data-taxonomy-term=a10><span class=taxonomy-label>A10</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/acme/ data-taxonomy-term=acme><span class=taxonomy-label>ACME</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/ad/ data-taxonomy-term=ad><span class=taxonomy-label>AD</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/aes/ data-taxonomy-term=aes><span class=taxonomy-label>AES</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/ai/ data-taxonomy-term=ai><span class=taxonomy-label>AI</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/aliyun/ data-taxonomy-term=aliyun><span class=taxonomy-label>Aliyun</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/ansible/ data-taxonomy-term=ansible><span class=taxonomy-label>Ansible</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/app/ data-taxonomy-term=app><span class=taxonomy-label>APP</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/application-delivery-controller/ data-taxonomy-term=application-delivery-controller><span class=taxonomy-label>Application Delivery Controller</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/arceus/ data-taxonomy-term=arceus><span class=taxonomy-label>Arceus</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/argo-cd/ data-taxonomy-term=argo-cd><span class=taxonomy-label>Argo CD</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/ascii/ data-taxonomy-term=ascii><span class=taxonomy-label>ASCII</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/authentication/ data-taxonomy-term=authentication><span class=taxonomy-label>Authentication</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/authorization/ data-taxonomy-term=authorization><span class=taxonomy-label>Authorization</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/aws/ data-taxonomy-term=aws><span class=taxonomy-label>AWS</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/bash/ data-taxonomy-term=bash><span class=taxonomy-label>BASH</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/bayonet/ data-taxonomy-term=bayonet><span class=taxonomy-label>Bayonet</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/benchmark/ data-taxonomy-term=benchmark><span class=taxonomy-label>Benchmark</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/bgp/ data-taxonomy-term=bgp><span class=taxonomy-label>BGP</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/bird/ data-taxonomy-term=bird><span class=taxonomy-label>BIRD</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/board-game/ data-taxonomy-term=board-game><span class=taxonomy-label>Board Game</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/browser/ data-taxonomy-term=browser><span class=taxonomy-label>Browser</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/byte/ data-taxonomy-term=byte><span class=taxonomy-label>Byte</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/cache/ data-taxonomy-term=cache><span class=taxonomy-label>Cache</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/cdn/ data-taxonomy-term=cdn><span class=taxonomy-label>CDN</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/channel/ data-taxonomy-term=channel><span class=taxonomy-label>Channel</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/chart/ data-taxonomy-term=chart><span class=taxonomy-label>Chart</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/checklist/ data-taxonomy-term=checklist><span class=taxonomy-label>Checklist</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/chrome/ data-taxonomy-term=chrome><span class=taxonomy-label>Chrome</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/chrome-os/ data-taxonomy-term=chrome-os><span class=taxonomy-label>Chrome OS</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/chrony/ data-taxonomy-term=chrony><span class=taxonomy-label>Chrony</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/ci/ data-taxonomy-term=ci><span class=taxonomy-label>CI</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/cilium/ data-taxonomy-term=cilium><span class=taxonomy-label>Cilium</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/cisco/ data-taxonomy-term=cisco><span class=taxonomy-label>Cisco</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/cloud-native/ data-taxonomy-term=cloud-native><span class=taxonomy-label>Cloud-Native</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/cloudflare/ data-taxonomy-term=cloudflare><span class=taxonomy-label>Cloudflare</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/cluster/ data-taxonomy-term=cluster><span class=taxonomy-label>Cluster</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/command-line/ data-taxonomy-term=command-line><span class=taxonomy-label>Command Line</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/completion/ data-taxonomy-term=completion><span class=taxonomy-label>Completion</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/config/ data-taxonomy-term=config><span class=taxonomy-label>Config</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/container/ data-taxonomy-term=container><span class=taxonomy-label>Container</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/cpu/ data-taxonomy-term=cpu><span class=taxonomy-label>CPU</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/curl/ data-taxonomy-term=curl><span class=taxonomy-label>CURL</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/data/ data-taxonomy-term=data><span class=taxonomy-label>Data</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/database/ data-taxonomy-term=database><span class=taxonomy-label>Database</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/debug/ data-taxonomy-term=debug><span class=taxonomy-label>Debug</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/dehydrated/ data-taxonomy-term=dehydrated><span class=taxonomy-label>Dehydrated</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/design/ data-taxonomy-term=design><span class=taxonomy-label>Design</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/devsecops/ data-taxonomy-term=devsecops><span class=taxonomy-label>DevSecOps</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/diagrams/ data-taxonomy-term=diagrams><span class=taxonomy-label>Diagrams</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/dmg/ data-taxonomy-term=dmg><span class=taxonomy-label>Dmg</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/dns/ data-taxonomy-term=dns><span class=taxonomy-label>DNS</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/dns-01/ data-taxonomy-term=dns-01><span class=taxonomy-label>DNS-01</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/docker/ data-taxonomy-term=docker><span class=taxonomy-label>Docker</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/eff/ data-taxonomy-term=eff><span class=taxonomy-label>EFF</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/elasticsearch/ data-taxonomy-term=elasticsearch><span class=taxonomy-label>ElasticSearch</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/elk/ data-taxonomy-term=elk><span class=taxonomy-label>ELK</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/emoji/ data-taxonomy-term=emoji><span class=taxonomy-label>Emoji</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/emqx/ data-taxonomy-term=emqx><span class=taxonomy-label>EMQX</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/encode/ data-taxonomy-term=encode><span class=taxonomy-label>Encode</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/encrypt/ data-taxonomy-term=encrypt><span class=taxonomy-label>Encrypt</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/esxi/ data-taxonomy-term=esxi><span class=taxonomy-label>ESXi</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/extension/ data-taxonomy-term=extension><span class=taxonomy-label>Extension</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/firewall/ data-taxonomy-term=firewall><span class=taxonomy-label>Firewall</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/fortigate/ data-taxonomy-term=fortigate><span class=taxonomy-label>Fortigate</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/fortinet/ data-taxonomy-term=fortinet><span class=taxonomy-label>Fortinet</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/fortios/ data-taxonomy-term=fortios><span class=taxonomy-label>FortiOS</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/game/ data-taxonomy-term=game><span class=taxonomy-label>Game</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/geoip/ data-taxonomy-term=geoip><span class=taxonomy-label>GeoIP</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/gin/ data-taxonomy-term=gin><span class=taxonomy-label>GIN</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/git/ data-taxonomy-term=git><span class=taxonomy-label>Git</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/gitbook/ data-taxonomy-term=gitbook><span class=taxonomy-label>GitBook</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/github/ data-taxonomy-term=github><span class=taxonomy-label>Github</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/gitlab/ data-taxonomy-term=gitlab><span class=taxonomy-label>Gitlab</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/gitops/ data-taxonomy-term=gitops><span class=taxonomy-label>GitOps</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/gluetun/ data-taxonomy-term=gluetun><span class=taxonomy-label>Gluetun</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/go/ data-taxonomy-term=go><span class=taxonomy-label>Go</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/go-mysql-elasticsearch/ data-taxonomy-term=go-mysql-elasticsearch><span class=taxonomy-label>Go-Mysql-Elasticsearch</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/golang/ data-taxonomy-term=golang><span class=taxonomy-label>Golang</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/google/ data-taxonomy-term=google><span class=taxonomy-label>Google</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/gpg/ data-taxonomy-term=gpg><span class=taxonomy-label>GPG</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/graphql/ data-taxonomy-term=graphql><span class=taxonomy-label>GraphQL</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/ha/ data-taxonomy-term=ha><span class=taxonomy-label>HA</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/haproxy/ data-taxonomy-term=haproxy><span class=taxonomy-label>HAProxy</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/hash/ data-taxonomy-term=hash><span class=taxonomy-label>Hash</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/homelab/ data-taxonomy-term=homelab><span class=taxonomy-label>HomeLab</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/htop/ data-taxonomy-term=htop><span class=taxonomy-label>Htop</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/http/ data-taxonomy-term=http><span class=taxonomy-label>HTTP</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/infra/ data-taxonomy-term=infra><span class=taxonomy-label>Infra</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/infrastructure/ data-taxonomy-term=infrastructure><span class=taxonomy-label>Infrastructure</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/introduction/ data-taxonomy-term=introduction><span class=taxonomy-label>Introduction</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/iphone/ data-taxonomy-term=iphone><span class=taxonomy-label>IPhone</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/iptables/ data-taxonomy-term=iptables><span class=taxonomy-label>Iptables</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/iso/ data-taxonomy-term=iso><span class=taxonomy-label>Iso</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/issue/ data-taxonomy-term=issue><span class=taxonomy-label>Issue</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/iterm2/ data-taxonomy-term=iterm2><span class=taxonomy-label>ITerm2</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/jenkins/ data-taxonomy-term=jenkins><span class=taxonomy-label>Jenkins</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/jsoniter/ data-taxonomy-term=jsoniter><span class=taxonomy-label>Jsoniter</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/juniper/ data-taxonomy-term=juniper><span class=taxonomy-label>Juniper</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/jwt/ data-taxonomy-term=jwt><span class=taxonomy-label>JWT</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/kibana/ data-taxonomy-term=kibana><span class=taxonomy-label>Kibana</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/kubernetes/ data-taxonomy-term=kubernetes><span class=taxonomy-label>Kubernetes</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/ldap/ data-taxonomy-term=ldap><span class=taxonomy-label>LDAP</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/leetcode/ data-taxonomy-term=leetcode><span class=taxonomy-label>Leetcode</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/lightweight/ data-taxonomy-term=lightweight><span class=taxonomy-label>Lightweight</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/linkerd/ data-taxonomy-term=linkerd><span class=taxonomy-label>Linkerd</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/linux/ data-taxonomy-term=linux><span class=taxonomy-label>Linux</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/llm/ data-taxonomy-term=llm><span class=taxonomy-label>Llm</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/lua/ data-taxonomy-term=lua><span class=taxonomy-label>Lua</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/lullaby/ data-taxonomy-term=lullaby><span class=taxonomy-label>Lullaby</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/lvm/ data-taxonomy-term=lvm><span class=taxonomy-label>LVM</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/machinelearning/ data-taxonomy-term=machinelearning><span class=taxonomy-label>Machinelearning</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/macos/ data-taxonomy-term=macos><span class=taxonomy-label>MacOS</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/markdown/ data-taxonomy-term=markdown><span class=taxonomy-label>Markdown</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/mattermost/ data-taxonomy-term=mattermost><span class=taxonomy-label>Mattermost</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/mermaid/ data-taxonomy-term=mermaid><span class=taxonomy-label>Mermaid</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/minio/ data-taxonomy-term=minio><span class=taxonomy-label>MinIO</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/module/ data-taxonomy-term=module><span class=taxonomy-label>Module</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/mqtt/ data-taxonomy-term=mqtt><span class=taxonomy-label>MQTT</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/mss/ data-taxonomy-term=mss><span class=taxonomy-label>MSS</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/mtu/ data-taxonomy-term=mtu><span class=taxonomy-label>MTU</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/music/ data-taxonomy-term=music><span class=taxonomy-label>Music</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/mydumper/ data-taxonomy-term=mydumper><span class=taxonomy-label>MyDumper</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/mysql/ data-taxonomy-term=mysql><span class=taxonomy-label>MySQL</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/nas/ data-taxonomy-term=nas><span class=taxonomy-label>NAS</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/netcat/ data-taxonomy-term=netcat><span class=taxonomy-label>Netcat</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/network/ data-taxonomy-term=network><span class=taxonomy-label>Network</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/nftables/ data-taxonomy-term=nftables><span class=taxonomy-label>Nftables</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/nginx/ data-taxonomy-term=nginx><span class=taxonomy-label>NGINX</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/oauth/ data-taxonomy-term=oauth><span class=taxonomy-label>OAuth</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/oidc/ data-taxonomy-term=oidc><span class=taxonomy-label>OIDC</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/ollama/ data-taxonomy-term=ollama><span class=taxonomy-label>Ollama</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/openresty/ data-taxonomy-term=openresty><span class=taxonomy-label>OpenResty</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/parquet/ data-taxonomy-term=parquet><span class=taxonomy-label>Parquet</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/percona/ data-taxonomy-term=percona><span class=taxonomy-label>Percona</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/pinyin/ data-taxonomy-term=pinyin><span class=taxonomy-label>Pinyin</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/pip/ data-taxonomy-term=pip><span class=taxonomy-label>Pip</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/plugin/ data-taxonomy-term=plugin><span class=taxonomy-label>Plugin</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/pokemon/ data-taxonomy-term=pokemon><span class=taxonomy-label>Pokemon</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/powerdns/ data-taxonomy-term=powerdns><span class=taxonomy-label>PowerDNS</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/powershell/ data-taxonomy-term=powershell><span class=taxonomy-label>PowerShell</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/pprof/ data-taxonomy-term=pprof><span class=taxonomy-label>Pprof</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/principle/ data-taxonomy-term=principle><span class=taxonomy-label>Principle</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/prometheus/ data-taxonomy-term=prometheus><span class=taxonomy-label>Prometheus</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/protobuf/ data-taxonomy-term=protobuf><span class=taxonomy-label>Protobuf</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/proxy/ data-taxonomy-term=proxy><span class=taxonomy-label>Proxy</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/push/ data-taxonomy-term=push><span class=taxonomy-label>Push</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/python/ data-taxonomy-term=python><span class=taxonomy-label>Python</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/qrcode/ data-taxonomy-term=qrcode><span class=taxonomy-label>QRCode</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/r/ data-taxonomy-term=r><span class=taxonomy-label>R</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/raid/ data-taxonomy-term=raid><span class=taxonomy-label>RAID</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/rdp/ data-taxonomy-term=rdp><span class=taxonomy-label>RDP</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/redis/ data-taxonomy-term=redis><span class=taxonomy-label>Redis</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/regex/ data-taxonomy-term=regex><span class=taxonomy-label>Regex</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/ringtone/ data-taxonomy-term=ringtone><span class=taxonomy-label>Ringtone</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/route/ data-taxonomy-term=route><span class=taxonomy-label>Route</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/rust/ data-taxonomy-term=rust><span class=taxonomy-label>Rust</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/s3/ data-taxonomy-term=s3><span class=taxonomy-label>S3</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/screenshot/ data-taxonomy-term=screenshot><span class=taxonomy-label>ScreenShot</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/security/ data-taxonomy-term=security><span class=taxonomy-label>Security</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/selenium/ data-taxonomy-term=selenium><span class=taxonomy-label>Selenium</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/sentry/ data-taxonomy-term=sentry><span class=taxonomy-label>Sentry</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/service-mesh/ data-taxonomy-term=service-mesh><span class=taxonomy-label>Service Mesh</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/sftp/ data-taxonomy-term=sftp><span class=taxonomy-label>SFTP</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/shell/ data-taxonomy-term=shell><span class=taxonomy-label>SHELL</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/slides/ data-taxonomy-term=slides><span class=taxonomy-label>Slides</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/snow/ data-taxonomy-term=snow><span class=taxonomy-label>Snow</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/software/ data-taxonomy-term=software><span class=taxonomy-label>Software</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/sonarqube/ data-taxonomy-term=sonarqube><span class=taxonomy-label>SonarQube</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/sql/ data-taxonomy-term=sql><span class=taxonomy-label>SQL</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/ssh/ data-taxonomy-term=ssh><span class=taxonomy-label>SSH</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/ssl/ data-taxonomy-term=ssl><span class=taxonomy-label>SSL</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/string/ data-taxonomy-term=string><span class=taxonomy-label>String</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/switch/ data-taxonomy-term=switch><span class=taxonomy-label>Switch</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/sync/ data-taxonomy-term=sync><span class=taxonomy-label>Sync</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/synology/ data-taxonomy-term=synology><span class=taxonomy-label>Synology</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/system/ data-taxonomy-term=system><span class=taxonomy-label>System</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/tcpdump/ data-taxonomy-term=tcpdump><span class=taxonomy-label>Tcpdump</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/telegram/ data-taxonomy-term=telegram><span class=taxonomy-label>Telegram</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/terminal/ data-taxonomy-term=terminal><span class=taxonomy-label>Terminal</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/terraform/ data-taxonomy-term=terraform><span class=taxonomy-label>Terraform</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/test/ data-taxonomy-term=test><span class=taxonomy-label>Test</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/testing/ data-taxonomy-term=testing><span class=taxonomy-label>Testing</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/time/ data-taxonomy-term=time><span class=taxonomy-label>Time</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/timeout/ data-taxonomy-term=timeout><span class=taxonomy-label>Timeout</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/tls/ data-taxonomy-term=tls><span class=taxonomy-label>TLS</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/tor/ data-taxonomy-term=tor><span class=taxonomy-label>Tor</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/trace/ data-taxonomy-term=trace><span class=taxonomy-label>Trace</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/traefik/ data-taxonomy-term=traefik><span class=taxonomy-label>Traefik</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/travel/ data-taxonomy-term=travel><span class=taxonomy-label>Travel</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/tunnel/ data-taxonomy-term=tunnel><span class=taxonomy-label>Tunnel</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/typora/ data-taxonomy-term=typora><span class=taxonomy-label>Typora</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/ubuntu/ data-taxonomy-term=ubuntu><span class=taxonomy-label>Ubuntu</span></a></li><li><a class="taxonomy-term active" href=https://linzeyan.github.io/tags/url/ data-taxonomy-term=url><span class=taxonomy-label>URL</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/useragent/ data-taxonomy-term=useragent><span class=taxonomy-label>UserAgent</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/v2ray/ data-taxonomy-term=v2ray><span class=taxonomy-label>V2Ray</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/vagrant/ data-taxonomy-term=vagrant><span class=taxonomy-label>Vagrant</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/video/ data-taxonomy-term=video><span class=taxonomy-label>Video</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/vim/ data-taxonomy-term=vim><span class=taxonomy-label>Vim</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/virtualization/ data-taxonomy-term=virtualization><span class=taxonomy-label>Virtualization</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/visualization/ data-taxonomy-term=visualization><span class=taxonomy-label>Visualization</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/vnc/ data-taxonomy-term=vnc><span class=taxonomy-label>VNC</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/vpn/ data-taxonomy-term=vpn><span class=taxonomy-label>VPN</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/vscode/ data-taxonomy-term=vscode><span class=taxonomy-label>VScode</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/waf/ data-taxonomy-term=waf><span class=taxonomy-label>WAF</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/web/ data-taxonomy-term=web><span class=taxonomy-label>Web</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/webp/ data-taxonomy-term=webp><span class=taxonomy-label>Webp</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/windows/ data-taxonomy-term=windows><span class=taxonomy-label>Windows</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/wsl/ data-taxonomy-term=wsl><span class=taxonomy-label>WSL</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/yaml/ data-taxonomy-term=yaml><span class=taxonomy-label>YAML</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/youtube/ data-taxonomy-term=youtube><span class=taxonomy-label>Youtube</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/zabbix/ data-taxonomy-term=zabbix><span class=taxonomy-label>Zabbix</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/zero-trust/ data-taxonomy-term=zero-trust><span class=taxonomy-label>Zero Trust</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/zim/ data-taxonomy-term=zim><span class=taxonomy-label>Zim</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/zsh/ data-taxonomy-term=zsh><span class=taxonomy-label>ZSH</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/tags/%E5%8F%B0%E8%AA%9E/ data-taxonomy-term=%E5%8F%B0%E8%AA%9E><span class=taxonomy-label>台語</span></a></li></div></ul></div></div></div></section><section class=content-section id=content-section><div class="content container-fluid" id=content><div class="container-fluid post-card-holder" id=post-card-holder><div class=post-card><div class=card><div class=card-head><a href=/posts/2020/20201027-nginx_geoip2/ class=post-card-link><img class=card-img-top src=/images/hero/nginx.jpeg alt="Hero Image"></a></div><div class=card-body><a href=/posts/2020/20201027-nginx_geoip2/ class=post-card-link><h5 class=card-title>2020年，最新NGINX的ngx_http_geoip2模块以精准禁止特定国家或者地区IP访问</h5><p class="card-text post-summary">2020 年，最新 NGINX 的 ngx_http_geoip2 模块以精准禁止特定国家或者地区 IP 访问 centos7 下 安装 GeoIP2，在 nginx 中根据 ip 地址对应的国家转发请求 安装 geoip2 lib cd /usr/local/src rm -f libmaxminddb-1.4.2.tar.gz wget https://github.com/maxmind/libmaxminddb/releases/download/1.4.2/libmaxminddb-1.4.2.tar.gz tar -xzf libmaxminddb-1.4.2.tar.gz cd libmaxminddb-1.4.2 yum install gcc gcc-c++ make -y ./configure make make check sudo make install echo '/usr/local/lib' > /etc/ld.so.conf.d/geoip.conf sudo ldconfig 下载 ngx_http_geoip2_module 模块 cd /usr/local/src wget https://github.com/leev/ngx_http_geoip2_module/archive/3.3.tar.gz tar -xzf 3.3.tar.gz mv ngx_http_geoip2_module-3.3 ngx_http_geoip2_module # nginx集成 cd /usr/local/src wget http://nginx.org/download/nginx-1.16.1.tar.gz tar -zxf nginx-1.16.1.tar.gz cd nginx-1.16.1 useradd -M -s /sbin/nologin www yum install gcc gcc-c++ make pcre-devel zlib-devel openssl-devel -y ./configure --user=www --group=www --prefix=/usr/local/nginx \ --with-ld-opt="-Wl,-rpath -Wl,/usr/local/lib" \ --with-http_sub_module \ --with-http_realip_module \ --with-http_gzip_static_module \ --with-http_ssl_module \ --with-http_v2_module \ --add-module=/usr/local/src/ngx_http_geoip2_module make make install geoip2 IP 地址库下载 2020 年最新 GeoLite2-City.mmdb 无法直接下载，必须注册 maxmind 账号</p></a></div><div class=card-footer><span class=float-start>Tuesday, October 27, 2020
</span><a href=/posts/2020/20201027-nginx_geoip2/ class="float-end btn btn-outline-info btn-sm">Read</a></div></div></div><div class=post-card><div class=card><div class=card-head><a href=/posts/2020/20201017-38e044411a02530ec3481078fe2d81d8/ class=post-card-link><img class=card-img-top src=/images/hero/nginx.jpeg alt="Hero Image"></a></div><div class=card-body><a href=/posts/2020/20201017-38e044411a02530ec3481078fe2d81d8/ class=post-card-link><h5 class=card-title>Nginx HTTPS with Basic Auth reverse proxy for VMware ESXi 6.5 fixed VMRC /screen</h5><p class="card-text post-summary">Nginx HTTPS with Basic Auth reverse proxy for VMware ESXi 6.5 fixed VMRC /screen server { listen 80; server_name esxi.hackion.com; return 301 https://$server_name$request_uri; } server { listen 443 ssl; server_name esxi.hackion.com; ssl_certificate /mycert.crt; ssl_certificate_key /mykey.key; location / { auth_basic "Restricted Content"; auth_basic_user_file /etc/nginx/.htpasswd; proxy_set_header Upgrade $http_upgrade; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; proxy_set_header Host $host; proxy_set_header X-Real-IP $remote_addr; proxy_set_header Origin ''; proxy_set_header Authorization ''; #Don't pass the Nginx Basic Auth to ESXi or it will break VMRC. proxy_pass_header X-XSRF-TOKEN; proxy_pass https://esxi_server; proxy_send_timeout 300; proxy_read_timeout 300; send_timeout 300; client_max_body_size 1000m; # enables WS support proxy_http_version 1.1; proxy_set_header Upgrade $http_upgrade; proxy_set_header Connection "upgrade"; } } server { listen 443 ssl http2; # ssl_certificate and ssl_certificate_key are required ssl_certificate /etc/letsencrypt/live/myletsencryptdomain/fullchain.pem; ssl_certificate_key /etc/letsencrypt/live/myletsencryptdomain/privkey.pem; include /etc/nginx/snippets/ssl-params.conf; # removed DH params as my ssl-params.conf specifies to only use ECDHE key exchange. server_name fqdn.extern; location / { proxy_set_header Host $http_host; proxy_set_header X-Real-IP $remote_addr; proxy_ssl_verify off; # No need on isolated LAN proxy_pass https://vcenter.ip; # esxi IP Address proxy_http_version 1.1; proxy_set_header Upgrade $http_upgrade; proxy_set_header Connection "upgrade"; proxy_buffering off; client_max_body_size 0; proxy_read_timeout 36000s; proxy_redirect https://fqdn.local/ https://fqdn.extern/; # read comment below # replace vcenter-hostname with your actual vcenter's hostname, and esxi with your nginx's server_name. } location /websso/SAML2 { proxy_set_header Host fqdn.local; # your actual vcenter's hostname proxy_set_header X-Real-IP $remote_addr; proxy_ssl_verify off; # No need on isolated LAN proxy_pass https://vcenter.ip; # esxi IP Address proxy_http_version 1.1; proxy_set_header Upgrade $http_upgrade; proxy_set_header Connection "upgrade"; proxy_buffering off; client_max_body_size 0; proxy_read_timeout 36000s; proxy_ssl_session_reuse on; proxy_redirect https://fqdn.local/ https://fqdn.extern/; # read comment below # replace vcenter-hostname with your actual vcenter's hostname, and esxi with your nginx's server_name. } }</p></a></div><div class=card-footer><span class=float-start>Saturday, October 17, 2020
</span><a href=/posts/2020/20201017-38e044411a02530ec3481078fe2d81d8/ class="float-end btn btn-outline-info btn-sm">Read</a></div></div></div><div class=post-card><div class=card><div class=card-head><a href=/posts/2020/20201011-running-github-actions-for-certain-commit-messages/ class=post-card-link><img class=card-img-top src=/images/hero/github.png alt="Hero Image"></a></div><div class=card-body><a href=/posts/2020/20201011-running-github-actions-for-certain-commit-messages/ class=post-card-link><h5 class=card-title>Running GitHub Actions for Certain Commit Messages</h5><p class="card-text post-summary">Running GitHub Actions for Certain Commit Messages Now, whenever I push a wip commit or any commit that contains the word wip, it will be marked as skipped inside of GitHub actions.
jobs: format: runs-on: ubuntu-latest if: "! contains(github.event.head_commit.message, 'wip')" Any commit that contains [build] will now trigger these jobs, everything else will be skipped.
jobs: format: runs-on: ubuntu-latest if: "contains(github.event.head_commit.message, '[build]')"</p></a></div><div class=card-footer><span class=float-start>Sunday, October 11, 2020
</span><a href=/posts/2020/20201011-running-github-actions-for-certain-commit-messages/ class="float-end btn btn-outline-info btn-sm">Read</a></div></div></div><div class=post-card><div class=card><div class=card-head><a href=/posts/2020/20201005-using-vagrant-to-deploy-multiple-vms-on-vsphere/ class=post-card-link><img class=card-img-top src=/images/default-hero.jpg alt="Hero Image"></a></div><div class=card-body><a href=/posts/2020/20201005-using-vagrant-to-deploy-multiple-vms-on-vsphere/ class=post-card-link><h5 class=card-title>Using Vagrant to Deploy Multiple VMs on vSphere</h5><p class="card-text post-summary">Using Vagrant to Deploy Multiple VMs on vSphere vm1 = { 'name' => "PhotonVM1", 'ip' => "192.168.5.224" } vm2 = { 'name' => "PhotonVM2", 'ip' => "192.168.5.225" } vms = [ vm1, vm2] Vagrant.configure(2) do |config| vms.each do |node| vm_name = node['name'] vm_ip = node['ip'] config.vm.define vm_name do |node_config| node_config.vm.network 'private_network', ip: "#{vm_ip}" node_config.vm.box = "dummy" node_config.vm.box_url = "./example_box/dummy.box" node_config.vm.provider :vsphere do |vsphere| vsphere.host = 'vc01.testlab.local' vsphere.compute_resource_name = 'esxi01.testlab.local' vsphere.name = vm_name vsphere.customization_spec_name = 'centos66' vsphere.template_name = 'PhotonTemplate' vsphere.user = 'administrator@vsphere.local' vsphere.password = 'password' vsphere.insecure = true end end end end</p></a></div><div class=card-footer><span class=float-start>Monday, October 5, 2020
</span><a href=/posts/2020/20201005-using-vagrant-to-deploy-multiple-vms-on-vsphere/ class="float-end btn btn-outline-info btn-sm">Read</a></div></div></div><div class=post-card><div class=card><div class=card-head><a href=/posts/2020/20201002-10158898/ class=post-card-link><img class=card-img-top src=/images/default-hero.jpg alt="Hero Image"></a></div><div class=card-body><a href=/posts/2020/20201002-10158898/ class=post-card-link><h5 class=card-title>Vagrantfile and Provider</h5><p class="card-text post-summary">Day 8 - Vagrantfile and Provider Day 9 - Advanced Vagrantfile(編輯中) 用以下這個範例 你只要使用 Vagrant up 加上 provider 參數，就可開啟不同來源的機器
例如我要開啟 Vsphere 的機器，我只要下 vagrant up --provider=vsphere
要開 AWS 的機器，我只要下 vagrant up --provider=aws
VAGRANTFILE_API_VERSION = "2" Vagrant.configure(VAGRANTFILE_API_VERSION) do |config| # 我們定義一個 Ubuntu 的機器 # box 的需求是對於 local 的 VM 才需要的 # 所以在 provider 是 vmware_fusion 或 Virtualbox 時，才會用到這個設定 config.vm.box = "hashicorp/precise64" # vmware_fusion config.vm.provider "vmware_fusion" do |v, override| override.vm.box = "precise64_vmware" v.gui = false end # vsphere config.vm.provider :vsphere do |vsphere| # 對於私有雲及公有雲，要clone 的vm 是儲存在雲端上的 # 所以 box 使用 dummy box 來達到這個目的 vsphere.vm.box = "nkhasanov/vsphere-simple" vsphere.host = 'YOURIP' vsphere.compute_resource_name = 'YOUR DATACENTER' vsphere.resource_pool_name = 'YOUR RESOURCE POOL' vsphere.insecure = true vsphere.template_name = 'VM TEMPLATE' vsphere.name = "#{YOUR_NAME}-test-machine" vsphere.user = 'administrator' vsphere.password = '$p1unK_Lab' vsphere.vm_base_path = 'vmware_template' vsphere.linked_clone = true end # virtual box config.vm.provider "virtualbox" do |vb| vb.gui = false end # aws config.vm.provider :aws do |aws, override| # aws configurations aws.access_key_id = "#{YOUR_AWS_ACCESS_KEY_ID}" aws.secret_access_key = "#{YOUR_AWS_ACCESS_KEY}" aws.keypair_name = "#{YOUR_NAME}" aws.security_groups = "#{YOUR_NAME}" aws.instance_type = "t2.small" aws.region = "us-east-1" # ubuntu 14.04 x64 aws.ami = "ami-864d84ee" # override info override.ssh.username = "ubuntu" override.ssh.private_key_path = "#{YOUR_AWS_PRIVATE_KEY_PATH}" override.vm.synced_folder "#{YOUR_SYNC_FOLDER}", "/vagrant", type: "rsync" override.vm.box = "dimroc/awsdummy" end end LOCAL_BOXS = { "ubuntu1404x64" => "ubuntu/trusty64", "ubuntu1210x64" => "chef/ubuntu-12.10" } AWS_AMIS = { "ubuntu1404x64" => "ami-864d84ee", "ubuntu1210x64" => "ami-02df496b", "windows2012r2x64" => "ami-9ade1df2", "windows2012x64" => "ami-5ce32034", "windows2008r2x64" => "ami-2ae02342", "windows2008x64" => "ami-5e24e936", "windows2003r2x64" => "ami-b0e320d8" } VAGRANTFILE_API_VERSION = "2" Vagrant.configure(VAGRANTFILE_API_VERSION) do |config| config.vm.box = "precise64_vmware" # vmware_fusion config.vm.provider "vmware_fusion" do |v, override| override.vm.box = "precise64_vmware" v.gui = false v.vmx["memsize"] = "1024" v.vmx["numvcpus"] = "2" end # vsphere config.vm.provider :vsphere do |vsphere| vsphere.vm.box = "nkhasanov/vsphere-simple" vsphere.host = '#{}' vsphere.compute_resource_name = '#{}' # vsphere.resource_pool_name = 'YOUR RESOURCE POOL' vsphere.insecure = true vsphere.template_name = 'qasus-tw-centos7x64-01' vsphere.name = "#{YOUR_NAME}-test-machine" vsphere.user = 'administrator' vsphere.password = '#{}' vsphere.vm_base_path = 'vmware_template' vsphere.linked_clone = true end # virtual box config.vm.provider "virtualbox" do |vb| vb.gui = false vb.memory = 1024 vb.cpus = 2 end # aws config.vm.provider :aws do |aws, override| # aws configurations aws.access_key_id = "#{YOUR_AWS_ACCESS_KEY_ID}" aws.secret_access_key = "#{YOUR_AWS_ACCESS_KEY}" aws.keypair_name = "#{YOUR_NAME}" aws.security_groups = "#{YOUR_NAME}" aws.instance_type = "t2.small" aws.region = "us-east-1" # ubuntu 14.04 x64 aws.ami = "ami-864d84ee" # override info override.ssh.username = "ubuntu" override.ssh.private_key_path = "#{YOUR_AWS_PRIVATE_KEY_PATH}" override.vm.synced_folder "#{YOUR_SYNC_FOLDER}", "/vagrant", type: "rsync" override.vm.box = "dimroc/awsdummy" end # VMs (1..MAX_VM_NUMBER).each do |i| # define linux config.vm.define "l#{i}" do |node| # aws node.vm.provider :aws do |aws| aws.tags = { "Name" => "#{YOUR_NAME}-linux-#{i}" } end # local # node.vm.network "private_network", ip: "192.168.33.%d" % (i+2) node.vm.hostname = "ftan-linux-#{i}" end # define windows config.vm.define "w#{i}" do |node| node.vm.provider :aws do |aws| aws.ami = "ami-2ae02342" aws.tags = { "Name" => "#{YOUR_NAME}-windows-#{i}" } end end end # define customer YOUR_CUSTOMIZED_VM.each do |vm| config.vm.define "%s" % vm["name"] do |node| # aws node.vm.provider :aws do |aws| aws.ami = AWS_AMIS[vm["platform"]] aws.tags = { "Name" => "#{YOUR_NAME}-%s" % vm["name"] } end # vmware fusion # vmware workstation node.vm.provider :vmware_fusion do |fusion| fusion.vm.box = LOCAL_BOXS[vm["platform"]] fusion.vm.hostname = "#{YOUR_NAME}-%s" % vm["name"] end # vsphere # azure end end end</p></a></div><div class=card-footer><span class=float-start>Friday, October 2, 2020
</span><a href=/posts/2020/20201002-10158898/ class="float-end btn btn-outline-info btn-sm">Read</a></div></div></div><div class=post-card><div class=card><div class=card-head><a href=/posts/2020/20200929-how-to-config-chronyd-on-rhel7-centos7/ class=post-card-link><img class=card-img-top src=/images/hero/linux.png alt="Hero Image"></a></div><div class=card-body><a href=/posts/2020/20200929-how-to-config-chronyd-on-rhel7-centos7/ class=post-card-link><h5 class=card-title>如何設定時區與NTP服務在RHEL7/CentOS7</h5><p class="card-text post-summary">如何設定時區與 NTP 服務在 RHEL7/CentOS7 chrony 包含兩個程序，chronyd 是一個可以在啟動時啟動的守護進程，chronyc 是一個命令行界面程序，可用於監控 chronyd 的性能並在運行時更改各種運行參數。
注意 ntpd 和 chronyd 擇一就可，不要同時運作。
設定時區 ~# timedatectl set-timezone Asia/Taipei ~# timedatectl Local time: Tue 2018-03-27 14:13:38 CST Universal time: Tue 2018-03-27 06:13:38 UTC RTC time: Tue 2018-03-27 06:13:40 Time zone: Asia/Taipei (CST, +0800) NTP enabled: no NTP synchronized: no RTC in local TZ: no DST active: n/a 設定 chronyd # 安裝 ~# yum install -y chrony # 配置設定檔 ~# cat /etc/chrony.conf # Use public servers from the pool.ntp.org project. # Please consider joining the pool (http://www.pool.ntp.org/join.html). server 0.tw.pool.ntp.org iburst --->改成本地的伺服器 server 1.tw.pool.ntp.org iburst --->改成本地的伺服器 server 2.tw.pool.ntp.org iburst --->改成本地的伺服器 server 3.tw.pool.ntp.org iburst --->改成本地的伺服器 # 啟動服務和設為開機時啟動 ~# systemctl enable chronyd ~# systemctl start chronyd racking 參數顯示有關系統時間效能 ~# chronyc tracking Reference ID : 3DD8996B (61-216-153-107.hinet-ip.hinet.net) --->表示現在同步的時間伺服器，如果沒有id表示沒有同步 Stratum : 4 --->表示計算機有多少"跳hop" 表示本地的是第四層 Ref time (UTC) : Tue Mar 27 06:03:38 2018 --->最後一次測量的時間 System time : 0.000040356 seconds fast of NTP time --->調整系統時間 Last offset : +0.000163738 seconds RMS offset : 0.000163738 seconds Frequency : 21.384 ppm fast Residual freq : +0.000 ppm Skew : 675.319 ppm Root delay : 0.008527911 seconds Root dispersion : 0.066466033 seconds Update interval : 2.0 seconds Leap status : Normal --->Normal要顯示此值, Insert second, Delete second or Not synchronised. ~# chronyc sources -v 210 Number of sources = 4 .-- Source mode '^' = server, '=' = peer, '#' = local clock. / .- Source state '*' = current synced, '+' = combined , '-' = not combined, | / '?' = unreachable, 'x' = time may be in error, '~' = time too variable. || .- xxxx [ yyyy ] +/- zzzz || Reachability register (octal) -. | xxxx = adjusted offset, || Log2(Polling interval) --. | | yyyy = measured offset, || \ | | zzzz = estimated error. || | | \ MS Name/IP address Stratum Poll Reach LastRx Last sample =============================================================================== ^* 59-124-29-241.hinet-ip.h> 3 6 37 24 -1462us[-2363us] +/- 49ms ^+ 61-216-153-107.hinet-ip.> 3 6 37 23 -556us[ -556us] +/- 64ms ^? 59-125-122-217.hinet-ip.> 0 7 0 - +0ns[ +0ns] +/- 0ns ^- 61-216-153-105.hinet-ip.> 3 6 37 23 -280us[ -280us] +/- 64ms 看同步源頭的資訊 ~# chronyc sourcestats -v 210 Number of sources = 4 .- Number of sample points in measurement set. / .- Number of residual runs with same sign. | / .- Length of measurement set (time). | | / .- Est. clock freq error (ppm). | | | / .- Est. error in freq. | | | | / .- Est. offset. | | | | | | On the -. | | | | | | samples. \ | | | | | | | Name/IP Address NP NR Span Frequency Freq Skew Offset Std Dev ============================================================================== 59-124-29-241.hinet-ip.h> 6 5 135 -0.454 4.553 -784us 66us 61-216-153-107.hinet-ip.> 6 6 135 +4.455 19.761 +622us 247us 59-125-122-217.hinet-ip.> 0 0 0 +0.000 2000.000 +0ns 4000ms 61-216-153-105.hinet-ip.> 6 4 136 +8.965 42.440 +1250us 495us 將系統時間寫到硬體(主機板上的時間)上 ~# hwclock --systohc ~# date ; hwclock Tue Mar 27 14:07:57 CST 2018 Tue 27 Mar 2018 02:07:58 PM CST -0.938012 seconds</p></a></div><div class=card-footer><span class=float-start>Tuesday, September 29, 2020
</span><a href=/posts/2020/20200929-how-to-config-chronyd-on-rhel7-centos7/ class="float-end btn btn-outline-info btn-sm">Read</a></div></div></div><div class=post-card><div class=card><div class=card-head><a href=/posts/2020/20200925-install-powerdns-and-powerdns-admin-on-ubuntu/ class=post-card-link><img class=card-img-top src=/images/hero/linux.png alt="Hero Image"></a></div><div class=card-body><a href=/posts/2020/20200925-install-powerdns-and-powerdns-admin-on-ubuntu/ class=post-card-link><h5 class=card-title>Install PowerDNS and PowerDNS-Admin on Ubuntu 22.04|20.04|18.04</h5><p class="card-text post-summary">Install PowerDNS and PowerDNS-Admin on Ubuntu 22.04|20.04|18.04 Master-Master PowerDNS with Galera Replication https://www.scaleway.com/en/docs/installing-powerdns-server-on-ubuntu-bionic/ Install PowerDNS $ sudo apt update $ sudo apt install mariadb-server -y $ sudo mysql -u root CREATE DATABASE powerdns; GRANT ALL ON powerdns.* TO 'powerdns'@'localhost' IDENTIFIED BY 'Str0ngPasswOrd'; FLUSH PRIVILEGES; USE powerdns; CREATE TABLE domains ( id INT AUTO_INCREMENT, name VARCHAR(255) NOT NULL, master VARCHAR(128) DEFAULT NULL, last_check INT DEFAULT NULL, type VARCHAR(6) NOT NULL, notified_serial INT UNSIGNED DEFAULT NULL, account VARCHAR(40) CHARACTER SET 'utf8' DEFAULT NULL, PRIMARY KEY (id) ) Engine=InnoDB CHARACTER SET 'latin1'; CREATE UNIQUE INDEX name_index ON domains(name); CREATE TABLE records ( id BIGINT AUTO_INCREMENT, domain_id INT DEFAULT NULL, name VARCHAR(255) DEFAULT NULL, type VARCHAR(10) DEFAULT NULL, content VARCHAR(64000) DEFAULT NULL, ttl INT DEFAULT NULL, prio INT DEFAULT NULL, change_date INT DEFAULT NULL, disabled TINYINT(1) DEFAULT 0, ordername VARCHAR(255) BINARY DEFAULT NULL, auth TINYINT(1) DEFAULT 1, PRIMARY KEY (id) ) Engine=InnoDB CHARACTER SET 'latin1'; CREATE INDEX nametype_index ON records(name,type); CREATE INDEX domain_id ON records(domain_id); CREATE INDEX ordername ON records (ordername); CREATE TABLE supermasters ( ip VARCHAR(64) NOT NULL, nameserver VARCHAR(255) NOT NULL, account VARCHAR(40) CHARACTER SET 'utf8' NOT NULL, PRIMARY KEY (ip, nameserver) ) Engine=InnoDB CHARACTER SET 'latin1'; CREATE TABLE comments ( id INT AUTO_INCREMENT, domain_id INT NOT NULL, name VARCHAR(255) NOT NULL, type VARCHAR(10) NOT NULL, modified_at INT NOT NULL, account VARCHAR(40) CHARACTER SET 'utf8' DEFAULT NULL, comment TEXT CHARACTER SET 'utf8' NOT NULL, PRIMARY KEY (id) ) Engine=InnoDB CHARACTER SET 'latin1'; CREATE INDEX comments_name_type_idx ON comments (name, type); CREATE INDEX comments_order_idx ON comments (domain_id, modified_at); CREATE TABLE domainmetadata ( id INT AUTO_INCREMENT, domain_id INT NOT NULL, kind VARCHAR(32), content TEXT, PRIMARY KEY (id) ) Engine=InnoDB CHARACTER SET 'latin1'; CREATE INDEX domainmetadata_idx ON domainmetadata (domain_id, kind); CREATE TABLE cryptokeys ( id INT AUTO_INCREMENT, domain_id INT NOT NULL, flags INT NOT NULL, active BOOL, content TEXT, PRIMARY KEY(id) ) Engine=InnoDB CHARACTER SET 'latin1'; CREATE INDEX domainidindex ON cryptokeys(domain_id); CREATE TABLE tsigkeys ( id INT AUTO_INCREMENT, name VARCHAR(255), algorithm VARCHAR(50), secret VARCHAR(255), PRIMARY KEY (id) ) Engine=InnoDB CHARACTER SET 'latin1'; CREATE UNIQUE INDEX namealgoindex ON tsigkeys(name, algorithm); $ sudo systemctl disable systemd-resolved $ sudo systemctl stop systemd-resolved $ ls -lh /etc/resolv.conf lrwxrwxrwx 1 root root 39 Jul 24 15:50 /etc/resolv.conf -> ../run/systemd/resolve/stub-resolv.conf $ sudo unlink /etc/resolv.conf $ echo "nameserver 8.8.8.8" | sudo tee /etc/resolv.conf Add official PowerDNS repository for Ubuntu 22.04|20.04|18.04.</p></a></div><div class=card-footer><span class=float-start>Friday, September 25, 2020
</span><a href=/posts/2020/20200925-install-powerdns-and-powerdns-admin-on-ubuntu/ class="float-end btn btn-outline-info btn-sm">Read</a></div></div></div><div class=post-card><div class=card><div class=card-head><a href=/posts/2020/20200918-ubuntu-18-04/ class=post-card-link><img class=card-img-top src=/images/hero/linux.png alt="Hero Image"></a></div><div class=card-body><a href=/posts/2020/20200918-ubuntu-18-04/ class=post-card-link><h5 class=card-title>Ubuntu 18.04 透過 netplan 設定網路卡 IP</h5><p class="card-text post-summary">Ubuntu 18.04 透過 netplan 設定網路卡 IP 照上面的說明看了一下 /etc/netplan 目錄，查閱一下 /etc/netplan/50-cloud-init.yaml，如下：
# This file is generated from information provided by # the datasource. Changes to it will not persist across an instance. # To disable cloud-init's network configuration capabilities, write a file # /etc/cloud/cloud.cfg.d/99-disable-network-config.cfg with the following: # network: {config: disabled} network: ethernets: ens192: dhcp4: true ens224: dhcp4: true version: 2 看來可以關閉 cloud network，但是我其實也沒有要用 cloud-init，乾脆移除它，如下：
sudo apt-get remove cloud-init
然後把 /etc/netplan/50-cloud-init.yaml 改成下面這樣：
# This file is generated from information provided by # the datasource. Changes to it will not persist across an instance. # To disable cloud-init's network configuration capabilities, write a file # /etc/cloud/cloud.cfg.d/99-disable-network-config.cfg with the following: # network: {config: disabled} network: ethernets: ens192: addresses: [192.168.32.231/24] gateway4: 192.168.32.1 nameservers: addresses: [8.8.8.8, 8.8.4.4] dhcp4: no ens224: dhcp4: true version: 2 這幾年 yaml 深得大眾的心，設定檔就是要用 yaml 格式才是潮，解說一下上述幾個設定：</p></a></div><div class=card-footer><span class=float-start>Friday, September 18, 2020
</span><a href=/posts/2020/20200918-ubuntu-18-04/ class="float-end btn btn-outline-info btn-sm">Read</a></div></div></div><div class=post-card><div class=card><div class=card-head><a href=/posts/2020/20200917-5b892a0b2b71775d1ce04eff/ class=post-card-link><img class=card-img-top src=/images/hero/linux.png alt="Hero Image"></a></div><div class=card-body><a href=/posts/2020/20200917-5b892a0b2b71775d1ce04eff/ class=post-card-link><h5 class=card-title>openvpn部署之部署基於AD域認證</h5><p class="card-text post-summary">openvpn 部署之部署基於 AD 域認證 OpenVPN + PAM + SSSD + Active Directory https://computingforgeeks.com/install-and-configure-openvpn-server-on-rhel-centos-8/ https://www.redhat.com/en/blog/consistent-security-crypto-policies-red-hat-enterprise-linux-8 https://medium.com/jerrynotes/linux-authentication-windows-ad-without-join-domain-7963c3fd44c5 # 安裝openvpn yum install openvpn -y yum -y install openssl openssl-devel -y yum -y install lzo lzo-devel -y yum install -y libgcrypt libgpg-error libgcrypt-devel # 安裝openvpn認證插件 yum install openvpn-auth-ldap -y # 安裝easy-rsa # 由於openvpn2.3之後，在openvpn裏面剔除了easy-rsa文件，所以需要單獨安裝 yum install easy-rsa cp -rf /usr/share/easy-rsa/2.0 /etc/opevpn/ # 生成openvpn的key及證書 # 修改 `/opt/openvpn/etc/easy-rsa/2.0/vars` 參數 export KEY_COUNTRY="CN" # 國家 export KEY_PROVINCE="ZJ" # 省份 export KEY_CITY="NingBo" # 城市 export KEY_ORG="TEST-VPN" # 組織 exportKEY_EMAIL="81367070@qq.com" # 郵件 export KEY_OU="baidu" # 單位 source vars ./clean-all ./build-ca ./build-dh ./build-key-server server ./build-key client1 # 編輯openvpn服務端配置文件：`/etc/openvpn/server.conf` port 1194 proto udp dev tun ca keys/ca.crt cert keys/server.crt key keys/server.key # This file should be kept secret dh keys/dh2048.pem server 10.8.0.0 255.255.255.0 //客戶端分配的ip地址 push "route 192.168.1.0 255.255.255.0" //推送客戶端的路由 push "redirect-gateway" //修改客戶端的網關，使其直接走vpn流量 ifconfig-pool-persist ipp.txt keepalive 10 120 comp-lzo persist-key persist-tun status openvpn-status.log verb 3 plugin /usr/lib64/openvpn/plugin/lib/openvpn-auth-ldap.so "/etc/openvpn/auth/ldap.conf" client-cert-not-required username-as-common-name log /var/log/openvpn.log # 修改openvpn-ldap-auth的配置文件 `/etc/openvpn/auth/ldap.conf` # /etc/openvpn/auth/ldap.conf &lt;LDAP> # LDAP server URL # 更改爲 AD 服務器的 IP URL ldap://172.16.76.238:389 # Bind DN (If your LDAP server doesn't support anonymous binds) # BindDN uid=Manager,ou=People,dc=example,dc=com # 更改爲域管理的 DN, 可以通過 ldapsearch 進行查詢 # -h 的 ip 替換爲服務器 ip，-D 換爲管理員的 dn，-b 爲基礎的查詢 dn，* 爲所有 # ldapsearch -LLL -x -h 172.16.76.238 -D "administrator@xx.com" -W -b "dc=xx,dc=com" "*" BindDN "cn=administrator,cn=Users,dc=xx,dc=com" # Bind Password # Password SecretPassword # 域管理員的密碼 Password passwd # Network timeout (in seconds) Timeout 15 # Enable Start TLS TLSEnable no # Follow LDAP Referrals (anonymously) FollowReferrals no # TLS CA Certificate File # TLSCACertFile /usr/local/etc/ssl/ca.pem # TLS CA Certificate Directory # TLSCACertDir /etc/ssl/certs # Client Certificate and key # If TLS client authentication is required # TLSCertFile /usr/local/etc/ssl/client-cert.pem # TLSKeyFile /usr/local/etc/ssl/client-key.pem # Cipher Suite # The defaults are usually fine here # TLSCipherSuite ALL:!ADH:@STRENGTH &lt;/LDAP> &lt;Authorization> # Base DN # 查詢認證的基礎 dn BaseDN "dc=boqii-inc,dc=com" # User Search Filter # SearchFilter "(&(uid=%u)(accountStatus=active))" # 其中 sAMAccountName=%u 的意思是把 sAMAccountName 的字段取值爲用戶名， # 後面 "memberof=CN=myvpn,DC=xx,DC=com" 指向要認證的 vpn 用戶組， # 這樣任何用戶使用 vpn，只要加入這個組就好了 SearchFilter "(&(sAMAccountName=%u)(memberof=CN=myvpn,DC=boqii-inc,DC=com))" # Require Group Membership RequireGroup false # Add non-group members to a PF table (disabled) # PFTable ips_vpn_users &lt;Group> # BaseDN "ou=Groups,dc=example,dc=com" # SearchFilter "(|(cn=developers)(cn=artists))" # MemberAttribute uniqueMember # Add group members to a PF table (disabled) # PFTable ips_vpn_eng BaseDN "ou=vpn,dc=boqii-inc,dc=com" SearchFilter "(cn=openvpn)" MemberAttribute "member" &lt;/Group> &lt;/Authorization> 拷貝/etc/openvpn/key目錄下的ca.crt證書，以備客戶端使用。</p></a></div><div class=card-footer><span class=float-start>Thursday, September 17, 2020
</span><a href=/posts/2020/20200917-5b892a0b2b71775d1ce04eff/ class="float-end btn btn-outline-info btn-sm">Read</a></div></div></div><div class=post-card><div class=card><div class=card-head><a href=/posts/2020/20200914-about-using-docker-config/ class=post-card-link><img class=card-img-top src=/images/hero/docker.jpeg alt="Hero Image"></a></div><div class=card-body><a href=/posts/2020/20200914-about-using-docker-config/ class=post-card-link><h5 class=card-title>Docker Tips: Using Docker Config</h5><p class="card-text post-summary">Docker Tips: Using Docker Config FROM nginx:1.13.6 COPY nginx.conf /etc/nginx/nginx.conf Using the Docker CLI, we can create a config from this configuration file, we name this config proxy.
$ docker config create proxy nginx.conf mdcfnxud53ve6jgcgjkhflg0s $ docker config inspect proxy [ { "ID": "x06uaozphg9kbnf8g4az4mucn", "Version": { "Index": 2723 }, "CreatedAt": "2017-11-21T07:49:09.553666064Z", "UpdatedAt": "2017-11-21T07:49:09.553666064Z", "Spec": { "Name": "proxy", "Labels": {}, "Data": "dXNlciB3d3ctZGF0YTsKd29y...ogIgICAgIH0KICAgIH0KfQo=" } } ] Use a Config $ docker network create --driver overlay front $ docker service create --name api --network front lucj/api $ docker service create --name proxy \ --network front \ --config src=proxy,target=/etc/nginx/nginx.conf \ --port 8000:8000 \ nginx:1.13.6 Service Update When the content of a configuration needs to be modified, it&rsquo;s a common pattern to create a new config (using docker config create), and then to update the service order to remove the access to the previous config, and to add the access to the new one. The service commands are--config-rm and --config-add.</p></a></div><div class=card-footer><span class=float-start>Monday, September 14, 2020
</span><a href=/posts/2020/20200914-about-using-docker-config/ class="float-end btn btn-outline-info btn-sm">Read</a></div></div></div><div class=post-card><div class=card><div class=card-head><a href=/posts/2020/20200908-dediziertes-management-interface-fur-fortigate-im-ha-betrieb/ class=post-card-link><img class=card-img-top src=/images/default-hero.jpg alt="Hero Image"></a></div><div class=card-body><a href=/posts/2020/20200908-dediziertes-management-interface-fur-fortigate-im-ha-betrieb/ class=post-card-link><h5 class=card-title>Fortigate Management Interface in HA Mode</h5><p class="card-text post-summary">Fortigate Management Interface in HA Mode First you activate the feature config system ha set ha-mgmt-status enable config ha-mgmt-interfaces edit 1 set interface wan2 set gateway 192.168.147.254 next end end Do not forget to set a default gateway. This interface is isolated and requires its own routing.
Then you assign an individual IP address to every node in the cluster System1
config system interface edit wan2 set ip 10.11.101.101/24 set allowaccess https ping ssh snmp next end System2</p></a></div><div class=card-footer><span class=float-start>Tuesday, September 8, 2020
</span><a href=/posts/2020/20200908-dediziertes-management-interface-fur-fortigate-im-ha-betrieb/ class="float-end btn btn-outline-info btn-sm">Read</a></div></div></div><div class=post-card><div class=card><div class=card-head><a href=/posts/2020/20200825-how-to-automatically-resize-virtual-box-disk-with-vagrant/ class=post-card-link><img class=card-img-top src=/images/default-hero.jpg alt="Hero Image"></a></div><div class=card-body><a href=/posts/2020/20200825-how-to-automatically-resize-virtual-box-disk-with-vagrant/ class=post-card-link><h5 class=card-title>How to automatically resize virtual box disk with vagrant</h5><p class="card-text post-summary">How to automatically resize virtual box disk with vagrant Increasing Disk Space of a Linux-based Vagrant Box on Provisioning Vagrant.configure(2) do |config| config.vm.box = "centos/7" config.disksize.size = '20GB' end $ sudo parted /dev/sda resizepart 2 100% $ sudo lvextend -l +100%FREE /dev/centos/root $ sudo xfs_growfs /dev/centos/root Automate Part Vagrant.configure(2) do |config| common = &lt;&lt;-SCRIPT sudo parted /dev/sda resizepart 2 100% sudo pvresize /dev/sda2 sudo lvextend -l +100%FREE /dev/centos/root sudo xfs_growfs /dev/centos/root SCRIPT config.vm.define "node01" do |node1| node1.vm.hostname = "node01" node1.vm.network "private_network", ip: "192.168.56.121" config.vm.provision :shell, :inline => common end end vagrant plugin install vagrant-disksize
Vagrantfile # Fail if the vagrant-disksize plugin is not installed unless Vagrant.has_plugin?("vagrant-disksize") raise 'vagrant-disksize is not installed!' end Vagrant.configure("2") do |config| config.vm.provider "virtualbox" do |vb| vb.name = "DISKEXTEND" vb.memory = 2048 vb.cpus = 2 end config.vm.define :"DISKEXTEND" do |t| end config.vm.hostname = "DISKEXTEND" config.vm.box = "bento/ubuntu-18.04" # Increase the default disk size of the bento image (64GB) to 96GB config.disksize.size = "96GB" # Run a script on provisioning the box to format the file system config.vm.provision "shell", path: "disk-extend.sh" end Provisioning Script: disk-extend.sh #!/bin/bash echo "> Installing required tools for file system management" if [ -n "$(command -v yum)" ]; then echo ">> Detected yum-based Linux" sudo yum makecache sudo yum install -y util-linux sudo yum install -y lvm2 sudo yum install -y e2fsprogs fi if [ -n "$(command -v apt-get)" ]; then echo ">> Detected apt-based Linux" sudo apt-get update -y sudo apt-get install -y fdisk sudo apt-get install -y lvm2 sudo apt-get install -y e2fsprogs fi ROOT_DISK_DEVICE="/dev/sda" ROOT_DISK_DEVICE_PART="/dev/sda1" LV_PATH=`sudo lvdisplay -c | sed -n 1p | awk -F ":" '{print $1;}'` FS_PATH=`df / | sed -n 2p | awk '{print $1;}'` ROOT_FS_SIZE=`df -h / | sed -n 2p | awk '{print $2;}'` echo "The root file system (/) has a size of $ROOT_FS_SIZE" echo "> Increasing disk size of $ROOT_DISK_DEVICE to available maximum" sudo fdisk $ROOT_DISK_DEVICE &lt;&lt;EOF d n p 1 2048 no w EOF sudo pvresize $ROOT_DISK_DEVICE_PART sudo lvextend -l +100%FREE $LV_PATH sudo resize2fs -p $FS_PATH ROOT_FS_SIZE=`df -h / | sed -n 2p | awk '{print $2;}'` echo "The root file system (/) has a size of $ROOT_FS_SIZE" exit 0</p></a></div><div class=card-footer><span class=float-start>Tuesday, August 25, 2020
</span><a href=/posts/2020/20200825-how-to-automatically-resize-virtual-box-disk-with-vagrant/ class="float-end btn btn-outline-info btn-sm">Read</a></div></div></div></div><div class=paginator><ul class="pagination pagination-default"><li class=page-item><a href=/tags/url/ aria-label=First class=page-link role=button><span aria-hidden=true>&#171;&#171;</span></a></li><li class=page-item><a href=/tags/url/page/16/ aria-label=Previous class=page-link role=button><span aria-hidden=true>&#171;</span></a></li><li class=page-item><a href=/tags/url/page/15/ aria-label="Page 15" class=page-link role=button>15</a></li><li class=page-item><a href=/tags/url/page/16/ aria-label="Page 16" class=page-link role=button>16</a></li><li class="page-item active"><a aria-current=page aria-label="Page 17" class=page-link role=button>17</a></li><li class=page-item><a href=/tags/url/page/18/ aria-label="Page 18" class=page-link role=button>18</a></li><li class=page-item><a href=/tags/url/page/19/ aria-label="Page 19" class=page-link role=button>19</a></li><li class=page-item><a href=/tags/url/page/18/ aria-label=Next class=page-link role=button><span aria-hidden=true>&#187;</span></a></li><li class=page-item><a href=/tags/url/page/22/ aria-label=Last class=page-link role=button><span aria-hidden=true>&#187;&#187;</span></a></li></ul></div></div></section></div><footer id=footer class="container-fluid text-center align-content-center footer pb-2"><div class="container pt-5"><div class="row text-start"><div class="col-md-4 col-sm-12"><h5>Navigation</h5><ul><li class=nav-item><a class=smooth-scroll href=https://linzeyan.github.io/#about>About</a></li><li class=nav-item><a class=smooth-scroll href=https://linzeyan.github.io/#skills>Skills</a></li><li class=nav-item><a class=smooth-scroll href=https://linzeyan.github.io/#experiences>Experiences</a></li><li class=nav-item><a class=smooth-scroll href=https://linzeyan.github.io/#education>Education</a></li><li class=nav-item><a class=smooth-scroll href=https://linzeyan.github.io/#projects>Projects</a></li></ul></div><div class="col-md-4 col-sm-12"><h5>Contact me:</h5><ul><li><a href=mailto:zeyanlin@outlook.com target=_blank rel=noopener><span><i class="fas fa-envelope"></i></span> <span>zeyanlin@outlook.com</span></a></li><li><a href=https://github.com/linzeyan target=_blank rel=noopener><span><i class="fab fa-github"></i></span> <span>linzeyan</span></a></li><li><a href=https://www.strava.com/athletes/rickylin target=_blank rel=noopener><span><i class="fab fa-fab fa-strava"></i></span> <span>Ricky</span></a></li><li><a href=https://t.me/ricky_lin target=_blank rel=noopener><span><i class="fab fa-fab fa-telegram"></i></span> <span>Ricky</span></a></li></ul></div></div></div></footer><script src=/application.eed5c22001d7c9cc6de7d8db62219c198319957fa017da141928bee1c40883b4.js integrity="sha256-7tXCIAHXycxt59jbYiGcGYMZlX+gF9oUGSi+4cQIg7Q=" defer></script></body></html>