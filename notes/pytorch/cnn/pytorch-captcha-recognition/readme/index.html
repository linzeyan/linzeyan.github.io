<!doctype html><html lang=en><head><title></title><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=X-UA-Compatible content="ie=edge"><link rel=stylesheet href=/application.780dc7a6fc8e42bf9fef490724bc6cbc57e759a0db2df60fcd517f9f667085ed.css integrity="sha256-eA3HpvyOQr+f70kHJLxsvFfnWaDbLfYPzVF/n2Zwhe0="><link rel=icon type=image/png href=/images/site/highlight.svg><meta property="og:title" content="Ricky"><meta property="og:type" content="website"><meta property="og:description" content="Ricky's Page."><meta property="og:image" content="/images/author/ava.jpg"><meta property="og:url" content="https://linzeyan.github.io/"><script defer src=https://static.cloudflareinsights.com/beacon.min.js data-cf-beacon='{"token": "27a0cd9f0e3b46909879cf99f7cc6878"}'></script><script integrity="sha256-DO4ugzEwhTW1Id1UIWn0gUJWaebCYOypeTit6LW4QB4=">let theme=localStorage.getItem("theme-scheme")||localStorage.getItem("darkmode:color-scheme")||"light";theme==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?theme="dark":theme="light"),document.documentElement.setAttribute("data-theme",theme)</script></head><body class="type-notes kind-page" data-bs-spy=scroll data-bs-target=#TableOfContents data-bs-offset=80><div class="container-fluid bg-secondary wrapper"><nav class="navbar navbar-expand-xl top-navbar shadow" id=top-navbar><div class=container><button class="navbar-toggler navbar-light" id=sidebar-toggler type=button>
<i data-feather=sidebar></i>
</button>
<a class=navbar-brand href=/><img src=/images/site/highlight.svg id=logo alt=Logo>
Ricky</a>
<button class="navbar-toggler navbar-light" id=navbar-toggler type=button data-bs-toggle=collapse data-bs-target=#top-nav-items aria-label=menu>
<i data-feather=menu></i></button><div class="collapse navbar-collapse dynamic-navbar" id=top-nav-items><ul class="nav navbar-nav ms-auto"><li class=nav-item><a class=nav-link href=/#home>Home</a></li><li class=nav-item><a class=nav-link href=/#about>About</a></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-bs-toggle=dropdown aria-haspopup=true aria-expanded=false>More</a><div class=dropdown-menu aria-labelledby=navbarDropdown><a class=dropdown-item href=/#skills>Skills</a>
<a class=dropdown-item href=/#experiences>Experiences</a>
<a class=dropdown-item href=/#education>Education</a>
<a class=dropdown-item href=/#projects>Projects</a></div></li><div id=top-navbar-divider></div><li class=nav-item><a class=nav-link id=blog-link href=/posts>Posts</a></li><li class=nav-item><a class=nav-link id=note-link href=/notes>Notes</a></li><li class=nav-item><a class=nav-link href=https://linzeyan.github.io/activities>Activities</a></li><li class=nav-item><a class=nav-link href=https://transforms.pages.dev/>Transform</a></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# id=themeSelector role=button data-bs-toggle=dropdown aria-haspopup=true aria-expanded=false><img id=navbar-theme-icon-svg class=theme-icon src=/icons/moon-svgrepo-com.svg width=20 alt="Dark Theme"></a><div id=themeMenu class="dropdown-menu dropdown-menu-icons-only" aria-labelledby=themeSelector><a class="dropdown-item nav-link" href=# data-scheme=light><img class=theme-icon src=/icons/sun-svgrepo-com.svg width=20 alt="Light Theme">
</a><a class="dropdown-item nav-link" href=# data-scheme=dark><img class=theme-icon src=/icons/moon-svgrepo-com.svg width=20 alt="Dark Theme">
</a><a class="dropdown-item nav-link" href=# data-scheme=system><img class=theme-icon src=/icons/computer-svgrepo-com.svg width=20 alt="System Theme"></a></div></li></ul></div></div><img src=/images/site/highlight.svg class=d-none id=main-logo alt=Logo>
<img src=/images/site/highlight.svg class=d-none id=inverted-logo alt="Inverted Logo"></nav><section class=sidebar-section id=sidebar-section><div class=sidebar-holder><div class=sidebar id=sidebar><form class=mx-auto method=get action=/search><input type=text name=keyword placeholder=Search data-search id=search-box></form><div class=sidebar-tree><ul class=tree id=tree><li id=list-heading><a href=/notes data-filter=all>Notes</a></li><div class=subtree><li><i data-feather=plus-circle></i><a class=list-link href=/notes/aws/> AWS</a><ul><li><a class=list-link href=/notes/aws/command/ title=command>command</a></li><li><a class=list-link href=/notes/aws/configure/ title=configure>configure</a></li><li><a class=list-link href=/notes/aws/terraform/ title=terraform>terraform</a></li></ul></li><li><i data-feather=plus-circle></i><a class=list-link href=/notes/bash/> Bash</a><ul><li><a class=list-link href=/notes/bash/ansible/ title=ansible>ansible</a></li><li><a class=list-link href=/notes/bash/common/ title=common>common</a></li><li><a class=list-link href=/notes/bash/docker/ title=docker>docker</a></li><li><a class=list-link href=/notes/bash/file/ title=file>file</a></li><li><a class=list-link href=/notes/bash/git/ title=git>git</a></li><li><a class=list-link href=/notes/bash/gitlab/ title=gitlab>gitlab</a></li><li><a class=list-link href=/notes/bash/gpg/ title=gpg>gpg</a></li><li><a class=list-link href=/notes/bash/k8s/ title=k8s>k8s</a></li><li><a class=list-link href=/notes/bash/network/ title=network>network</a></li><li><a class=list-link href=/notes/bash/pandoc/ title=pandoc>pandoc</a></li><li><a class=list-link href=/notes/bash/redis/ title=redis>redis</a></li><li><a class=list-link href=/notes/bash/ssh/ title=ssh>ssh</a></li><li><a class=list-link href=/notes/bash/telegram/ title=telegram>telegram</a></li></ul></li><li><i data-feather=plus-circle></i><a class=list-link href=/notes/docs/> Docs</a><ul><li><a class=list-link href=/notes/docs/cloudflare/ title=cloudflare>cloudflare</a></li><li><a class=list-link href=/notes/docs/diagrams/ title=diagrams>diagrams</a></li><li><a class=list-link href=/notes/docs/docker/ title=docker>docker</a></li><li><a class=list-link href=/notes/docs/gitlab/ title=gitlab>gitlab</a></li><li><a class=list-link href=/notes/docs/linux/ title=linux>linux</a></li><li><a class=list-link href=/notes/docs/mermaid/ title=mermaid>mermaid</a></li><li><a class=list-link href=/notes/docs/network/ title=network>network</a></li><li><a class=list-link href=/notes/docs/nginx/ title=nginx>nginx</a></li><li><a class=list-link href=/notes/docs/vagrant/ title=vagrant>vagrant</a></li><li><a class=list-link href=/notes/docs/zabbix/ title=zabbix>zabbix</a></li></ul></li><li><a class=list-link href=/notes/elasticsearch/ title=Elasticsearch>Elasticsearch</a></li><li><i data-feather=plus-circle></i><a class=list-link href=/notes/gcp/> GCP</a><ul><li><a class=list-link href=/notes/gcp/command/ title=command>command</a></li></ul></li><li><i data-feather=plus-circle></i><a class=list-link href=/notes/go/> Go</a><ul><li><a class=list-link href=/notes/go/libraries/ title=Libraries>Libraries</a></li><li><i data-feather=plus-circle></i><a class=list-link href=/notes/go/questions/> Questions</a><ul><li><a class=list-link href=/notes/go/questions/array/ title=Array>Array</a></li><li><a class=list-link href=/notes/go/questions/channel/ title=Channel>Channel</a></li><li><a class=list-link href=/notes/go/questions/context/ title=Context>Context</a></li><li><a class=list-link href=/notes/go/questions/defer/ title=Defer>Defer</a></li><li><a class=list-link href=/notes/go/questions/goroutine/ title=Goroutine>Goroutine</a></li><li><a class=list-link href=/notes/go/questions/interface/ title=Interface>Interface</a></li><li><a class=list-link href=/notes/go/questions/iota/ title=Iota>Iota</a></li><li><a class=list-link href=/notes/go/questions/json/ title=JSON>JSON</a></li><li><a class=list-link href=/notes/go/questions/len/ title=Len>Len</a></li><li><a class=list-link href=/notes/go/questions/map/ title=Map>Map</a></li><li><a class=list-link href=/notes/go/questions/print/ title=Print>Print</a></li><li><a class=list-link href=/notes/go/questions/race/ title=Race>Race</a></li><li><a class=list-link href=/notes/go/questions/select/ title=Select>Select</a></li><li><a class=list-link href=/notes/go/questions/slice/ title=Slice>Slice</a></li><li><a class=list-link href=/notes/go/questions/variable/ title=Variable>Variable</a></li></ul></li><li><a class=list-link href=/notes/go/snippet/ title=Snippet>Snippet</a></li><li><a class=list-link href=/notes/go/tools/ title=Tools>Tools</a></li></ul></li><li><a class=list-link href=/notes/input-method/ title=Input-Method>Input-Method</a></li><li><a class=list-link href=/notes/server/ title=Server-Configs>Server-Configs</a></li></div></ul></div></div></div></section><section class=content-section id=content-section><div class="content container-fluid" id=content><div class="container-fluid note-card-holder" id=note-card-holder><h1 id=深度学习识别验证码>深度学习识别验证码</h1><p>本项目致力于使用神经网络来识别各种验证码。</p><h1 id=特性>特性</h1><ul><li><strong>端到端，不需要做更多的图片预处理（比如图片字符切割、图片尺寸归一化、图片字符标记、字符图片特征提取）</strong></li><li><strong>验证码包括数字、大写字母、小写</strong></li><li><strong>采用自己生成的验证码来作为神经网络的训练集合、测试集合、预测集合</strong></li><li><strong>纯四位数字，验证码识别率高达 99.9999 %</strong></li><li><strong>四位数字 + 大写字符，验证码识别率约 96 %</strong></li><li><strong>深度学习框架pytorch + 验证码生成器ImageCaptcha</strong></li></ul><h1 id=原理>原理</h1><ul><li><p><strong>训练集合生成</strong></p><p>使用常用的 Python 验证码生成库 ImageCaptcha，生成 10w 个验证码，并且都自动标记好;
如果需要识别其他的验证码也同样的道理，寻找对应的验证码生成算法自动生成已经标记好的训练集合或者手动对标记，需要上万级别的数量，纯手工需要一定的时间，再或者可以借助一些网络的打码平台进行标记</p></li><li><p><strong>训练卷积神经网络</strong>
构建一个多层的卷积网络，进行多标签分类模型的训练
标记的每个字符都做 one-hot 编码
批量输入图片集合和标记数据，大概15个Epoch后，准确率已经达到 96% 以上</p></li></ul><h1 id=验证码识别率展示>验证码识别率展示</h1><p><img src=https://raw.githubusercontent.com/dee1024/pytorch-captcha-recognition/master/docs/number.png alt>
<img src=https://raw.githubusercontent.com/dee1024/pytorch-captcha-recognition/master/docs/number2.png alt></p><h1 id=快速开始>快速开始</h1><ul><li><p><strong>步骤一：10分钟环境安装</strong></p><p>Python2.7+ 、ImageCaptcha库(pip install captcha)、 Pytorch(参考官网http://pytorch.org)</p></li><li><p><strong>步骤二：生成验证码</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>python captcha_gen.py
</span></span></code></pre></div><p>执行以上命令，会在目录 dataset/train/ 下生成多张验证码图片，图片已经标注好，数量可以是 1w、5w、10w，通过 captcha-gen.py 内的 count 参数设定</p></li><li><p><strong>步骤三：训练模型</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>python captcha_train.py
</span></span></code></pre></div><p>使用步骤一生成的验证码图集合用CNN模型（在 catcha_cnn_model 中定义）进行训练，训练完成会生成文件 model.pkl</p></li><li><p><strong>步骤四：测试模型</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>python captcha_test.py
</span></span></code></pre></div><p>可以在控制台，看到模型的准确率（如 95%） ，如果准确率较低，回到步骤一，生成更多的图片集合再次训练</p></li><li><p><strong>步骤五：使用模型做预测</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>python captcha_predict.py
</span></span></code></pre></div><p>可以在控制台，看到预测输出的结果</p></li></ul><h1 id=贡献>贡献</h1><p>我们期待你的 pull requests !</p><h1 id=作者>作者</h1><ul><li><strong>Dee Qiu</strong> <a href=mailto:coolcooldee@gmail.com>coolcooldee@gmail.com</a></li></ul><h1 id=其它>其它</h1><ul><li><strong>Github项目交流QQ群</strong> 570997546</li></ul><h1 id=声明>声明</h1><p>本项目仅用于交流学习</p></div></div></section></div><footer id=footer class="container-fluid text-center align-content-center footer pb-2"><div class="container pt-5"><div class="row text-start"><div class="col-md-4 col-sm-12"><h5>Navigation</h5><ul><li class=nav-item><a class=smooth-scroll href=https://linzeyan.github.io/#about>About</a></li><li class=nav-item><a class=smooth-scroll href=https://linzeyan.github.io/#skills>Skills</a></li><li class=nav-item><a class=smooth-scroll href=https://linzeyan.github.io/#experiences>Experiences</a></li><li class=nav-item><a class=smooth-scroll href=https://linzeyan.github.io/#education>Education</a></li><li class=nav-item><a class=smooth-scroll href=https://linzeyan.github.io/#projects>Projects</a></li></ul></div><div class="col-md-4 col-sm-12"><h5>Contact me:</h5><ul><li><a href=mailto:zeyanlin@outlook.com target=_blank rel=noopener><span><i class="fas fa-envelope"></i></span> <span>zeyanlin@outlook.com</span></a></li><li><a href=https://github.com/linzeyan target=_blank rel=noopener><span><i class="fab fa-github"></i></span> <span>linzeyan</span></a></li><li><a href=https://www.strava.com/athletes/rickylin target=_blank rel=noopener><span><i class="fab fa-fab fa-strava"></i></span> <span>Ricky</span></a></li><li><a href=https://t.me/ricky_lin target=_blank rel=noopener><span><i class="fab fa-fab fa-telegram"></i></span> <span>Ricky</span></a></li></ul></div></div></div></footer><script src=/application.eed5c22001d7c9cc6de7d8db62219c198319957fa017da141928bee1c40883b4.js integrity="sha256-7tXCIAHXycxt59jbYiGcGYMZlX+gF9oUGSi+4cQIg7Q=" defer></script></body></html>