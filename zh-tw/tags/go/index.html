<!doctype html><html lang=zh-tw><head><title>Go</title><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=X-UA-Compatible content="ie=edge"><link rel=stylesheet href=/application.780dc7a6fc8e42bf9fef490724bc6cbc57e759a0db2df60fcd517f9f667085ed.css integrity="sha256-eA3HpvyOQr+f70kHJLxsvFfnWaDbLfYPzVF/n2Zwhe0="><link rel=icon type=image/png href=/images/site/highlight.svg><link rel=alternate type=application/rss+xml href=https://linzeyan.github.io/zh-tw/tags/go/index.xml title=Ricky><meta property="og:title" content="Ricky"><meta property="og:type" content="website"><meta property="og:description" content="Ricky 的網頁"><meta property="og:image" content="/images/author/ava.jpg"><meta property="og:url" content="https://linzeyan.github.io/"><script defer src=https://static.cloudflareinsights.com/beacon.min.js data-cf-beacon='{"token": "27a0cd9f0e3b46909879cf99f7cc6878"}'></script><script integrity="sha256-DO4ugzEwhTW1Id1UIWn0gUJWaebCYOypeTit6LW4QB4=">let theme=localStorage.getItem("theme-scheme")||localStorage.getItem("darkmode:color-scheme")||"light";theme==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?theme="dark":theme="light"),document.documentElement.setAttribute("data-theme",theme)</script></head><body class="type-tags kind-term" data-bs-spy=scroll data-bs-target=#TableOfContents data-bs-offset=80><div class="container-fluid bg-secondary wrapper"><nav class="navbar navbar-expand-xl top-navbar shadow" id=top-navbar><div class=container><button class="navbar-toggler navbar-light" id=sidebar-toggler type=button>
<i data-feather=sidebar></i>
</button>
<a class=navbar-brand href=/zh-tw><img src=/images/site/highlight.svg id=logo alt=Logo>
Ricky</a>
<button class="navbar-toggler navbar-light" id=navbar-toggler type=button data-bs-toggle=collapse data-bs-target=#top-nav-items aria-label=menu>
<i data-feather=menu></i></button><div class="collapse navbar-collapse dynamic-navbar" id=top-nav-items><ul class="nav navbar-nav ms-auto"><li class=nav-item><a class=nav-link href=/zh-tw#home>首頁</a></li><li class=nav-item><a class=nav-link href=/zh-tw#about>關於</a></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-bs-toggle=dropdown aria-haspopup=true aria-expanded=false>更多的</a><div class=dropdown-menu aria-labelledby=navbarDropdown><a class=dropdown-item href=/zh-tw#skills>技能</a>
<a class=dropdown-item href=/zh-tw#experiences>經歷</a>
<a class=dropdown-item href=/zh-tw#education>學歷</a>
<a class=dropdown-item href=/zh-tw#projects>專案</a></div></li><div id=top-navbar-divider></div><li class=nav-item><a class=nav-link id=blog-link href=/zh-tw/posts>文章</a></li><li class=nav-item><a class=nav-link id=note-link href=/zh-tw/notes>筆記</a></li><li class=nav-item><a class=nav-link href=https://linzeyan.github.io/activities>活動</a></li><li class=nav-item><a class=nav-link href=https://transforms.pages.dev/>Transform</a></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# id=languageSelector role=button data-bs-toggle=dropdown aria-haspopup=true aria-expanded=false><span class="fi fi-tw"></span>
Chinese</a><div class=dropdown-menu aria-labelledby=languageSelector><a class="dropdown-item nav-link languages-item" href=/tags/go><span class="fi fi-us"></span>
English
</a><a class="dropdown-item nav-link languages-item" href=/zh-tw/tags/go><span class="fi fi-tw"></span>
Chinese</a></div></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# id=themeSelector role=button data-bs-toggle=dropdown aria-haspopup=true aria-expanded=false><img id=navbar-theme-icon-svg class=theme-icon src=/icons/moon-svgrepo-com.svg width=20 alt="Dark Theme"></a><div id=themeMenu class="dropdown-menu dropdown-menu-icons-only" aria-labelledby=themeSelector><a class="dropdown-item nav-link" href=# data-scheme=light><img class=theme-icon src=/icons/sun-svgrepo-com.svg width=20 alt="Light Theme">
</a><a class="dropdown-item nav-link" href=# data-scheme=dark><img class=theme-icon src=/icons/moon-svgrepo-com.svg width=20 alt="Dark Theme">
</a><a class="dropdown-item nav-link" href=# data-scheme=system><img class=theme-icon src=/icons/computer-svgrepo-com.svg width=20 alt="System Theme"></a></div></li></ul></div></div><img src=/images/site/highlight.svg class=d-none id=main-logo alt=Logo>
<img src=/images/site/highlight.svg class=d-none id=inverted-logo alt="Inverted Logo"></nav><section class=sidebar-section id=sidebar-section><div class=sidebar-holder><div class=sidebar id=sidebar><form class=mx-auto method=get action=/zh-tw/search><input type=text name=keyword placeholder=搜尋 data-search id=search-box></form><div class=sidebar-tree><ul class=tree id=tree><li id=list-heading><a href=/zh-tw/tags data-filter=all>標籤</a></li><div class="subtree taxonomy-terms"><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/acme/ data-taxonomy-term=acme><span class=taxonomy-label>ACME</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/ad/ data-taxonomy-term=ad><span class=taxonomy-label>AD</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/aes/ data-taxonomy-term=aes><span class=taxonomy-label>AES</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/ai/ data-taxonomy-term=ai><span class=taxonomy-label>AI</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/aliyun/ data-taxonomy-term=aliyun><span class=taxonomy-label>Aliyun</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/ansible/ data-taxonomy-term=ansible><span class=taxonomy-label>Ansible</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/app/ data-taxonomy-term=app><span class=taxonomy-label>APP</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/arceus/ data-taxonomy-term=arceus><span class=taxonomy-label>Arceus</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/argo-cd/ data-taxonomy-term=argo-cd><span class=taxonomy-label>Argo CD</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/ascii/ data-taxonomy-term=ascii><span class=taxonomy-label>ASCII</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/authentication/ data-taxonomy-term=authentication><span class=taxonomy-label>Authentication</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/authorization/ data-taxonomy-term=authorization><span class=taxonomy-label>Authorization</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/bash/ data-taxonomy-term=bash><span class=taxonomy-label>BASH</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/bayonet/ data-taxonomy-term=bayonet><span class=taxonomy-label>Bayonet</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/benchmark/ data-taxonomy-term=benchmark><span class=taxonomy-label>Benchmark</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/bgp/ data-taxonomy-term=bgp><span class=taxonomy-label>BGP</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/bird/ data-taxonomy-term=bird><span class=taxonomy-label>BIRD</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/browser/ data-taxonomy-term=browser><span class=taxonomy-label>Browser</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/byte/ data-taxonomy-term=byte><span class=taxonomy-label>Byte</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/cache/ data-taxonomy-term=cache><span class=taxonomy-label>Cache</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/cdn/ data-taxonomy-term=cdn><span class=taxonomy-label>CDN</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/channel/ data-taxonomy-term=channel><span class=taxonomy-label>Channel</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/chart/ data-taxonomy-term=chart><span class=taxonomy-label>Chart</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/checklist/ data-taxonomy-term=checklist><span class=taxonomy-label>Checklist</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/chrome/ data-taxonomy-term=chrome><span class=taxonomy-label>Chrome</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/chrome-os/ data-taxonomy-term=chrome-os><span class=taxonomy-label>Chrome OS</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/chrony/ data-taxonomy-term=chrony><span class=taxonomy-label>Chrony</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/ci/ data-taxonomy-term=ci><span class=taxonomy-label>CI</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/cilium/ data-taxonomy-term=cilium><span class=taxonomy-label>Cilium</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/cisco/ data-taxonomy-term=cisco><span class=taxonomy-label>Cisco</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/cloud-native/ data-taxonomy-term=cloud-native><span class=taxonomy-label>Cloud-Native</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/cloudflare/ data-taxonomy-term=cloudflare><span class=taxonomy-label>Cloudflare</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/cluster/ data-taxonomy-term=cluster><span class=taxonomy-label>Cluster</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/command-line/ data-taxonomy-term=command-line><span class=taxonomy-label>Command Line</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/completion/ data-taxonomy-term=completion><span class=taxonomy-label>Completion</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/config/ data-taxonomy-term=config><span class=taxonomy-label>Config</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/container/ data-taxonomy-term=container><span class=taxonomy-label>Container</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/cpu/ data-taxonomy-term=cpu><span class=taxonomy-label>CPU</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/curl/ data-taxonomy-term=curl><span class=taxonomy-label>CURL</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/data/ data-taxonomy-term=data><span class=taxonomy-label>Data</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/database/ data-taxonomy-term=database><span class=taxonomy-label>Database</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/debug/ data-taxonomy-term=debug><span class=taxonomy-label>Debug</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/design/ data-taxonomy-term=design><span class=taxonomy-label>Design</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/devsecops/ data-taxonomy-term=devsecops><span class=taxonomy-label>DevSecOps</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/diagrams/ data-taxonomy-term=diagrams><span class=taxonomy-label>Diagrams</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/dmg/ data-taxonomy-term=dmg><span class=taxonomy-label>Dmg</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/dns/ data-taxonomy-term=dns><span class=taxonomy-label>DNS</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/docker/ data-taxonomy-term=docker><span class=taxonomy-label>Docker</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/eff/ data-taxonomy-term=eff><span class=taxonomy-label>EFF</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/elasticsearch/ data-taxonomy-term=elasticsearch><span class=taxonomy-label>ElasticSearch</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/elk/ data-taxonomy-term=elk><span class=taxonomy-label>ELK</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/emoji/ data-taxonomy-term=emoji><span class=taxonomy-label>Emoji</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/emqx/ data-taxonomy-term=emqx><span class=taxonomy-label>EMQX</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/encode/ data-taxonomy-term=encode><span class=taxonomy-label>Encode</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/encrypt/ data-taxonomy-term=encrypt><span class=taxonomy-label>Encrypt</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/esxi/ data-taxonomy-term=esxi><span class=taxonomy-label>ESXi</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/extension/ data-taxonomy-term=extension><span class=taxonomy-label>Extension</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/firewall/ data-taxonomy-term=firewall><span class=taxonomy-label>Firewall</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/fortigate/ data-taxonomy-term=fortigate><span class=taxonomy-label>Fortigate</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/fortinet/ data-taxonomy-term=fortinet><span class=taxonomy-label>Fortinet</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/fortios/ data-taxonomy-term=fortios><span class=taxonomy-label>FortiOS</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/game/ data-taxonomy-term=game><span class=taxonomy-label>Game</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/geoip/ data-taxonomy-term=geoip><span class=taxonomy-label>GeoIP</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/gin/ data-taxonomy-term=gin><span class=taxonomy-label>GIN</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/git/ data-taxonomy-term=git><span class=taxonomy-label>Git</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/gitbook/ data-taxonomy-term=gitbook><span class=taxonomy-label>GitBook</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/github/ data-taxonomy-term=github><span class=taxonomy-label>Github</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/gitlab/ data-taxonomy-term=gitlab><span class=taxonomy-label>Gitlab</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/gitops/ data-taxonomy-term=gitops><span class=taxonomy-label>GitOps</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/gluetun/ data-taxonomy-term=gluetun><span class=taxonomy-label>Gluetun</span></a></li><li><a class="taxonomy-term active" href=https://linzeyan.github.io/zh-tw/tags/go/ data-taxonomy-term=go><span class=taxonomy-label>Go</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/go-mysql-elasticsearch/ data-taxonomy-term=go-mysql-elasticsearch><span class=taxonomy-label>Go-Mysql-Elasticsearch</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/golang/ data-taxonomy-term=golang><span class=taxonomy-label>Golang</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/google/ data-taxonomy-term=google><span class=taxonomy-label>Google</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/gpg/ data-taxonomy-term=gpg><span class=taxonomy-label>GPG</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/graphql/ data-taxonomy-term=graphql><span class=taxonomy-label>GraphQL</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/ha/ data-taxonomy-term=ha><span class=taxonomy-label>HA</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/haproxy/ data-taxonomy-term=haproxy><span class=taxonomy-label>HAProxy</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/hash/ data-taxonomy-term=hash><span class=taxonomy-label>Hash</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/htop/ data-taxonomy-term=htop><span class=taxonomy-label>Htop</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/http/ data-taxonomy-term=http><span class=taxonomy-label>HTTP</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/infra/ data-taxonomy-term=infra><span class=taxonomy-label>Infra</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/infrastructure/ data-taxonomy-term=infrastructure><span class=taxonomy-label>Infrastructure</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/introduction/ data-taxonomy-term=introduction><span class=taxonomy-label>Introduction</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/iphone/ data-taxonomy-term=iphone><span class=taxonomy-label>IPhone</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/iptables/ data-taxonomy-term=iptables><span class=taxonomy-label>Iptables</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/iso/ data-taxonomy-term=iso><span class=taxonomy-label>Iso</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/issue/ data-taxonomy-term=issue><span class=taxonomy-label>Issue</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/iterm2/ data-taxonomy-term=iterm2><span class=taxonomy-label>ITerm2</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/jenkins/ data-taxonomy-term=jenkins><span class=taxonomy-label>Jenkins</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/jsoniter/ data-taxonomy-term=jsoniter><span class=taxonomy-label>Jsoniter</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/jwt/ data-taxonomy-term=jwt><span class=taxonomy-label>JWT</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/kibana/ data-taxonomy-term=kibana><span class=taxonomy-label>Kibana</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/kubernetes/ data-taxonomy-term=kubernetes><span class=taxonomy-label>Kubernetes</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/ldap/ data-taxonomy-term=ldap><span class=taxonomy-label>LDAP</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/leetcode/ data-taxonomy-term=leetcode><span class=taxonomy-label>Leetcode</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/lightweight/ data-taxonomy-term=lightweight><span class=taxonomy-label>Lightweight</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/linkerd/ data-taxonomy-term=linkerd><span class=taxonomy-label>Linkerd</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/linux/ data-taxonomy-term=linux><span class=taxonomy-label>Linux</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/llm/ data-taxonomy-term=llm><span class=taxonomy-label>Llm</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/lua/ data-taxonomy-term=lua><span class=taxonomy-label>Lua</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/lullaby/ data-taxonomy-term=lullaby><span class=taxonomy-label>Lullaby</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/lvm/ data-taxonomy-term=lvm><span class=taxonomy-label>LVM</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/machinelearning/ data-taxonomy-term=machinelearning><span class=taxonomy-label>Machinelearning</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/macos/ data-taxonomy-term=macos><span class=taxonomy-label>MacOS</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/markdown/ data-taxonomy-term=markdown><span class=taxonomy-label>Markdown</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/mattermost/ data-taxonomy-term=mattermost><span class=taxonomy-label>Mattermost</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/mermaid/ data-taxonomy-term=mermaid><span class=taxonomy-label>Mermaid</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/module/ data-taxonomy-term=module><span class=taxonomy-label>Module</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/mqtt/ data-taxonomy-term=mqtt><span class=taxonomy-label>MQTT</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/mss/ data-taxonomy-term=mss><span class=taxonomy-label>MSS</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/mtu/ data-taxonomy-term=mtu><span class=taxonomy-label>MTU</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/music/ data-taxonomy-term=music><span class=taxonomy-label>Music</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/mydumper/ data-taxonomy-term=mydumper><span class=taxonomy-label>MyDumper</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/mysql/ data-taxonomy-term=mysql><span class=taxonomy-label>MySQL</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/nas/ data-taxonomy-term=nas><span class=taxonomy-label>NAS</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/network/ data-taxonomy-term=network><span class=taxonomy-label>Network</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/nftables/ data-taxonomy-term=nftables><span class=taxonomy-label>Nftables</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/nginx/ data-taxonomy-term=nginx><span class=taxonomy-label>NGINX</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/oauth/ data-taxonomy-term=oauth><span class=taxonomy-label>OAuth</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/oidc/ data-taxonomy-term=oidc><span class=taxonomy-label>OIDC</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/ollama/ data-taxonomy-term=ollama><span class=taxonomy-label>Ollama</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/openresty/ data-taxonomy-term=openresty><span class=taxonomy-label>OpenResty</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/parquet/ data-taxonomy-term=parquet><span class=taxonomy-label>Parquet</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/percona/ data-taxonomy-term=percona><span class=taxonomy-label>Percona</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/pinyin/ data-taxonomy-term=pinyin><span class=taxonomy-label>Pinyin</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/pip/ data-taxonomy-term=pip><span class=taxonomy-label>Pip</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/plugin/ data-taxonomy-term=plugin><span class=taxonomy-label>Plugin</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/pokemon/ data-taxonomy-term=pokemon><span class=taxonomy-label>Pokemon</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/powerdns/ data-taxonomy-term=powerdns><span class=taxonomy-label>PowerDNS</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/powershell/ data-taxonomy-term=powershell><span class=taxonomy-label>PowerShell</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/pprof/ data-taxonomy-term=pprof><span class=taxonomy-label>Pprof</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/principle/ data-taxonomy-term=principle><span class=taxonomy-label>Principle</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/prometheus/ data-taxonomy-term=prometheus><span class=taxonomy-label>Prometheus</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/protobuf/ data-taxonomy-term=protobuf><span class=taxonomy-label>Protobuf</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/proxy/ data-taxonomy-term=proxy><span class=taxonomy-label>Proxy</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/push/ data-taxonomy-term=push><span class=taxonomy-label>Push</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/python/ data-taxonomy-term=python><span class=taxonomy-label>Python</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/qrcode/ data-taxonomy-term=qrcode><span class=taxonomy-label>QRCode</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/r/ data-taxonomy-term=r><span class=taxonomy-label>R</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/raid/ data-taxonomy-term=raid><span class=taxonomy-label>RAID</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/rdp/ data-taxonomy-term=rdp><span class=taxonomy-label>RDP</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/redis/ data-taxonomy-term=redis><span class=taxonomy-label>Redis</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/regex/ data-taxonomy-term=regex><span class=taxonomy-label>Regex</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/ringtone/ data-taxonomy-term=ringtone><span class=taxonomy-label>Ringtone</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/route/ data-taxonomy-term=route><span class=taxonomy-label>Route</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/rust/ data-taxonomy-term=rust><span class=taxonomy-label>Rust</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/screenshot/ data-taxonomy-term=screenshot><span class=taxonomy-label>ScreenShot</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/security/ data-taxonomy-term=security><span class=taxonomy-label>Security</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/selenium/ data-taxonomy-term=selenium><span class=taxonomy-label>Selenium</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/sentry/ data-taxonomy-term=sentry><span class=taxonomy-label>Sentry</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/service-mesh/ data-taxonomy-term=service-mesh><span class=taxonomy-label>Service Mesh</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/sftp/ data-taxonomy-term=sftp><span class=taxonomy-label>SFTP</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/shell/ data-taxonomy-term=shell><span class=taxonomy-label>SHELL</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/slides/ data-taxonomy-term=slides><span class=taxonomy-label>Slides</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/snow/ data-taxonomy-term=snow><span class=taxonomy-label>Snow</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/software/ data-taxonomy-term=software><span class=taxonomy-label>Software</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/sql/ data-taxonomy-term=sql><span class=taxonomy-label>SQL</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/ssh/ data-taxonomy-term=ssh><span class=taxonomy-label>SSH</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/string/ data-taxonomy-term=string><span class=taxonomy-label>String</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/switch/ data-taxonomy-term=switch><span class=taxonomy-label>Switch</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/sync/ data-taxonomy-term=sync><span class=taxonomy-label>Sync</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/synology/ data-taxonomy-term=synology><span class=taxonomy-label>Synology</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/system/ data-taxonomy-term=system><span class=taxonomy-label>System</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/tcpdump/ data-taxonomy-term=tcpdump><span class=taxonomy-label>Tcpdump</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/telegram/ data-taxonomy-term=telegram><span class=taxonomy-label>Telegram</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/terminal/ data-taxonomy-term=terminal><span class=taxonomy-label>Terminal</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/terraform/ data-taxonomy-term=terraform><span class=taxonomy-label>Terraform</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/test/ data-taxonomy-term=test><span class=taxonomy-label>Test</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/testing/ data-taxonomy-term=testing><span class=taxonomy-label>Testing</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/time/ data-taxonomy-term=time><span class=taxonomy-label>Time</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/timeout/ data-taxonomy-term=timeout><span class=taxonomy-label>Timeout</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/tls/ data-taxonomy-term=tls><span class=taxonomy-label>TLS</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/tor/ data-taxonomy-term=tor><span class=taxonomy-label>Tor</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/trace/ data-taxonomy-term=trace><span class=taxonomy-label>Trace</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/travel/ data-taxonomy-term=travel><span class=taxonomy-label>Travel</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/tunnel/ data-taxonomy-term=tunnel><span class=taxonomy-label>Tunnel</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/typora/ data-taxonomy-term=typora><span class=taxonomy-label>Typora</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/ubuntu/ data-taxonomy-term=ubuntu><span class=taxonomy-label>Ubuntu</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/url/ data-taxonomy-term=url><span class=taxonomy-label>URL</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/vagrant/ data-taxonomy-term=vagrant><span class=taxonomy-label>Vagrant</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/video/ data-taxonomy-term=video><span class=taxonomy-label>Video</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/vim/ data-taxonomy-term=vim><span class=taxonomy-label>Vim</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/virtualization/ data-taxonomy-term=virtualization><span class=taxonomy-label>Virtualization</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/visualization/ data-taxonomy-term=visualization><span class=taxonomy-label>Visualization</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/vnc/ data-taxonomy-term=vnc><span class=taxonomy-label>VNC</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/vpn/ data-taxonomy-term=vpn><span class=taxonomy-label>VPN</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/vscode/ data-taxonomy-term=vscode><span class=taxonomy-label>VScode</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/waf/ data-taxonomy-term=waf><span class=taxonomy-label>WAF</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/web/ data-taxonomy-term=web><span class=taxonomy-label>Web</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/webp/ data-taxonomy-term=webp><span class=taxonomy-label>Webp</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/windows/ data-taxonomy-term=windows><span class=taxonomy-label>Windows</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/wsl/ data-taxonomy-term=wsl><span class=taxonomy-label>WSL</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/yaml/ data-taxonomy-term=yaml><span class=taxonomy-label>YAML</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/youtube/ data-taxonomy-term=youtube><span class=taxonomy-label>Youtube</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/zabbix/ data-taxonomy-term=zabbix><span class=taxonomy-label>Zabbix</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/zero-trust/ data-taxonomy-term=zero-trust><span class=taxonomy-label>Zero Trust</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/zim/ data-taxonomy-term=zim><span class=taxonomy-label>Zim</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/zsh/ data-taxonomy-term=zsh><span class=taxonomy-label>ZSH</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/%E5%8F%B0%E8%AA%9E/ data-taxonomy-term=%E5%8F%B0%E8%AA%9E><span class=taxonomy-label>台語</span></a></li></div></ul></div></div></div></section><section class=content-section id=content-section><div class="content container-fluid" id=content><div class="container-fluid post-card-holder" id=post-card-holder><div class=post-card><div class=card><div class=card-head><a href=/zh-tw/posts/2025/20251109-mosdns-x/ class=post-card-link><img class=card-img-top src=/images/hero/go.svg alt="Hero Image"></a></div><div class=card-body><a href=/zh-tw/posts/2025/20251109-mosdns-x/ class=post-card-link><h5 class=card-title>Mosdns-X</h5><p class="card-text post-summary">Mosdns-X 让 Linux 系统的 DNS 更快更干净：部署 Mosdns-X install bash &lt;(curl -sL https://raw.githubusercontent.com/lidebyte/bashshell/refs/heads/main/mosdns-x-manager.sh) config sudo tee /etc/mosdns-x/config.yaml > /dev/null &lt;&lt;'EOF' # mosdns-x 并发查询（无分流）配置 log: level: info file: /var/log/mosdns-x/mosdns-x.log plugins: # 缓存插件 - tag: cache type: cache args: size: 1024 lazy_cache_ttl: 1800 # 并发上游：取最先返回的可用答案 - tag: forward_all type: fast_forward args: upstream: # 阿里 - addr: "udp://223.5.5.5" - addr: "tls://dns.alidns.com" # DNSPod / doh.pub - addr: "udp://119.29.29.29" - addr: "tls://dot.pub" # Cloudflare - addr: "udp://1.1.1.1" - addr: "tls://cloudflare-dns.com" # Google - addr: "udp://8.8.8.8" - addr: "tls://dns.google" # 主流水线：小缓存 → 并发优选 - tag: main type: sequence args: exec: - cache - forward_all # 监听（双栈 UDP/TCP 53） servers: - exec: main listeners: - addr: :53 protocol: udp - addr: :53 protocol: tcp EOF systemd sudo tee /etc/systemd/system/mosdns.service > /dev/null &lt;&lt;'EOF' [Unit] Description=Mosdns-X DNS Accelerator After=network.target [Service] Type=simple User=root Group=root ExecStart=/usr/local/bin/mosdns-x start --as-service -d /usr/local/bin -c /etc/mosdns-x/config.yaml Restart=always RestartSec=5 StandardOutput=journal StandardError=journal SyslogIdentifier=mosdns [Install] WantedBy=multi-user.target EOF sudo systemctl daemon-reload sudo systemctl enable --now mosdns # 备份系统 DNS sudo cp -n /etc/resolv.conf /etc/resolv.conf.mosdns-backup # 改为使用本地 Mosdns-X echo -e "nameserver 127.0.0.1\noptions edns0" | sudo tee /etc/resolv.conf # 若 53 端口被 systemd-resolved 占用，可禁用它 sudo systemctl disable --now systemd-resolved 2>/dev/null || true # 如果想顺便加锁（防止被 DHCP 修改），加上 chattr 一起执行： echo -e "nameserver 127.0.0.1\n" > /etc/resolv.conf && chattr +i /etc/resolv.conf # 查看进程状态 sudo systemctl status mosdns --no-pager # 测试解析速度（第二次命中缓存更快） dig +stats www.google.com dig +stats www.baidu.com # 查看实时日志 tail -f /var/log/mosdns-x/mosdns-x.log</p></a></div><div class=card-footer><span class=float-start>Sunday, November 9, 2025
</span><a href=/zh-tw/posts/2025/20251109-mosdns-x/ class="float-end btn btn-outline-info btn-sm">閱讀</a></div></div></div><div class=post-card><div class=card><div class=card-head><a href=/zh-tw/posts/2025/20251107-go-synctest/ class=post-card-link><img class=card-img-top src=/images/hero/go.svg alt="Hero Image"></a></div><div class=card-body><a href=/zh-tw/posts/2025/20251107-go-synctest/ class=post-card-link><h5 class=card-title>go-synctest</h5><p class="card-text post-summary">go-synctest func TestAfterFunc(t *testing.T) { synctest.Test(t, func(*testing.T) { ctx, cancel := context.WithCancel(context.Background()) called := false context.AfterFunc(ctx, func() { called = true }) synctest.Wait() // 等到所有 goroutine 都卡住 if called { t.Fatal("AfterFunc 在 cancel 前就被呼叫") } cancel() synctest.Wait() // 再等一次 if !called { t.Fatal("AfterFunc 沒有在 cancel 後被呼叫") } }) }</p></a></div><div class=card-footer><span class=float-start>Friday, November 7, 2025
</span><a href=/zh-tw/posts/2025/20251107-go-synctest/ class="float-end btn btn-outline-info btn-sm">閱讀</a></div></div></div><div class=post-card><div class=card><div class=card-head><a href=/zh-tw/posts/2025/20250722-go-redis-lua/ class=post-card-link><img class=card-img-top src=/images/hero/go.svg alt="Hero Image"></a></div><div class=card-body><a href=/zh-tw/posts/2025/20250722-go-redis-lua/ class=post-card-link><h5 class=card-title>Go实战指南：使用 go-redis 执行 Lua 脚本</h5><p class="card-text post-summary">Go 实战指南：使用 go-redis 执行 Lua 脚本 Redis command Eval Redis package redis.NewScript, script.Run</p></a></div><div class=card-footer><span class=float-start>Tuesday, July 22, 2025
</span><a href=/zh-tw/posts/2025/20250722-go-redis-lua/ class="float-end btn btn-outline-info btn-sm">閱讀</a></div></div></div><div class=post-card><div class=card><div class=card-head><a href=/zh-tw/posts/2025/20250407-protobuf-opaque/ class=post-card-link><img class=card-img-top src=/images/hero/go.svg alt="Hero Image"></a></div><div class=card-body><a href=/zh-tw/posts/2025/20250407-protobuf-opaque/ class=post-card-link><h5 class=card-title>Go Protobuf：新的 Opaque API</h5><p class="card-text post-summary">[译]Go Protobuf：新的 Opaque API protoc --proto_path=. \ --go_out=./ \ + --go_opt=default_api_level=API_OPAQUE \</p></a></div><div class=card-footer><span class=float-start>Monday, April 7, 2025
</span><a href=/zh-tw/posts/2025/20250407-protobuf-opaque/ class="float-end btn btn-outline-info btn-sm">閱讀</a></div></div></div><div class=post-card><div class=card><div class=card-head><a href=/zh-tw/posts/2024/20240507-go-trace/ class=post-card-link><img class=card-img-top src=/images/hero/go.svg alt="Hero Image"></a></div><div class=card-body><a href=/zh-tw/posts/2024/20240507-go-trace/ class=post-card-link><h5 class=card-title>更强大的Go执行跟踪能力</h5><p class="card-text post-summary">更强大的 Go 执行跟踪能力 runtime/trace golang.org/x/exp/trace 飞行记录(flight recording) // 设置飞行记录器 fr := trace.NewFlightRecorder() fr.Start() // 设置和运行HTTP服务器 var once sync.Once http.HandleFunc("/my-endpoint", func(w http.ResponseWriter, r *http.Request) { start := time.Now() // 干些事情 doWork(w, r) // 盼到了长耗时请求，来个快照 if time.Since(start) > 300*time.Millisecond { // 这里我们为了简化只做一次，实际上你可以做多次 once.Do(func() { // 抓取快照 var b bytes.Buffer _, err = fr.WriteTo(&amp;b) if err != nil { log.Print(err) return } // 把快照写入文件 if err := os.WriteFile("trace.out", b.Bytes(), 0o755); err != nil { log.Print(err) return } }) } }) log.Fatal(http.ListenAndServe(":8080", nil)) 跟踪读取器 API // 开始从标准输入读取跟踪数据。 r, err := trace.NewReader(os.Stdin) if err != nil { log.Fatal(err) } var blocked int var blockedOnNetwork int for { // 读取事件 ev, err := r.ReadEvent() if err == io.EOF { break } else if err != nil { log.Fatal(err) } // 处理它 if ev.Kind() == trace.EventStateTransition { st := ev.StateTransition() if st.Resource.Kind == trace.ResourceGoroutine { id := st.Resource.Goroutine() from, to := st.GoroutineTransition() // 查找阻塞的goroutine, 统计计数 if from.Executing() && to == trace.GoWaiting { blocked++ if strings.Contains(st.Reason, "network") { blockedOnNetwork++ } } } } } // 打印我们所需 p := 100 * float64(blockedOnNetwork) / float64(blocked) fmt.Printf("%2.3f%% instances of goroutines blocking were to block on the network\n", p)</p></a></div><div class=card-footer><span class=float-start>Tuesday, May 7, 2024
</span><a href=/zh-tw/posts/2024/20240507-go-trace/ class="float-end btn btn-outline-info btn-sm">閱讀</a></div></div></div><div class=post-card><div class=card><div class=card-head><a href=/zh-tw/posts/2024/20240425-ollama/ class=post-card-link><img class=card-img-top src=/images/hero/go.svg alt="Hero Image"></a></div><div class=card-body><a href=/zh-tw/posts/2024/20240425-ollama/ class=post-card-link><h5 class=card-title>Run llama3</h5><p class="card-text post-summary">ollama/ollama Ollama ＋ Open WebUI，快捷部署 AI 大型語言模型到你的電腦，離線執行 Docker-compose version: "3.8" services: ollama: image: ollama/ollama:latest container_name: ollama restart: unless-stopped volumes: - ./ollama/ollama:/root/.ollama tty: true ports: - 11434:11434 networks: - ollama-docker # deploy: # resources: # reservations: # devices: # - driver: nvidia # count: 1 # capabilities: [gpu] ollama-webui: image: ghcr.io/ollama-webui/ollama-webui:main container_name: ollama-webui restart: unless-stopped volumes: - ./ollama/ollama-webui:/app/backend/data ports: - 8080:8080 environment: - "/ollama/api=http://ollama:11434/api" extra_hosts: - host.docker.internal:host-gateway networks: - ollama-docker networks: ollama-docker: Setup # Run docker-compose docker-compose up -d # Pull model(https://ollama.com/library) docker exec -it ollama /bin/bash ollama pull llama3 Chat with Web-UI port defined in docker-compose.yml ollama-webui.ports</p></a></div><div class=card-footer><span class=float-start>Thursday, April 25, 2024
</span><a href=/zh-tw/posts/2024/20240425-ollama/ class="float-end btn btn-outline-info btn-sm">閱讀</a></div></div></div><div class=post-card><div class=card><div class=card-head><a href=/zh-tw/posts/2024/20240425-pgo/ class=post-card-link><img class=card-img-top src=/images/hero/go.svg alt="Hero Image"></a></div><div class=card-body><a href=/zh-tw/posts/2024/20240425-pgo/ class=post-card-link><h5 class=card-title>一文读不懂的 Go 1.21 GA 的 PGO 优化——一次在 WebP Server Go 上的尝试</h5><p class="card-text post-summary">一文读不懂的 Go 1.21 GA 的 PGO 优化——一次在 WebP Server Go 上的尝试</p></a></div><div class=card-footer><span class=float-start>Thursday, April 25, 2024
</span><a href=/zh-tw/posts/2024/20240425-pgo/ class="float-end btn btn-outline-info btn-sm">閱讀</a></div></div></div><div class=post-card><div class=card><div class=card-head><a href=/zh-tw/posts/2024/20240413-decisions-pass-values/ class=post-card-link><img class=card-img-top src=/images/hero/go.svg alt="Hero Image"></a></div><div class=card-body><a href=/zh-tw/posts/2024/20240413-decisions-pass-values/ class=post-card-link><h5 class=card-title>Go Style Decisions - Pass values</h5><p class="card-text post-summary">Go Style Decisions - Pass values 不要僅僅為了節省一些位元組而將指標作為函數參數傳遞。如果函數始終將其參數 x 讀取為 *x，則該參數不應該是指標。常見的實例包括傳遞指向字串的指標 (*string) 或指向介面值的指標 (*io.Reader)。在這兩種情況下，值本身都是固定大小的，可以直接傳遞。
此建議不適用於大型結構，甚至不適用於可能增加大小的小型結構。特別是，協定緩衝區訊息通常應透過指標而不是值來處理。指標類型滿足 proto.Message 介面（被 proto.Marshal 、 protocmp.Transform 等接受），且協定緩衝區訊息可能非常大，並且通常會隨著時間的推移而變得更大。</p></a></div><div class=card-footer><span class=float-start>Saturday, April 13, 2024
</span><a href=/zh-tw/posts/2024/20240413-decisions-pass-values/ class="float-end btn btn-outline-info btn-sm">閱讀</a></div></div></div><div class=post-card><div class=card><div class=card-head><a href=/zh-tw/posts/2023/20230926-golang/ class=post-card-link><img class=card-img-top src=/images/hero/go.svg alt="Hero Image"></a></div><div class=card-body><a href=/zh-tw/posts/2023/20230926-golang/ class=post-card-link><h5 class=card-title>Golang tips</h5><p class="card-text post-summary">GO 编程模式：切片，接口，时间和性能 Go 语言是一个高性能的语言，但并不是说这样我们就不用关心性能了，我们还是需要关心的。下面是一个在编程方面和性能相关的提示。
如果需要把数字转字符串，使用 strconv.Itoa() 会比 fmt.Sprintf() 要快一倍左右
尽可能地避免把 String 转成[]Byte 。这个转换会导致性能下降。
如果在 for-loop 里对某个 slice 使用 append()请先把 slice 的容量很扩充到位，这样可以避免内存重新分享以及系统自动按 2 的 N 次方幂进行扩展但又用不到，从而浪费内存。
使用 StringBuffer 或是 StringBuild 来拼接字符串，会比使用 + 或 += 性能高三到四个数量级。
尽可能的使用并发的 go routine，然后使用 sync.WaitGroup 来同步分片操作
避免在热代码中进行内存分配，这样会导致 gc 很忙。尽可能的使用 sync.Pool 来重用对象。
使用 lock-free 的操作，避免使用 mutex，尽可能使用 sync/Atomic 包。 （关于无锁编程的相关话题，可参看《无锁队列实现》或《无锁 Hashmap 实现》）
使用 I/O 缓冲，I/O 是个非常非常慢的操作，使用 bufio.NewWrite() 和 bufio.NewReader() 可以带来更高的性能。
对于在 for-loop 里的固定的正则表达式，一定要使用 regexp.Compile() 编译正则表达式。性能会得升两个数量级。
如果你需要更高性能的协议，你要考虑使用 protobuf 或 msgp 而不是 JSON，因为 JSON 的序列化和反序列化里使用了反射。</p></a></div><div class=card-footer><span class=float-start>Tuesday, September 26, 2023
</span><a href=/zh-tw/posts/2023/20230926-golang/ class="float-end btn btn-outline-info btn-sm">閱讀</a></div></div></div><div class=post-card><div class=card><div class=card-head><a href=/zh-tw/posts/2023/20230622-go-channel-rules/ class=post-card-link><img class=card-img-top src=/images/hero/go.svg alt="Hero Image"></a></div><div class=card-body><a href=/zh-tw/posts/2023/20230622-go-channel-rules/ class=post-card-link><h5 class=card-title>channel 的 15 条规则和底层实现</h5><p class="card-text post-summary">channel 的 15 条规则和底层实现 操作规则 操作 nil 已关闭的 channel 未关闭有缓冲区的 channel 未关闭无缓冲区的 channel 关闭 panic panic 成功关闭，然后可以读取缓冲区的值，读取完之后，继续读取到的是 channel 类型的默认值 成功关闭，之后读取到的是 channel 类型的默认值 接收 阻塞 不阻塞，读取到的是 channel 类型的默认值 不阻塞，正常读取值 阻塞 发送 阻塞 panic 不阻塞，正常写入值 阻塞 编译规则 操作 channel 類型 結果 接收 只写 channel 编译错误 发送 只读 channel 编译错误 关闭 只读 channel 编译错误</p></a></div><div class=card-footer><span class=float-start>Thursday, June 22, 2023
</span><a href=/zh-tw/posts/2023/20230622-go-channel-rules/ class="float-end btn btn-outline-info btn-sm">閱讀</a></div></div></div><div class=post-card><div class=card><div class=card-head><a href=/zh-tw/posts/2023/20230120-parse-binary-data/ class=post-card-link><img class=card-img-top src=/images/hero/go.svg alt="Hero Image"></a></div><div class=card-body><a href=/zh-tw/posts/2023/20230120-parse-binary-data/ class=post-card-link><h5 class=card-title>使用Go语言解析二进制数据踩坑总结</h5><p class="card-text post-summary">使用 Go 语言解析二进制数据踩坑总结 for { buf := make([]byte, bufSize) n, err := r.Read(buf) if err == io.EOF { return } else if err != nil { aerr.Store(err) return } ch &lt;- buf[:n] } 当 err 的值为 io.EOF 时直接返回了。这是最可能出问题的地方。仔细阅读函数文档发现：
Callers should always process the n > 0 bytes returned before considering the error err. Doing so correctly handles I/O errors that happen after reading some bytes and also both of the allowed EOF behaviors.
所以程序必须先处理 n > 0 的情况，然后再处理 err != nil 的情况！这跟我之前的印象不相符。因为一般来说，当 err 非空时，前面的返回数据一般都是空值。但 io.Reader 并不是这样。</p></a></div><div class=card-footer><span class=float-start>Friday, January 20, 2023
</span><a href=/zh-tw/posts/2023/20230120-parse-binary-data/ class="float-end btn btn-outline-info btn-sm">閱讀</a></div></div></div><div class=post-card><div class=card><div class=card-head><a href=/zh-tw/posts/2022/20221202-go-selenium/ class=post-card-link><img class=card-img-top src=/images/hero/go.svg alt="Hero Image"></a></div><div class=card-body><a href=/zh-tw/posts/2022/20221202-go-selenium/ class=post-card-link><h5 class=card-title>Go 使用 selenium 截图</h5><p class="card-text post-summary">Go 使用 selenium 截图 package main import ( "fmt" log "github.com/sirupsen/logrus" "github.com/tebeka/selenium" "io/ioutil" ) const ( chromeDriverPath = "/usr/local/bin/chromedriver" port = 9515 ) func main() { var opts []selenium.ServiceOption selenium.SetDebug(false) service, err := selenium.NewChromeDriverService(chromeDriverPath, port, opts...) if err != nil { panic(err) // panic is used only as an example and is not otherwise recommended. } defer service.Stop() caps := selenium.Capabilities{"browserName": "chrome"} // 整页截屏 // 获取到网页的宽高，然后把浏览器的窗口设置成这么大，然后再截图就好了！需要注意的是只有 headless 模式可以任意设置窗口大小，否则最大高度不能超过你的显示器分辨率 // chromeCaps := chrome.Capabilities{ // Path: "", // Args: []string{ // "--headless", // }, // } // caps.AddChrome(chromeCaps) wd, err := selenium.NewRemote(caps, fmt.Sprintf("http://localhost:%d/wd/hub", port)) if err != nil { panic(err) } defer wd.Quit() // 在 selenium 中使用ExecuteScript就可以执行 JavaScript 代码，需要注意返回值是 interface，所以要类型断言成 float，然后再转成 int // height, _ := wd.ExecuteScript("return document.body.parentNode.scrollHeight", nil) // var realHeight = int(height.(float64)) // 然后我们需要设置窗口大小 // wd.ResizeWindow("", 1920, realHeight) if err := wd.Get("https://github.com/tgbot-collection/archiver"); err != nil { panic(err) } screenshot, err := wd.Screenshot() if err != nil { log.Errorln(err) } ioutil.WriteFile("screenshot.png", screenshot, 0644) } 整页截屏 获取到网页的宽高，然后把浏览器的窗口设置成这么大，然后再截图就好了！需要注意的是只有 headless 模式可以任意设置窗口大小，否则最大高度不能超过你的显示器分辨率</p></a></div><div class=card-footer><span class=float-start>Friday, December 2, 2022
</span><a href=/zh-tw/posts/2022/20221202-go-selenium/ class="float-end btn btn-outline-info btn-sm">閱讀</a></div></div></div></div><div class=paginator><ul class="pagination pagination-default"><li class="page-item disabled"><a aria-disabled=true aria-label=First class=page-link role=button tabindex=-1><span aria-hidden=true>&#171;&#171;</span></a></li><li class="page-item disabled"><a aria-disabled=true aria-label=Previous class=page-link role=button tabindex=-1><span aria-hidden=true>&#171;</span></a></li><li class="page-item active"><a aria-current=page aria-label="Page 1" class=page-link role=button>1</a></li><li class=page-item><a href=/zh-tw/tags/go/page/2/ aria-label="Page 2" class=page-link role=button>2</a></li><li class=page-item><a href=/zh-tw/tags/go/page/3/ aria-label="Page 3" class=page-link role=button>3</a></li><li class=page-item><a href=/zh-tw/tags/go/page/2/ aria-label=Next class=page-link role=button><span aria-hidden=true>&#187;</span></a></li><li class=page-item><a href=/zh-tw/tags/go/page/3/ aria-label=Last class=page-link role=button><span aria-hidden=true>&#187;&#187;</span></a></li></ul></div></div></section></div><footer id=footer class="container-fluid text-center align-content-center footer pb-2"><div class="container pt-5"><div class="row text-start"><div class="col-md-4 col-sm-12"><h5>導覽列</h5><ul><li class=nav-item><a class=smooth-scroll href=https://linzeyan.github.io/zh-tw/#about>關於</a></li><li class=nav-item><a class=smooth-scroll href=https://linzeyan.github.io/zh-tw/#skills>技能</a></li><li class=nav-item><a class=smooth-scroll href=https://linzeyan.github.io/zh-tw/#experiences>經歷</a></li><li class=nav-item><a class=smooth-scroll href=https://linzeyan.github.io/zh-tw/#education>學歷</a></li><li class=nav-item><a class=smooth-scroll href=https://linzeyan.github.io/zh-tw/#projects>專案</a></li></ul></div><div class="col-md-4 col-sm-12"><h5>聯絡方式:</h5><ul><li><a href=mailto:zeyanlin@outlook.com target=_blank rel=noopener><span><i class="fas fa-envelope"></i></span> <span>zeyanlin@outlook.com</span></a></li><li><a href=https://github.com/linzeyan target=_blank rel=noopener><span><i class="fab fa-github"></i></span> <span>linzeyan</span></a></li><li><a href=https://www.strava.com/athletes/rickylin target=_blank rel=noopener><span><i class="fab fa-fab fa-strava"></i></span> <span>Ricky</span></a></li><li><a href=https://t.me/ricky_lin target=_blank rel=noopener><span><i class="fab fa-fab fa-telegram"></i></span> <span>Ricky</span></a></li></ul></div></div></div></footer><script src=/application.eed5c22001d7c9cc6de7d8db62219c198319957fa017da141928bee1c40883b4.js integrity="sha256-7tXCIAHXycxt59jbYiGcGYMZlX+gF9oUGSi+4cQIg7Q=" defer></script></body></html>