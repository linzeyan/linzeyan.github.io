<!doctype html><html lang=zh-tw><head><title>Linux</title><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=X-UA-Compatible content="ie=edge"><link rel=stylesheet href=/application.780dc7a6fc8e42bf9fef490724bc6cbc57e759a0db2df60fcd517f9f667085ed.css integrity="sha256-eA3HpvyOQr+f70kHJLxsvFfnWaDbLfYPzVF/n2Zwhe0="><link rel=icon type=image/png href=/images/site/highlight.svg><link rel=alternate type=application/rss+xml href=https://linzeyan.github.io/zh-tw/tags/linux/index.xml title=Ricky><meta property="og:title" content="Ricky"><meta property="og:type" content="website"><meta property="og:description" content="Ricky 的網頁"><meta property="og:image" content="/images/author/ava.jpg"><meta property="og:url" content="https://linzeyan.github.io/"><script defer src=https://static.cloudflareinsights.com/beacon.min.js data-cf-beacon='{"token": "27a0cd9f0e3b46909879cf99f7cc6878"}'></script><script integrity="sha256-DO4ugzEwhTW1Id1UIWn0gUJWaebCYOypeTit6LW4QB4=">let theme=localStorage.getItem("theme-scheme")||localStorage.getItem("darkmode:color-scheme")||"light";theme==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?theme="dark":theme="light"),document.documentElement.setAttribute("data-theme",theme)</script></head><body class="type-tags kind-term" data-bs-spy=scroll data-bs-target=#TableOfContents data-bs-offset=80><div class="container-fluid bg-secondary wrapper"><nav class="navbar navbar-expand-xl top-navbar shadow" id=top-navbar><div class=container><button class="navbar-toggler navbar-light" id=sidebar-toggler type=button>
<i data-feather=sidebar></i>
</button>
<a class=navbar-brand href=/zh-tw><img src=/images/site/highlight.svg id=logo alt=Logo>
Ricky</a>
<button class="navbar-toggler navbar-light" id=navbar-toggler type=button data-bs-toggle=collapse data-bs-target=#top-nav-items aria-label=menu>
<i data-feather=menu></i></button><div class="collapse navbar-collapse dynamic-navbar" id=top-nav-items><ul class="nav navbar-nav ms-auto"><li class=nav-item><a class=nav-link href=/zh-tw#home>首頁</a></li><li class=nav-item><a class=nav-link href=/zh-tw#about>關於</a></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-bs-toggle=dropdown aria-haspopup=true aria-expanded=false>更多的</a><div class=dropdown-menu aria-labelledby=navbarDropdown><a class=dropdown-item href=/zh-tw#skills>技能</a>
<a class=dropdown-item href=/zh-tw#experiences>經歷</a>
<a class=dropdown-item href=/zh-tw#education>學歷</a>
<a class=dropdown-item href=/zh-tw#projects>專案</a></div></li><div id=top-navbar-divider></div><li class=nav-item><a class=nav-link id=blog-link href=/zh-tw/posts>文章</a></li><li class=nav-item><a class=nav-link id=note-link href=/zh-tw/notes>筆記</a></li><li class=nav-item><a class=nav-link href=https://linzeyan.github.io/activities>活動</a></li><li class=nav-item><a class=nav-link href=https://transforms.pages.dev/>Transform</a></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# id=languageSelector role=button data-bs-toggle=dropdown aria-haspopup=true aria-expanded=false><span class="fi fi-tw"></span>
Chinese</a><div class=dropdown-menu aria-labelledby=languageSelector><a class="dropdown-item nav-link languages-item" href=/tags/linux><span class="fi fi-us"></span>
English
</a><a class="dropdown-item nav-link languages-item" href=/zh-tw/tags/linux><span class="fi fi-tw"></span>
Chinese</a></div></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# id=themeSelector role=button data-bs-toggle=dropdown aria-haspopup=true aria-expanded=false><img id=navbar-theme-icon-svg class=theme-icon src=/icons/moon-svgrepo-com.svg width=20 alt="Dark Theme"></a><div id=themeMenu class="dropdown-menu dropdown-menu-icons-only" aria-labelledby=themeSelector><a class="dropdown-item nav-link" href=# data-scheme=light><img class=theme-icon src=/icons/sun-svgrepo-com.svg width=20 alt="Light Theme">
</a><a class="dropdown-item nav-link" href=# data-scheme=dark><img class=theme-icon src=/icons/moon-svgrepo-com.svg width=20 alt="Dark Theme">
</a><a class="dropdown-item nav-link" href=# data-scheme=system><img class=theme-icon src=/icons/computer-svgrepo-com.svg width=20 alt="System Theme"></a></div></li></ul></div></div><img src=/images/site/highlight.svg class=d-none id=main-logo alt=Logo>
<img src=/images/site/highlight.svg class=d-none id=inverted-logo alt="Inverted Logo"></nav><section class=sidebar-section id=sidebar-section><div class=sidebar-holder><div class=sidebar id=sidebar><form class=mx-auto method=get action=/zh-tw/search><input type=text name=keyword placeholder=搜尋 data-search id=search-box></form><div class=sidebar-tree><ul class=tree id=tree><li id=list-heading><a href=/zh-tw/tags data-filter=all>標籤</a></li><div class="subtree taxonomy-terms"><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/a10/ data-taxonomy-term=a10><span class=taxonomy-label>A10</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/acme/ data-taxonomy-term=acme><span class=taxonomy-label>ACME</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/ad/ data-taxonomy-term=ad><span class=taxonomy-label>AD</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/aes/ data-taxonomy-term=aes><span class=taxonomy-label>AES</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/ai/ data-taxonomy-term=ai><span class=taxonomy-label>AI</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/aliyun/ data-taxonomy-term=aliyun><span class=taxonomy-label>Aliyun</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/ansible/ data-taxonomy-term=ansible><span class=taxonomy-label>Ansible</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/app/ data-taxonomy-term=app><span class=taxonomy-label>APP</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/application-delivery-controller/ data-taxonomy-term=application-delivery-controller><span class=taxonomy-label>Application Delivery Controller</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/arceus/ data-taxonomy-term=arceus><span class=taxonomy-label>Arceus</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/argo-cd/ data-taxonomy-term=argo-cd><span class=taxonomy-label>Argo CD</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/ascii/ data-taxonomy-term=ascii><span class=taxonomy-label>ASCII</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/authentication/ data-taxonomy-term=authentication><span class=taxonomy-label>Authentication</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/authorization/ data-taxonomy-term=authorization><span class=taxonomy-label>Authorization</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/aws/ data-taxonomy-term=aws><span class=taxonomy-label>AWS</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/bash/ data-taxonomy-term=bash><span class=taxonomy-label>BASH</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/bayonet/ data-taxonomy-term=bayonet><span class=taxonomy-label>Bayonet</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/benchmark/ data-taxonomy-term=benchmark><span class=taxonomy-label>Benchmark</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/bgp/ data-taxonomy-term=bgp><span class=taxonomy-label>BGP</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/bird/ data-taxonomy-term=bird><span class=taxonomy-label>BIRD</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/board-game/ data-taxonomy-term=board-game><span class=taxonomy-label>Board Game</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/browser/ data-taxonomy-term=browser><span class=taxonomy-label>Browser</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/byte/ data-taxonomy-term=byte><span class=taxonomy-label>Byte</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/cache/ data-taxonomy-term=cache><span class=taxonomy-label>Cache</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/cdn/ data-taxonomy-term=cdn><span class=taxonomy-label>CDN</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/channel/ data-taxonomy-term=channel><span class=taxonomy-label>Channel</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/chart/ data-taxonomy-term=chart><span class=taxonomy-label>Chart</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/checklist/ data-taxonomy-term=checklist><span class=taxonomy-label>Checklist</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/chrome/ data-taxonomy-term=chrome><span class=taxonomy-label>Chrome</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/chrome-os/ data-taxonomy-term=chrome-os><span class=taxonomy-label>Chrome OS</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/chrony/ data-taxonomy-term=chrony><span class=taxonomy-label>Chrony</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/ci/ data-taxonomy-term=ci><span class=taxonomy-label>CI</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/cilium/ data-taxonomy-term=cilium><span class=taxonomy-label>Cilium</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/cisco/ data-taxonomy-term=cisco><span class=taxonomy-label>Cisco</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/cloud-native/ data-taxonomy-term=cloud-native><span class=taxonomy-label>Cloud-Native</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/cloudflare/ data-taxonomy-term=cloudflare><span class=taxonomy-label>Cloudflare</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/cluster/ data-taxonomy-term=cluster><span class=taxonomy-label>Cluster</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/command-line/ data-taxonomy-term=command-line><span class=taxonomy-label>Command Line</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/completion/ data-taxonomy-term=completion><span class=taxonomy-label>Completion</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/config/ data-taxonomy-term=config><span class=taxonomy-label>Config</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/container/ data-taxonomy-term=container><span class=taxonomy-label>Container</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/cpu/ data-taxonomy-term=cpu><span class=taxonomy-label>CPU</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/curl/ data-taxonomy-term=curl><span class=taxonomy-label>CURL</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/data/ data-taxonomy-term=data><span class=taxonomy-label>Data</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/database/ data-taxonomy-term=database><span class=taxonomy-label>Database</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/debug/ data-taxonomy-term=debug><span class=taxonomy-label>Debug</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/dehydrated/ data-taxonomy-term=dehydrated><span class=taxonomy-label>Dehydrated</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/design/ data-taxonomy-term=design><span class=taxonomy-label>Design</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/devsecops/ data-taxonomy-term=devsecops><span class=taxonomy-label>DevSecOps</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/diagrams/ data-taxonomy-term=diagrams><span class=taxonomy-label>Diagrams</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/dmg/ data-taxonomy-term=dmg><span class=taxonomy-label>Dmg</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/dns/ data-taxonomy-term=dns><span class=taxonomy-label>DNS</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/dns-01/ data-taxonomy-term=dns-01><span class=taxonomy-label>DNS-01</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/docker/ data-taxonomy-term=docker><span class=taxonomy-label>Docker</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/eff/ data-taxonomy-term=eff><span class=taxonomy-label>EFF</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/elasticsearch/ data-taxonomy-term=elasticsearch><span class=taxonomy-label>ElasticSearch</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/elk/ data-taxonomy-term=elk><span class=taxonomy-label>ELK</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/emoji/ data-taxonomy-term=emoji><span class=taxonomy-label>Emoji</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/emqx/ data-taxonomy-term=emqx><span class=taxonomy-label>EMQX</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/encode/ data-taxonomy-term=encode><span class=taxonomy-label>Encode</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/encrypt/ data-taxonomy-term=encrypt><span class=taxonomy-label>Encrypt</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/esxi/ data-taxonomy-term=esxi><span class=taxonomy-label>ESXi</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/extension/ data-taxonomy-term=extension><span class=taxonomy-label>Extension</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/firewall/ data-taxonomy-term=firewall><span class=taxonomy-label>Firewall</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/fortigate/ data-taxonomy-term=fortigate><span class=taxonomy-label>Fortigate</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/fortinet/ data-taxonomy-term=fortinet><span class=taxonomy-label>Fortinet</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/fortios/ data-taxonomy-term=fortios><span class=taxonomy-label>FortiOS</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/game/ data-taxonomy-term=game><span class=taxonomy-label>Game</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/geoip/ data-taxonomy-term=geoip><span class=taxonomy-label>GeoIP</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/gin/ data-taxonomy-term=gin><span class=taxonomy-label>GIN</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/git/ data-taxonomy-term=git><span class=taxonomy-label>Git</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/gitbook/ data-taxonomy-term=gitbook><span class=taxonomy-label>GitBook</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/github/ data-taxonomy-term=github><span class=taxonomy-label>Github</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/gitlab/ data-taxonomy-term=gitlab><span class=taxonomy-label>Gitlab</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/gitops/ data-taxonomy-term=gitops><span class=taxonomy-label>GitOps</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/gluetun/ data-taxonomy-term=gluetun><span class=taxonomy-label>Gluetun</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/go/ data-taxonomy-term=go><span class=taxonomy-label>Go</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/go-mysql-elasticsearch/ data-taxonomy-term=go-mysql-elasticsearch><span class=taxonomy-label>Go-Mysql-Elasticsearch</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/golang/ data-taxonomy-term=golang><span class=taxonomy-label>Golang</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/google/ data-taxonomy-term=google><span class=taxonomy-label>Google</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/gpg/ data-taxonomy-term=gpg><span class=taxonomy-label>GPG</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/graphql/ data-taxonomy-term=graphql><span class=taxonomy-label>GraphQL</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/ha/ data-taxonomy-term=ha><span class=taxonomy-label>HA</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/haproxy/ data-taxonomy-term=haproxy><span class=taxonomy-label>HAProxy</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/hash/ data-taxonomy-term=hash><span class=taxonomy-label>Hash</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/homelab/ data-taxonomy-term=homelab><span class=taxonomy-label>HomeLab</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/htop/ data-taxonomy-term=htop><span class=taxonomy-label>Htop</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/http/ data-taxonomy-term=http><span class=taxonomy-label>HTTP</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/infra/ data-taxonomy-term=infra><span class=taxonomy-label>Infra</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/infrastructure/ data-taxonomy-term=infrastructure><span class=taxonomy-label>Infrastructure</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/introduction/ data-taxonomy-term=introduction><span class=taxonomy-label>Introduction</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/iphone/ data-taxonomy-term=iphone><span class=taxonomy-label>IPhone</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/iptables/ data-taxonomy-term=iptables><span class=taxonomy-label>Iptables</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/iso/ data-taxonomy-term=iso><span class=taxonomy-label>Iso</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/issue/ data-taxonomy-term=issue><span class=taxonomy-label>Issue</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/iterm2/ data-taxonomy-term=iterm2><span class=taxonomy-label>ITerm2</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/jenkins/ data-taxonomy-term=jenkins><span class=taxonomy-label>Jenkins</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/jsoniter/ data-taxonomy-term=jsoniter><span class=taxonomy-label>Jsoniter</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/juniper/ data-taxonomy-term=juniper><span class=taxonomy-label>Juniper</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/jwt/ data-taxonomy-term=jwt><span class=taxonomy-label>JWT</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/kibana/ data-taxonomy-term=kibana><span class=taxonomy-label>Kibana</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/kubernetes/ data-taxonomy-term=kubernetes><span class=taxonomy-label>Kubernetes</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/ldap/ data-taxonomy-term=ldap><span class=taxonomy-label>LDAP</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/leetcode/ data-taxonomy-term=leetcode><span class=taxonomy-label>Leetcode</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/lightweight/ data-taxonomy-term=lightweight><span class=taxonomy-label>Lightweight</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/linkerd/ data-taxonomy-term=linkerd><span class=taxonomy-label>Linkerd</span></a></li><li><a class="taxonomy-term active" href=https://linzeyan.github.io/zh-tw/tags/linux/ data-taxonomy-term=linux><span class=taxonomy-label>Linux</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/llm/ data-taxonomy-term=llm><span class=taxonomy-label>Llm</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/lua/ data-taxonomy-term=lua><span class=taxonomy-label>Lua</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/lullaby/ data-taxonomy-term=lullaby><span class=taxonomy-label>Lullaby</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/lvm/ data-taxonomy-term=lvm><span class=taxonomy-label>LVM</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/machinelearning/ data-taxonomy-term=machinelearning><span class=taxonomy-label>Machinelearning</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/macos/ data-taxonomy-term=macos><span class=taxonomy-label>MacOS</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/markdown/ data-taxonomy-term=markdown><span class=taxonomy-label>Markdown</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/mattermost/ data-taxonomy-term=mattermost><span class=taxonomy-label>Mattermost</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/mermaid/ data-taxonomy-term=mermaid><span class=taxonomy-label>Mermaid</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/minio/ data-taxonomy-term=minio><span class=taxonomy-label>MinIO</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/module/ data-taxonomy-term=module><span class=taxonomy-label>Module</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/mqtt/ data-taxonomy-term=mqtt><span class=taxonomy-label>MQTT</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/mss/ data-taxonomy-term=mss><span class=taxonomy-label>MSS</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/mtu/ data-taxonomy-term=mtu><span class=taxonomy-label>MTU</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/music/ data-taxonomy-term=music><span class=taxonomy-label>Music</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/mydumper/ data-taxonomy-term=mydumper><span class=taxonomy-label>MyDumper</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/mysql/ data-taxonomy-term=mysql><span class=taxonomy-label>MySQL</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/nas/ data-taxonomy-term=nas><span class=taxonomy-label>NAS</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/netcat/ data-taxonomy-term=netcat><span class=taxonomy-label>Netcat</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/network/ data-taxonomy-term=network><span class=taxonomy-label>Network</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/nftables/ data-taxonomy-term=nftables><span class=taxonomy-label>Nftables</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/nginx/ data-taxonomy-term=nginx><span class=taxonomy-label>NGINX</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/oauth/ data-taxonomy-term=oauth><span class=taxonomy-label>OAuth</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/oidc/ data-taxonomy-term=oidc><span class=taxonomy-label>OIDC</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/ollama/ data-taxonomy-term=ollama><span class=taxonomy-label>Ollama</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/openresty/ data-taxonomy-term=openresty><span class=taxonomy-label>OpenResty</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/parquet/ data-taxonomy-term=parquet><span class=taxonomy-label>Parquet</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/percona/ data-taxonomy-term=percona><span class=taxonomy-label>Percona</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/pinyin/ data-taxonomy-term=pinyin><span class=taxonomy-label>Pinyin</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/pip/ data-taxonomy-term=pip><span class=taxonomy-label>Pip</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/plugin/ data-taxonomy-term=plugin><span class=taxonomy-label>Plugin</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/pokemon/ data-taxonomy-term=pokemon><span class=taxonomy-label>Pokemon</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/powerdns/ data-taxonomy-term=powerdns><span class=taxonomy-label>PowerDNS</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/powershell/ data-taxonomy-term=powershell><span class=taxonomy-label>PowerShell</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/pprof/ data-taxonomy-term=pprof><span class=taxonomy-label>Pprof</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/principle/ data-taxonomy-term=principle><span class=taxonomy-label>Principle</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/prometheus/ data-taxonomy-term=prometheus><span class=taxonomy-label>Prometheus</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/protobuf/ data-taxonomy-term=protobuf><span class=taxonomy-label>Protobuf</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/proxy/ data-taxonomy-term=proxy><span class=taxonomy-label>Proxy</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/push/ data-taxonomy-term=push><span class=taxonomy-label>Push</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/python/ data-taxonomy-term=python><span class=taxonomy-label>Python</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/qrcode/ data-taxonomy-term=qrcode><span class=taxonomy-label>QRCode</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/r/ data-taxonomy-term=r><span class=taxonomy-label>R</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/raid/ data-taxonomy-term=raid><span class=taxonomy-label>RAID</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/rdp/ data-taxonomy-term=rdp><span class=taxonomy-label>RDP</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/redis/ data-taxonomy-term=redis><span class=taxonomy-label>Redis</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/regex/ data-taxonomy-term=regex><span class=taxonomy-label>Regex</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/ringtone/ data-taxonomy-term=ringtone><span class=taxonomy-label>Ringtone</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/route/ data-taxonomy-term=route><span class=taxonomy-label>Route</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/rust/ data-taxonomy-term=rust><span class=taxonomy-label>Rust</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/s3/ data-taxonomy-term=s3><span class=taxonomy-label>S3</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/screenshot/ data-taxonomy-term=screenshot><span class=taxonomy-label>ScreenShot</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/security/ data-taxonomy-term=security><span class=taxonomy-label>Security</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/selenium/ data-taxonomy-term=selenium><span class=taxonomy-label>Selenium</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/sentry/ data-taxonomy-term=sentry><span class=taxonomy-label>Sentry</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/service-mesh/ data-taxonomy-term=service-mesh><span class=taxonomy-label>Service Mesh</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/sftp/ data-taxonomy-term=sftp><span class=taxonomy-label>SFTP</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/shell/ data-taxonomy-term=shell><span class=taxonomy-label>SHELL</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/slides/ data-taxonomy-term=slides><span class=taxonomy-label>Slides</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/snow/ data-taxonomy-term=snow><span class=taxonomy-label>Snow</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/software/ data-taxonomy-term=software><span class=taxonomy-label>Software</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/sonarqube/ data-taxonomy-term=sonarqube><span class=taxonomy-label>SonarQube</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/sql/ data-taxonomy-term=sql><span class=taxonomy-label>SQL</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/ssh/ data-taxonomy-term=ssh><span class=taxonomy-label>SSH</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/ssl/ data-taxonomy-term=ssl><span class=taxonomy-label>SSL</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/string/ data-taxonomy-term=string><span class=taxonomy-label>String</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/switch/ data-taxonomy-term=switch><span class=taxonomy-label>Switch</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/sync/ data-taxonomy-term=sync><span class=taxonomy-label>Sync</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/synology/ data-taxonomy-term=synology><span class=taxonomy-label>Synology</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/system/ data-taxonomy-term=system><span class=taxonomy-label>System</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/tcpdump/ data-taxonomy-term=tcpdump><span class=taxonomy-label>Tcpdump</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/telegram/ data-taxonomy-term=telegram><span class=taxonomy-label>Telegram</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/terminal/ data-taxonomy-term=terminal><span class=taxonomy-label>Terminal</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/terraform/ data-taxonomy-term=terraform><span class=taxonomy-label>Terraform</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/test/ data-taxonomy-term=test><span class=taxonomy-label>Test</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/testing/ data-taxonomy-term=testing><span class=taxonomy-label>Testing</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/time/ data-taxonomy-term=time><span class=taxonomy-label>Time</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/timeout/ data-taxonomy-term=timeout><span class=taxonomy-label>Timeout</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/tls/ data-taxonomy-term=tls><span class=taxonomy-label>TLS</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/tor/ data-taxonomy-term=tor><span class=taxonomy-label>Tor</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/trace/ data-taxonomy-term=trace><span class=taxonomy-label>Trace</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/traefik/ data-taxonomy-term=traefik><span class=taxonomy-label>Traefik</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/travel/ data-taxonomy-term=travel><span class=taxonomy-label>Travel</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/tunnel/ data-taxonomy-term=tunnel><span class=taxonomy-label>Tunnel</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/typora/ data-taxonomy-term=typora><span class=taxonomy-label>Typora</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/ubuntu/ data-taxonomy-term=ubuntu><span class=taxonomy-label>Ubuntu</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/url/ data-taxonomy-term=url><span class=taxonomy-label>URL</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/useragent/ data-taxonomy-term=useragent><span class=taxonomy-label>UserAgent</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/v2ray/ data-taxonomy-term=v2ray><span class=taxonomy-label>V2Ray</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/vagrant/ data-taxonomy-term=vagrant><span class=taxonomy-label>Vagrant</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/video/ data-taxonomy-term=video><span class=taxonomy-label>Video</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/vim/ data-taxonomy-term=vim><span class=taxonomy-label>Vim</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/virtualization/ data-taxonomy-term=virtualization><span class=taxonomy-label>Virtualization</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/visualization/ data-taxonomy-term=visualization><span class=taxonomy-label>Visualization</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/vnc/ data-taxonomy-term=vnc><span class=taxonomy-label>VNC</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/vpn/ data-taxonomy-term=vpn><span class=taxonomy-label>VPN</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/vscode/ data-taxonomy-term=vscode><span class=taxonomy-label>VScode</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/waf/ data-taxonomy-term=waf><span class=taxonomy-label>WAF</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/web/ data-taxonomy-term=web><span class=taxonomy-label>Web</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/webp/ data-taxonomy-term=webp><span class=taxonomy-label>Webp</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/windows/ data-taxonomy-term=windows><span class=taxonomy-label>Windows</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/wsl/ data-taxonomy-term=wsl><span class=taxonomy-label>WSL</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/yaml/ data-taxonomy-term=yaml><span class=taxonomy-label>YAML</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/youtube/ data-taxonomy-term=youtube><span class=taxonomy-label>Youtube</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/zabbix/ data-taxonomy-term=zabbix><span class=taxonomy-label>Zabbix</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/zero-trust/ data-taxonomy-term=zero-trust><span class=taxonomy-label>Zero Trust</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/zim/ data-taxonomy-term=zim><span class=taxonomy-label>Zim</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/zsh/ data-taxonomy-term=zsh><span class=taxonomy-label>ZSH</span></a></li><li><a class=taxonomy-term href=https://linzeyan.github.io/zh-tw/tags/%E5%8F%B0%E8%AA%9E/ data-taxonomy-term=%E5%8F%B0%E8%AA%9E><span class=taxonomy-label>台語</span></a></li></div></ul></div></div></div></section><section class=content-section id=content-section><div class="content container-fluid" id=content><div class="container-fluid post-card-holder" id=post-card-holder><div class=post-card><div class=card><div class=card-head><a href=/zh-tw/posts/2021/20210304-ssh-failing-with-error-fatal-daemon-failed-no-such-device/ class=post-card-link><img class=card-img-top src=/images/hero/linux.png alt="Hero Image"></a></div><div class=card-body><a href=/zh-tw/posts/2021/20210304-ssh-failing-with-error-fatal-daemon-failed-no-such-device/ class=post-card-link><h5 class=card-title>SSH failing with Error : fatal: daemon() failed: No such device</h5><p class="card-text post-summary">SSH failing with Error : fatal: daemon() failed: No such device /var/log/secure
Oct 10 10:58:05 vps sshd[23799]: fatal: daemon() failed: No such device
# rm -vf /dev/null removed `/dev/null` -bash-3.2# mknod /dev/null c 1 3 Started SSH and the SSH started responding: # service sshd restart Stopping sshd: [ OK ] Starting sshd: [ OK ] -bash-3.2# service sshd status openssh-daemon (pid 30608) is running…</p></a></div><div class=card-footer><span class=float-start>Thursday, March 4, 2021
</span><a href=/zh-tw/posts/2021/20210304-ssh-failing-with-error-fatal-daemon-failed-no-such-device/ class="float-end btn btn-outline-info btn-sm">閱讀</a></div></div></div><div class=post-card><div class=card><div class=card-head><a href=/zh-tw/posts/2020/20201109-145053/ class=post-card-link><img class=card-img-top src=/images/hero/linux.png alt="Hero Image"></a></div><div class=card-body><a href=/zh-tw/posts/2020/20201109-145053/ class=post-card-link><h5 class=card-title>CentOS 7 掛載 Synology NAS 資料夾</h5><p class="card-text post-summary">CentOS 7 掛載 Synology NAS 資料夾</p></a></div><div class=card-footer><span class=float-start>Monday, November 9, 2020
</span><a href=/zh-tw/posts/2020/20201109-145053/ class="float-end btn btn-outline-info btn-sm">閱讀</a></div></div></div><div class=post-card><div class=card><div class=card-head><a href=/zh-tw/posts/2020/20200929-how-to-config-chronyd-on-rhel7-centos7/ class=post-card-link><img class=card-img-top src=/images/hero/linux.png alt="Hero Image"></a></div><div class=card-body><a href=/zh-tw/posts/2020/20200929-how-to-config-chronyd-on-rhel7-centos7/ class=post-card-link><h5 class=card-title>如何設定時區與NTP服務在RHEL7/CentOS7</h5><p class="card-text post-summary">如何設定時區與 NTP 服務在 RHEL7/CentOS7 chrony 包含兩個程序，chronyd 是一個可以在啟動時啟動的守護進程，chronyc 是一個命令行界面程序，可用於監控 chronyd 的性能並在運行時更改各種運行參數。
注意 ntpd 和 chronyd 擇一就可，不要同時運作。
設定時區 ~# timedatectl set-timezone Asia/Taipei ~# timedatectl Local time: Tue 2018-03-27 14:13:38 CST Universal time: Tue 2018-03-27 06:13:38 UTC RTC time: Tue 2018-03-27 06:13:40 Time zone: Asia/Taipei (CST, +0800) NTP enabled: no NTP synchronized: no RTC in local TZ: no DST active: n/a 設定 chronyd # 安裝 ~# yum install -y chrony # 配置設定檔 ~# cat /etc/chrony.conf # Use public servers from the pool.ntp.org project. # Please consider joining the pool (http://www.pool.ntp.org/join.html). server 0.tw.pool.ntp.org iburst --->改成本地的伺服器 server 1.tw.pool.ntp.org iburst --->改成本地的伺服器 server 2.tw.pool.ntp.org iburst --->改成本地的伺服器 server 3.tw.pool.ntp.org iburst --->改成本地的伺服器 # 啟動服務和設為開機時啟動 ~# systemctl enable chronyd ~# systemctl start chronyd racking 參數顯示有關系統時間效能 ~# chronyc tracking Reference ID : 3DD8996B (61-216-153-107.hinet-ip.hinet.net) --->表示現在同步的時間伺服器，如果沒有id表示沒有同步 Stratum : 4 --->表示計算機有多少"跳hop" 表示本地的是第四層 Ref time (UTC) : Tue Mar 27 06:03:38 2018 --->最後一次測量的時間 System time : 0.000040356 seconds fast of NTP time --->調整系統時間 Last offset : +0.000163738 seconds RMS offset : 0.000163738 seconds Frequency : 21.384 ppm fast Residual freq : +0.000 ppm Skew : 675.319 ppm Root delay : 0.008527911 seconds Root dispersion : 0.066466033 seconds Update interval : 2.0 seconds Leap status : Normal --->Normal要顯示此值, Insert second, Delete second or Not synchronised. ~# chronyc sources -v 210 Number of sources = 4 .-- Source mode '^' = server, '=' = peer, '#' = local clock. / .- Source state '*' = current synced, '+' = combined , '-' = not combined, | / '?' = unreachable, 'x' = time may be in error, '~' = time too variable. || .- xxxx [ yyyy ] +/- zzzz || Reachability register (octal) -. | xxxx = adjusted offset, || Log2(Polling interval) --. | | yyyy = measured offset, || \ | | zzzz = estimated error. || | | \ MS Name/IP address Stratum Poll Reach LastRx Last sample =============================================================================== ^* 59-124-29-241.hinet-ip.h> 3 6 37 24 -1462us[-2363us] +/- 49ms ^+ 61-216-153-107.hinet-ip.> 3 6 37 23 -556us[ -556us] +/- 64ms ^? 59-125-122-217.hinet-ip.> 0 7 0 - +0ns[ +0ns] +/- 0ns ^- 61-216-153-105.hinet-ip.> 3 6 37 23 -280us[ -280us] +/- 64ms 看同步源頭的資訊 ~# chronyc sourcestats -v 210 Number of sources = 4 .- Number of sample points in measurement set. / .- Number of residual runs with same sign. | / .- Length of measurement set (time). | | / .- Est. clock freq error (ppm). | | | / .- Est. error in freq. | | | | / .- Est. offset. | | | | | | On the -. | | | | | | samples. \ | | | | | | | Name/IP Address NP NR Span Frequency Freq Skew Offset Std Dev ============================================================================== 59-124-29-241.hinet-ip.h> 6 5 135 -0.454 4.553 -784us 66us 61-216-153-107.hinet-ip.> 6 6 135 +4.455 19.761 +622us 247us 59-125-122-217.hinet-ip.> 0 0 0 +0.000 2000.000 +0ns 4000ms 61-216-153-105.hinet-ip.> 6 4 136 +8.965 42.440 +1250us 495us 將系統時間寫到硬體(主機板上的時間)上 ~# hwclock --systohc ~# date ; hwclock Tue Mar 27 14:07:57 CST 2018 Tue 27 Mar 2018 02:07:58 PM CST -0.938012 seconds</p></a></div><div class=card-footer><span class=float-start>Tuesday, September 29, 2020
</span><a href=/zh-tw/posts/2020/20200929-how-to-config-chronyd-on-rhel7-centos7/ class="float-end btn btn-outline-info btn-sm">閱讀</a></div></div></div><div class=post-card><div class=card><div class=card-head><a href=/zh-tw/posts/2020/20200925-install-powerdns-and-powerdns-admin-on-ubuntu/ class=post-card-link><img class=card-img-top src=/images/hero/linux.png alt="Hero Image"></a></div><div class=card-body><a href=/zh-tw/posts/2020/20200925-install-powerdns-and-powerdns-admin-on-ubuntu/ class=post-card-link><h5 class=card-title>Install PowerDNS and PowerDNS-Admin on Ubuntu 22.04|20.04|18.04</h5><p class="card-text post-summary">Install PowerDNS and PowerDNS-Admin on Ubuntu 22.04|20.04|18.04 Master-Master PowerDNS with Galera Replication https://www.scaleway.com/en/docs/installing-powerdns-server-on-ubuntu-bionic/ Install PowerDNS $ sudo apt update $ sudo apt install mariadb-server -y $ sudo mysql -u root CREATE DATABASE powerdns; GRANT ALL ON powerdns.* TO 'powerdns'@'localhost' IDENTIFIED BY 'Str0ngPasswOrd'; FLUSH PRIVILEGES; USE powerdns; CREATE TABLE domains ( id INT AUTO_INCREMENT, name VARCHAR(255) NOT NULL, master VARCHAR(128) DEFAULT NULL, last_check INT DEFAULT NULL, type VARCHAR(6) NOT NULL, notified_serial INT UNSIGNED DEFAULT NULL, account VARCHAR(40) CHARACTER SET 'utf8' DEFAULT NULL, PRIMARY KEY (id) ) Engine=InnoDB CHARACTER SET 'latin1'; CREATE UNIQUE INDEX name_index ON domains(name); CREATE TABLE records ( id BIGINT AUTO_INCREMENT, domain_id INT DEFAULT NULL, name VARCHAR(255) DEFAULT NULL, type VARCHAR(10) DEFAULT NULL, content VARCHAR(64000) DEFAULT NULL, ttl INT DEFAULT NULL, prio INT DEFAULT NULL, change_date INT DEFAULT NULL, disabled TINYINT(1) DEFAULT 0, ordername VARCHAR(255) BINARY DEFAULT NULL, auth TINYINT(1) DEFAULT 1, PRIMARY KEY (id) ) Engine=InnoDB CHARACTER SET 'latin1'; CREATE INDEX nametype_index ON records(name,type); CREATE INDEX domain_id ON records(domain_id); CREATE INDEX ordername ON records (ordername); CREATE TABLE supermasters ( ip VARCHAR(64) NOT NULL, nameserver VARCHAR(255) NOT NULL, account VARCHAR(40) CHARACTER SET 'utf8' NOT NULL, PRIMARY KEY (ip, nameserver) ) Engine=InnoDB CHARACTER SET 'latin1'; CREATE TABLE comments ( id INT AUTO_INCREMENT, domain_id INT NOT NULL, name VARCHAR(255) NOT NULL, type VARCHAR(10) NOT NULL, modified_at INT NOT NULL, account VARCHAR(40) CHARACTER SET 'utf8' DEFAULT NULL, comment TEXT CHARACTER SET 'utf8' NOT NULL, PRIMARY KEY (id) ) Engine=InnoDB CHARACTER SET 'latin1'; CREATE INDEX comments_name_type_idx ON comments (name, type); CREATE INDEX comments_order_idx ON comments (domain_id, modified_at); CREATE TABLE domainmetadata ( id INT AUTO_INCREMENT, domain_id INT NOT NULL, kind VARCHAR(32), content TEXT, PRIMARY KEY (id) ) Engine=InnoDB CHARACTER SET 'latin1'; CREATE INDEX domainmetadata_idx ON domainmetadata (domain_id, kind); CREATE TABLE cryptokeys ( id INT AUTO_INCREMENT, domain_id INT NOT NULL, flags INT NOT NULL, active BOOL, content TEXT, PRIMARY KEY(id) ) Engine=InnoDB CHARACTER SET 'latin1'; CREATE INDEX domainidindex ON cryptokeys(domain_id); CREATE TABLE tsigkeys ( id INT AUTO_INCREMENT, name VARCHAR(255), algorithm VARCHAR(50), secret VARCHAR(255), PRIMARY KEY (id) ) Engine=InnoDB CHARACTER SET 'latin1'; CREATE UNIQUE INDEX namealgoindex ON tsigkeys(name, algorithm); $ sudo systemctl disable systemd-resolved $ sudo systemctl stop systemd-resolved $ ls -lh /etc/resolv.conf lrwxrwxrwx 1 root root 39 Jul 24 15:50 /etc/resolv.conf -> ../run/systemd/resolve/stub-resolv.conf $ sudo unlink /etc/resolv.conf $ echo "nameserver 8.8.8.8" | sudo tee /etc/resolv.conf Add official PowerDNS repository for Ubuntu 22.04|20.04|18.04.</p></a></div><div class=card-footer><span class=float-start>Friday, September 25, 2020
</span><a href=/zh-tw/posts/2020/20200925-install-powerdns-and-powerdns-admin-on-ubuntu/ class="float-end btn btn-outline-info btn-sm">閱讀</a></div></div></div><div class=post-card><div class=card><div class=card-head><a href=/zh-tw/posts/2020/20200918-ubuntu-18-04/ class=post-card-link><img class=card-img-top src=/images/hero/linux.png alt="Hero Image"></a></div><div class=card-body><a href=/zh-tw/posts/2020/20200918-ubuntu-18-04/ class=post-card-link><h5 class=card-title>Ubuntu 18.04 透過 netplan 設定網路卡 IP</h5><p class="card-text post-summary">Ubuntu 18.04 透過 netplan 設定網路卡 IP 照上面的說明看了一下 /etc/netplan 目錄，查閱一下 /etc/netplan/50-cloud-init.yaml，如下：
# This file is generated from information provided by # the datasource. Changes to it will not persist across an instance. # To disable cloud-init's network configuration capabilities, write a file # /etc/cloud/cloud.cfg.d/99-disable-network-config.cfg with the following: # network: {config: disabled} network: ethernets: ens192: dhcp4: true ens224: dhcp4: true version: 2 看來可以關閉 cloud network，但是我其實也沒有要用 cloud-init，乾脆移除它，如下：
sudo apt-get remove cloud-init
然後把 /etc/netplan/50-cloud-init.yaml 改成下面這樣：
# This file is generated from information provided by # the datasource. Changes to it will not persist across an instance. # To disable cloud-init's network configuration capabilities, write a file # /etc/cloud/cloud.cfg.d/99-disable-network-config.cfg with the following: # network: {config: disabled} network: ethernets: ens192: addresses: [192.168.32.231/24] gateway4: 192.168.32.1 nameservers: addresses: [8.8.8.8, 8.8.4.4] dhcp4: no ens224: dhcp4: true version: 2 這幾年 yaml 深得大眾的心，設定檔就是要用 yaml 格式才是潮，解說一下上述幾個設定：</p></a></div><div class=card-footer><span class=float-start>Friday, September 18, 2020
</span><a href=/zh-tw/posts/2020/20200918-ubuntu-18-04/ class="float-end btn btn-outline-info btn-sm">閱讀</a></div></div></div><div class=post-card><div class=card><div class=card-head><a href=/zh-tw/posts/2020/20200917-5b892a0b2b71775d1ce04eff/ class=post-card-link><img class=card-img-top src=/images/hero/linux.png alt="Hero Image"></a></div><div class=card-body><a href=/zh-tw/posts/2020/20200917-5b892a0b2b71775d1ce04eff/ class=post-card-link><h5 class=card-title>openvpn部署之部署基於AD域認證</h5><p class="card-text post-summary">openvpn 部署之部署基於 AD 域認證 OpenVPN + PAM + SSSD + Active Directory https://computingforgeeks.com/install-and-configure-openvpn-server-on-rhel-centos-8/ https://www.redhat.com/en/blog/consistent-security-crypto-policies-red-hat-enterprise-linux-8 https://medium.com/jerrynotes/linux-authentication-windows-ad-without-join-domain-7963c3fd44c5 # 安裝openvpn yum install openvpn -y yum -y install openssl openssl-devel -y yum -y install lzo lzo-devel -y yum install -y libgcrypt libgpg-error libgcrypt-devel # 安裝openvpn認證插件 yum install openvpn-auth-ldap -y # 安裝easy-rsa # 由於openvpn2.3之後，在openvpn裏面剔除了easy-rsa文件，所以需要單獨安裝 yum install easy-rsa cp -rf /usr/share/easy-rsa/2.0 /etc/opevpn/ # 生成openvpn的key及證書 # 修改 `/opt/openvpn/etc/easy-rsa/2.0/vars` 參數 export KEY_COUNTRY="CN" # 國家 export KEY_PROVINCE="ZJ" # 省份 export KEY_CITY="NingBo" # 城市 export KEY_ORG="TEST-VPN" # 組織 exportKEY_EMAIL="81367070@qq.com" # 郵件 export KEY_OU="baidu" # 單位 source vars ./clean-all ./build-ca ./build-dh ./build-key-server server ./build-key client1 # 編輯openvpn服務端配置文件：`/etc/openvpn/server.conf` port 1194 proto udp dev tun ca keys/ca.crt cert keys/server.crt key keys/server.key # This file should be kept secret dh keys/dh2048.pem server 10.8.0.0 255.255.255.0 //客戶端分配的ip地址 push "route 192.168.1.0 255.255.255.0" //推送客戶端的路由 push "redirect-gateway" //修改客戶端的網關，使其直接走vpn流量 ifconfig-pool-persist ipp.txt keepalive 10 120 comp-lzo persist-key persist-tun status openvpn-status.log verb 3 plugin /usr/lib64/openvpn/plugin/lib/openvpn-auth-ldap.so "/etc/openvpn/auth/ldap.conf" client-cert-not-required username-as-common-name log /var/log/openvpn.log # 修改openvpn-ldap-auth的配置文件 `/etc/openvpn/auth/ldap.conf` # /etc/openvpn/auth/ldap.conf &lt;LDAP> # LDAP server URL # 更改爲 AD 服務器的 IP URL ldap://172.16.76.238:389 # Bind DN (If your LDAP server doesn't support anonymous binds) # BindDN uid=Manager,ou=People,dc=example,dc=com # 更改爲域管理的 DN, 可以通過 ldapsearch 進行查詢 # -h 的 ip 替換爲服務器 ip，-D 換爲管理員的 dn，-b 爲基礎的查詢 dn，* 爲所有 # ldapsearch -LLL -x -h 172.16.76.238 -D "administrator@xx.com" -W -b "dc=xx,dc=com" "*" BindDN "cn=administrator,cn=Users,dc=xx,dc=com" # Bind Password # Password SecretPassword # 域管理員的密碼 Password passwd # Network timeout (in seconds) Timeout 15 # Enable Start TLS TLSEnable no # Follow LDAP Referrals (anonymously) FollowReferrals no # TLS CA Certificate File # TLSCACertFile /usr/local/etc/ssl/ca.pem # TLS CA Certificate Directory # TLSCACertDir /etc/ssl/certs # Client Certificate and key # If TLS client authentication is required # TLSCertFile /usr/local/etc/ssl/client-cert.pem # TLSKeyFile /usr/local/etc/ssl/client-key.pem # Cipher Suite # The defaults are usually fine here # TLSCipherSuite ALL:!ADH:@STRENGTH &lt;/LDAP> &lt;Authorization> # Base DN # 查詢認證的基礎 dn BaseDN "dc=boqii-inc,dc=com" # User Search Filter # SearchFilter "(&(uid=%u)(accountStatus=active))" # 其中 sAMAccountName=%u 的意思是把 sAMAccountName 的字段取值爲用戶名， # 後面 "memberof=CN=myvpn,DC=xx,DC=com" 指向要認證的 vpn 用戶組， # 這樣任何用戶使用 vpn，只要加入這個組就好了 SearchFilter "(&(sAMAccountName=%u)(memberof=CN=myvpn,DC=boqii-inc,DC=com))" # Require Group Membership RequireGroup false # Add non-group members to a PF table (disabled) # PFTable ips_vpn_users &lt;Group> # BaseDN "ou=Groups,dc=example,dc=com" # SearchFilter "(|(cn=developers)(cn=artists))" # MemberAttribute uniqueMember # Add group members to a PF table (disabled) # PFTable ips_vpn_eng BaseDN "ou=vpn,dc=boqii-inc,dc=com" SearchFilter "(cn=openvpn)" MemberAttribute "member" &lt;/Group> &lt;/Authorization> 拷貝/etc/openvpn/key目錄下的ca.crt證書，以備客戶端使用。</p></a></div><div class=card-footer><span class=float-start>Thursday, September 17, 2020
</span><a href=/zh-tw/posts/2020/20200917-5b892a0b2b71775d1ce04eff/ class="float-end btn btn-outline-info btn-sm">閱讀</a></div></div></div><div class=post-card><div class=card><div class=card-head><a href=/zh-tw/posts/2020/20200729-easy-way-to-determine-virtualization-technology/ class=post-card-link><img class=card-img-top src=/images/hero/linux.png alt="Hero Image"></a></div><div class=card-body><a href=/zh-tw/posts/2020/20200729-easy-way-to-determine-virtualization-technology/ class=post-card-link><h5 class=card-title>确定虚拟化技术的简便方法</h5><p class="card-text post-summary">确定虚拟化技术的简便方法 dmidecode -s system-product-name 虚拟化技术
VMware 工作站 root@router:~# dmidecode -s system-product-name VMware Virtual Platform 虚拟盒子 root@router:~# dmidecode -s system-product-name VirtualBox Qemu 与 KVM root@router:~# dmidecode -s system-product-name KVM Qemu（模拟）
root@router:~# dmidecode -s system-product-name Bochs Microsoft 虚拟 PC root@router:~# dmidecode | egrep -i 'manufacturer|product' Manufacturer: Microsoft Corporation Product Name: Virtual Machine 维尔图佐 root@router:~# dmidecode /dev/mem: Permission denied en root@router:~# dmidecode | grep -i domU Product Name: HVM domU /dev/disk/by-id 如果您没有 dmidecode 运行权， 则可以使用： ls -1 /dev/disk/by-id/</p></a></div><div class=card-footer><span class=float-start>Wednesday, July 29, 2020
</span><a href=/zh-tw/posts/2020/20200729-easy-way-to-determine-virtualization-technology/ class="float-end btn btn-outline-info btn-sm">閱讀</a></div></div></div><div class=post-card><div class=card><div class=card-head><a href=/zh-tw/posts/2020/20200708-ssh-certificate/ class=post-card-link><img class=card-img-top src=/images/hero/linux.png alt="Hero Image"></a></div><div class=card-body><a href=/zh-tw/posts/2020/20200708-ssh-certificate/ class=post-card-link><h5 class=card-title>SSH 证书登录教程</h5><p class="card-text post-summary">SSH 证书登录教程 证书登录的流程 SSH 证书登录之前，如果还没有证书，需要生成证书。具体方法是：
用户和服务器都将自己的公钥，发给 CA CA 使用服务器公钥，生成服务器证书，发给服务器 CA 使用用户的公钥，生成用户证书，发给用户。 有了证书以后，用户就可以登录服务器了。整个过程都是 SSH 自动处理，用户无感知。
用户登录服务器时，SSH 自动将用户证书发给服务器。 服务器检查用户证书是否有效，以及是否由可信的 CA 颁发。 SSH 自动将服务器证书发给用户。 用户检查服务器证书是否有效，以及是否由信任的 CA 颁发。 双方建立连接，服务器允许用户登录。 生成 CA 的密钥 虽然 CA 可以用同一对密码签发用户证书和服务器证书，但是出于安全性和灵活性，最好用不同的密钥分别签发。所以，CA 至少需要两对密钥，一对是签发用户证书的密钥，假设叫做 user_ca，另一对是签发服务器证书的密钥，假设叫做 host_ca。
# 生成 CA 签发用户证书的密钥 # 会在~/.ssh目录生成一对密钥：user_ca（私钥）和user_ca.pub（公钥） # 各个参数含义如下 # -t rsa：指定密钥算法 RSA。 # -b 4096：指定密钥的位数是4096位。安全性要求不高的场合，这个值可以小一点，但是不应小于1024。 # -f ~/.ssh/user_ca：指定生成密钥的位置和文件名。 # -C user_ca：指定密钥的识别字符串，相当于注释，可以随意设置。 $ ssh-keygen -t rsa -b 4096 -f ~/.ssh/user_ca -C user_ca # 生成 CA 签发服务器证书的密钥 # 会在~/.ssh目录生成一对密钥：host_ca（私钥）和host_ca.pub（公钥） # 现在，~/.ssh目录应该至少有四把密钥。 # - ~/.ssh/user_ca # - ~/.ssh/user_ca.pub # - ~/.ssh/host_ca # - ~/.ssh/host_ca.pub $ ssh-keygen -t rsa -b 4096 -f host_ca -C host_ca 服务器安装 CA 公钥 # 为了让服务器信任用户证书，必须将 CA 签发用户证书的公钥`user_ca.pub`，拷贝到服务器 $ scp ~/.ssh/user_ca.pub root@host.example.com:/etc/ssh/ 然后，将下面一行添加到服务器配置文件 /etc/ssh/sshd_config TrustedUserCAKeys /etc/ssh/user_ca.pub 上面的做法是将user_ca.pub加到/etc/ssh/sshd_config，这会产生全局效果，即服务器的所有账户都会信任user_ca签发的所有用户证书。</p></a></div><div class=card-footer><span class=float-start>Wednesday, July 8, 2020
</span><a href=/zh-tw/posts/2020/20200708-ssh-certificate/ class="float-end btn btn-outline-info btn-sm">閱讀</a></div></div></div><div class=post-card><div class=card><div class=card-head><a href=/zh-tw/posts/2020/20200414-6844904122794115086/ class=post-card-link><img class=card-img-top src=/images/hero/linux.png alt="Hero Image"></a></div><div class=card-body><a href=/zh-tw/posts/2020/20200414-6844904122794115086/ class=post-card-link><h5 class=card-title>活久见！Linux命令行居然也可以用来查看图像？</h5><p class="card-text post-summary">活久见！Linux 命令行居然也可以用来查看图像？ FIM sudo apt-get install fim
控制 FIM 中图像的常用快捷键：
PageUp / Down：上一个图像/下一个图像 +/-：放大/缩小 a：自动缩放 w：合适宽度 h：合适身高 j / k：向下平移/向上平移 f / m：翻转/镜面反射 r / R：旋转（顺时针和逆时针） ESC / q：退出 Viu cargo install viu
Lsix sudo apt-get install imagemagick
wget https://github.com/hackerb9/lsix/archive/master.zip</p></a></div><div class=card-footer><span class=float-start>Tuesday, April 14, 2020
</span><a href=/zh-tw/posts/2020/20200414-6844904122794115086/ class="float-end btn btn-outline-info btn-sm">閱讀</a></div></div></div><div class=post-card><div class=card><div class=card-head><a href=/zh-tw/posts/2019/20191204-ip-tables-rule-load-balance/ class=post-card-link><img class=card-img-top src=/images/hero/linux.png alt="Hero Image"></a></div><div class=card-body><a href=/zh-tw/posts/2019/20191204-ip-tables-rule-load-balance/ class=post-card-link><h5 class=card-title>用 iptables 和 ip rule 做负载均衡</h5><p class="card-text post-summary">用 iptables 和 ip rule 做负载均衡 操作 这里以一台通过有线 + 无线出口连接到互联网的 Arch Linux 设备为例。其中共有两个出口，分别使用网卡 eth0 和 eth1。大概的对应关系是：
标记 10 (0xa) - 路由表 #110 - 使用 eth0 出口 标记 11 (0xb) - 路由表 #111 - 使用 eth1 出口 我们会根据数据包上包含的标记值来判断它应该走什么出口。首先，使用 ip rule 为每个标记值指定一张使用的路由表。
通常默认路由表的权重是 32768。为了让我们的路由表用得上，我们需要把它们的权重调得高一些（例如 31000）。
# 让带标记 10 (0xa) 的数据包使用 110 号路由表，权重 31000 ip rule add fwmark 10 table 110 prio 31000 # 让带标记 11 (0xb) 的数据包使用 111 号路由表，权重 31000 ip rule add fwmark 11 table 111 prio 31000 # 如果你的连接更多，可以继续添加标记 &lt;-> 路由表的对应关系 # #110 路由表的路由 ip route add 10.20.0.0/24 dev eth0 table 110 ip route add default via 10.20.0.254 table 110 # #111 路由表的路由 ip route add 10.25.0.0/24 dev eth1 table 111 ip route add default via 10.25.0.254 table 111 # 如果这条连接已经被标记，那么把标记设置到数据包上 iptables -t mangle -A OUTPUT -j CONNMARK --restore-mark # 如果数据包已经有标记，直接放行 iptables -t mangle -A OUTPUT -m mark ! --mark 0 -j ACCEPT # 如果数据包没被标记的话 # 把数据包包的标记设置为 11 (0xb)... iptables -t mangle -A OUTPUT -j MARK --set-mark 10 # 并且每 2 个包就把一个包的标记设置为 10 (0xa) iptables -t mangle -A OUTPUT -m statistic --mode nth --every 2 --packet 0 -j MARK --set-mark 11 # 如果你有三条出口的话，这里可以类似于 # iptables -t mangle -A OUTPUT -j MARK --set-mark 10 # iptables -t mangle -A OUTPUT -m statistic --mode nth --every 3 --packet 0 -j MARK --set-mark 11 # iptables -t mangle -A OUTPUT -m statistic --mode nth --every 3 --packet 1 -j MARK --set-mark 12 # 把数据包的标记存储到整条连接上，这样整个连接过程都会使用同一条出口 iptables -t mangle -A OUTPUT -j CONNMARK --save-mark # 我们还需要让数据包上标示的出口是我们为其选择的出口 iptables -t nat -A POSTROUTING -o eth0 -j MASQUERADE iptables -t nat -A POSTROUTING -o eth1 -j MASQUERADE 之后可以用 iptables -L OUTPUT -t mangle 看一下自己所设置的规则是否正确。然后就可以用 Wiresharks 看一看自己的连接是不是真的分流啦。</p></a></div><div class=card-footer><span class=float-start>Wednesday, December 4, 2019
</span><a href=/zh-tw/posts/2019/20191204-ip-tables-rule-load-balance/ class="float-end btn btn-outline-info btn-sm">閱讀</a></div></div></div><div class=post-card><div class=card><div class=card-head><a href=/zh-tw/posts/2019/20191007-fuck-cmcc/ class=post-card-link><img class=card-img-top src=/images/hero/linux.png alt="Hero Image"></a></div><div class=card-body><a href=/zh-tw/posts/2019/20191007-fuck-cmcc/ class=post-card-link><h5 class=card-title>再战运营商缓存之 使用 iptables 对付死 X 缓存劫持</h5><p class="card-text post-summary">再战运营商缓存之 使用 iptables 对付死 X 缓存劫持 起因 与移动的缓存问题进行斗争要追溯到两年前，那时候因为移动竟然连 cnpm 的数据都进行缓存。并且令人喷饭的是：移动的缓存服务器不但经常速度慢到堪比万年王八跑马拉松，甚至还经常宕机，导致我只想安安静静的写个代码却不得不面对一片鲜红的报错
解决 iptables -I FORWARD -p tcp -m tcp -m ttl --ttl-gt 20 -m ttl --ttl-lt 30 -j DROP
考虑到可能还真的有其他幺蛾子服务器发来的真实数据包的 TTL 也在 20-30 的区间范围内，应该再加一层判断。对比了移动的 302 劫持包和正常的 302 跳转包的报文后，发现移动的劫持包的状态位包含 FIN, PSH, ACK 而正常的 302 跳转包一般不会这三个都有
那么就在 iptables 规则里加上状态位是否包含 FIN, PSH, ACK 的判断：
iptables -I FORWARD -p tcp -m tcp -m ttl --ttl-gt 20 -m ttl --ttl-lt 30 --tcp-flags ALL FIN,PSH,ACK -j DROP</p></a></div><div class=card-footer><span class=float-start>Monday, October 7, 2019
</span><a href=/zh-tw/posts/2019/20191007-fuck-cmcc/ class="float-end btn btn-outline-info btn-sm">閱讀</a></div></div></div><div class=post-card><div class=card><div class=card-head><a href=/zh-tw/posts/2019/20190710-linux-command-line-du-dh-lsof/ class=post-card-link><img class=card-img-top src=/images/hero/linux.png alt="Hero Image"></a></div><div class=card-body><a href=/zh-tw/posts/2019/20190710-linux-command-line-du-dh-lsof/ class=post-card-link><h5 class=card-title>linux磁碟空間沒釋放的解決方法</h5><p class="card-text post-summary">linux 磁碟空間沒釋放的解決方法 用 df -ah 命令 du -h --max-depth=1 du 之和遠遠小於 df 得到的總量
程序使用的檔案資源被刪除後，程序還活著，導致檔案未被真正刪除，無法釋放磁碟空間，卻並不能被統計到。
lsof |grep delete</p></a></div><div class=card-footer><span class=float-start>Wednesday, July 10, 2019
</span><a href=/zh-tw/posts/2019/20190710-linux-command-line-du-dh-lsof/ class="float-end btn btn-outline-info btn-sm">閱讀</a></div></div></div></div><div class=paginator><ul class="pagination pagination-default"><li class=page-item><a href=/zh-tw/tags/linux/ aria-label=First class=page-link role=button><span aria-hidden=true>&#171;&#171;</span></a></li><li class=page-item><a href=/zh-tw/tags/linux/page/2/ aria-label=Previous class=page-link role=button><span aria-hidden=true>&#171;</span></a></li><li class=page-item><a href=/zh-tw/tags/linux/ aria-label="Page 1" class=page-link role=button>1</a></li><li class=page-item><a href=/zh-tw/tags/linux/page/2/ aria-label="Page 2" class=page-link role=button>2</a></li><li class="page-item active"><a aria-current=page aria-label="Page 3" class=page-link role=button>3</a></li><li class=page-item><a href=/zh-tw/tags/linux/page/4/ aria-label="Page 4" class=page-link role=button>4</a></li><li class=page-item><a href=/zh-tw/tags/linux/page/4/ aria-label=Next class=page-link role=button><span aria-hidden=true>&#187;</span></a></li><li class=page-item><a href=/zh-tw/tags/linux/page/4/ aria-label=Last class=page-link role=button><span aria-hidden=true>&#187;&#187;</span></a></li></ul></div></div></section></div><footer id=footer class="container-fluid text-center align-content-center footer pb-2"><div class="container pt-5"><div class="row text-start"><div class="col-md-4 col-sm-12"><h5>導覽列</h5><ul><li class=nav-item><a class=smooth-scroll href=https://linzeyan.github.io/zh-tw/#about>關於</a></li><li class=nav-item><a class=smooth-scroll href=https://linzeyan.github.io/zh-tw/#skills>技能</a></li><li class=nav-item><a class=smooth-scroll href=https://linzeyan.github.io/zh-tw/#experiences>經歷</a></li><li class=nav-item><a class=smooth-scroll href=https://linzeyan.github.io/zh-tw/#education>學歷</a></li><li class=nav-item><a class=smooth-scroll href=https://linzeyan.github.io/zh-tw/#projects>專案</a></li></ul></div><div class="col-md-4 col-sm-12"><h5>聯絡方式:</h5><ul><li><a href=mailto:zeyanlin@outlook.com target=_blank rel=noopener><span><i class="fas fa-envelope"></i></span> <span>zeyanlin@outlook.com</span></a></li><li><a href=https://github.com/linzeyan target=_blank rel=noopener><span><i class="fab fa-github"></i></span> <span>linzeyan</span></a></li><li><a href=https://www.strava.com/athletes/rickylin target=_blank rel=noopener><span><i class="fab fa-fab fa-strava"></i></span> <span>Ricky</span></a></li><li><a href=https://t.me/ricky_lin target=_blank rel=noopener><span><i class="fab fa-fab fa-telegram"></i></span> <span>Ricky</span></a></li></ul></div></div></div></footer><script src=/application.eed5c22001d7c9cc6de7d8db62219c198319957fa017da141928bee1c40883b4.js integrity="sha256-7tXCIAHXycxt59jbYiGcGYMZlX+gF9oUGSi+4cQIg7Q=" defer></script></body></html>