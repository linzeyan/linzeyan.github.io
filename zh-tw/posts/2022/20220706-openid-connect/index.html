<!doctype html><html lang=zh-tw><head><title>OIDC(OpenID Connect) 简介</title><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=X-UA-Compatible content="ie=edge"><link rel=stylesheet href=/application.780dc7a6fc8e42bf9fef490724bc6cbc57e759a0db2df60fcd517f9f667085ed.css integrity="sha256-eA3HpvyOQr+f70kHJLxsvFfnWaDbLfYPzVF/n2Zwhe0="><link rel=icon type=image/png href=/images/site/highlight.svg><meta property="og:title" content="Ricky"><meta property="og:type" content="website"><meta property="og:description" content="Ricky 的網頁"><meta property="og:image" content="/images/author/ava.jpg"><meta property="og:url" content="https://linzeyan.github.io/"><meta name=description content="OIDC(OpenID Connect) 简介"><script defer src=https://static.cloudflareinsights.com/beacon.min.js data-cf-beacon='{"token": "27a0cd9f0e3b46909879cf99f7cc6878"}'></script><script integrity="sha256-DO4ugzEwhTW1Id1UIWn0gUJWaebCYOypeTit6LW4QB4=">let theme=localStorage.getItem("theme-scheme")||localStorage.getItem("darkmode:color-scheme")||"light";theme==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?theme="dark":theme="light"),document.documentElement.setAttribute("data-theme",theme)</script></head><body class="type-posts kind-page" data-bs-spy=scroll data-bs-target=#TableOfContents data-bs-offset=80><div class="container-fluid bg-secondary wrapper"><nav class="navbar navbar-expand-xl top-navbar shadow" id=top-navbar><div class=container><button class="navbar-toggler navbar-light" id=sidebar-toggler type=button>
<i data-feather=sidebar></i>
</button>
<a class=navbar-brand href=/zh-tw><img src=/images/site/highlight.svg id=logo alt=Logo>
Ricky</a>
<button class="navbar-toggler navbar-light" id=navbar-toggler type=button data-bs-toggle=collapse data-bs-target=#top-nav-items aria-label=menu>
<i data-feather=menu></i></button><div class="collapse navbar-collapse dynamic-navbar" id=top-nav-items><ul class="nav navbar-nav ms-auto"><li class=nav-item><a class=nav-link href=/zh-tw#home>首頁</a></li><li class=nav-item><a class=nav-link href=/zh-tw#about>關於</a></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-bs-toggle=dropdown aria-haspopup=true aria-expanded=false>更多的</a><div class=dropdown-menu aria-labelledby=navbarDropdown><a class=dropdown-item href=/zh-tw#skills>技能</a>
<a class=dropdown-item href=/zh-tw#experiences>經歷</a>
<a class=dropdown-item href=/zh-tw#education>學歷</a>
<a class=dropdown-item href=/zh-tw#projects>專案</a></div></li><div id=top-navbar-divider></div><li class=nav-item><a class=nav-link id=blog-link href=/zh-tw/posts>文章</a></li><li class=nav-item><a class=nav-link id=note-link href=/zh-tw/notes>筆記</a></li><li class=nav-item><a class=nav-link href=https://linzeyan.github.io/activities>活動</a></li><li class=nav-item><a class=nav-link href=https://transforms.pages.dev/>Transform</a></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# id=languageSelector role=button data-bs-toggle=dropdown aria-haspopup=true aria-expanded=false><span class="fi fi-tw"></span>
Chinese</a><div class=dropdown-menu aria-labelledby=languageSelector><a class="dropdown-item nav-link languages-item" href=/posts/2022/20220706-openid-connect><span class="fi fi-us"></span>
English
</a><a class="dropdown-item nav-link languages-item" href=/zh-tw/posts/2022/20220706-openid-connect><span class="fi fi-tw"></span>
Chinese</a></div></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# id=themeSelector role=button data-bs-toggle=dropdown aria-haspopup=true aria-expanded=false><img id=navbar-theme-icon-svg class=theme-icon src=/icons/moon-svgrepo-com.svg width=20 alt="Dark Theme"></a><div id=themeMenu class="dropdown-menu dropdown-menu-icons-only" aria-labelledby=themeSelector><a class="dropdown-item nav-link" href=# data-scheme=light><img class=theme-icon src=/icons/sun-svgrepo-com.svg width=20 alt="Light Theme">
</a><a class="dropdown-item nav-link" href=# data-scheme=dark><img class=theme-icon src=/icons/moon-svgrepo-com.svg width=20 alt="Dark Theme">
</a><a class="dropdown-item nav-link" href=# data-scheme=system><img class=theme-icon src=/icons/computer-svgrepo-com.svg width=20 alt="System Theme"></a></div></li></ul></div></div><img src=/images/site/highlight.svg class=d-none id=main-logo alt=Logo>
<img src=/images/site/highlight.svg class=d-none id=inverted-logo alt="Inverted Logo"></nav><section class=sidebar-section id=sidebar-section><div class=sidebar-holder><div class=sidebar id=sidebar><form class=mx-auto method=get action=/zh-tw/search><input type=text name=keyword placeholder=搜尋 data-search id=search-box></form><div class=sidebar-tree><ul class=tree id=tree><li id=list-heading><a href=/zh-tw/posts/ data-filter=all>文章</a></li><div class=subtree><li><a class=list-link href=/zh-tw/posts/2022/20221114-shadow-passwords/ title="/etc/shadow and Creating yescrypt, MD5, SHA-256, and SHA-512 Password Hashes">/etc/shadow and Creating yescrypt, MD5, SHA-256, and SHA-512 Password Hashes</a></li><li><a class=list-link href=/zh-tw/posts/20211122-processing-16gb-file-in-seconds-go-lang/ title=25秒读取16GB文件，Go怎么做到的？>25秒读取16GB文件，Go怎么做到的？</a></li><li><a class=list-link href=/zh-tw/posts/20211130-5-devsecops-open-source-projects-know/ title="5 DevSecOps open source projects to know">5 DevSecOps open source projects to know</a></li><li><a class=list-link href=/zh-tw/posts/2025/20250829-music/ title=6首國際最強公認催眠曲>6首國際最強公認催眠曲</a></li><li><a class=list-link href=/zh-tw/posts/2022/20220718-go-build-config-ldflags/ title="[Golang] 利用build tags達到不同的build config">[Golang] 利用build tags達到不同的build config</a></li><li><a class=list-link href=/zh-tw/posts/20211124-k8s-service-overview/ title="[Kubernetes] Service Overview">[Kubernetes] Service Overview</a></li><li><a class=list-link href=/zh-tw/posts/20200710-bayonet-rope/ title="[分享]鑰匙圈 - 五七步槍刺刀鞘的墬子">[分享]鑰匙圈 - 五七步槍刺刀鞘的墬子</a></li><li><a class=list-link href=/zh-tw/posts/20210715-cisco-ucs-cimc/ title="[網友好文]Cisco UCS CIMC系列文章">[網友好文]Cisco UCS CIMC系列文章</a></li><li><a class=list-link href=/zh-tw/posts/20210814-go-inlining-strategy-limitation/ title="[译] Go语言inline内联的策略与限制">[译] Go语言inline内联的策略与限制</a></li><li><a class=list-link href=/zh-tw/posts/2023/20231224-snow/ title="A python script that allows your terminal to snow.">A python script that allows your terminal to snow.</a></li><li><a class=list-link href=/zh-tw/posts/2023/20231130-sftp/ title="Add SFTP user and share directory">Add SFTP user and share directory</a></li><li><a class=list-link href=/zh-tw/posts/2024/20240925-advanced-shell-scripting/ title="Advanced Shell Scripting Techniques: Automating Complex Tasks with Bash">Advanced Shell Scripting Techniques: Automating Complex Tasks with Bash</a></li><li><a class=list-link href=/zh-tw/posts/20200926-ansible/ title="Ansible 簡介">Ansible 簡介</a></li><li><a class=list-link href=/zh-tw/posts/20211227-argo-cd-applicationset-controller/ title="Argo CD ApplicationSet Controller: 世界為我而轉動！">Argo CD ApplicationSet Controller: 世界為我而轉動！</a></li><li><a class=list-link href=/zh-tw/posts/2022/20220916-avoiding-top-10-nginx-configuration-mistakes/ title="Avoiding the Top 10 NGINX Configuration Mistakes - NGINX">Avoiding the Top 10 NGINX Configuration Mistakes - NGINX</a></li><li><a class=list-link href=/zh-tw/posts/2022/20220704-bash-bitwise-operators/ title="Bash Bitwise Operators">Bash Bitwise Operators</a></li><li><a class=list-link href=/zh-tw/posts/20211206-bash-best-practices/ title="Best Practices for Writing Bash Scripts">Best Practices for Writing Bash Scripts</a></li><li><a class=list-link href=/zh-tw/posts/2023/20230622-go-channel-rules/ title="channel 的 15 条规则和底层实现">channel 的 15 条规则和底层实现</a></li><li><a class=list-link href=/zh-tw/posts/20211103-cloudflare-waf/ title="Cloudflare Traffic sequence">Cloudflare Traffic sequence</a></li><li><a class=list-link href=/zh-tw/posts/2023/20230925-cloudflare/ title="Cloudflare Tunnel">Cloudflare Tunnel</a></li><li><a class=list-link href=/zh-tw/posts/2023/20230926-cloudflare/ title="Cloudflare Zero Trust">Cloudflare Zero Trust</a></li><li><a class=list-link href=/zh-tw/posts/2025/20250211-configure-ssh-keys-for-multiple-github-accounts/ title="Configuring SSH Keys for Multiple GitHub Accounts">Configuring SSH Keys for Multiple GitHub Accounts</a></li><li><a class=list-link href=/zh-tw/posts/2023/20231004-container/ title="Container security fundamentals">Container security fundamentals</a></li><li><a class=list-link href=/zh-tw/posts/2022/20221124-containers-from-scratch/ title="Containers from scratch">Containers from scratch</a></li><li><a class=list-link href=/zh-tw/posts/2025/20250910-containers-from-scratch-by-golang-feat-liz-rice/ title="Containers From Scratch by Golang (feat. Liz Rice)">Containers From Scratch by Golang (feat. Liz Rice)</a></li><li><a class=list-link href=/zh-tw/posts/2023/20230926-datavizproject/ title=datavizproject>datavizproject</a></li><li><a class=list-link href=/zh-tw/posts/20211202-10252675/ title="Day 28 - Kubernetes 第三方好用工具介紹">Day 28 - Kubernetes 第三方好用工具介紹</a></li><li><a class=list-link href=/zh-tw/posts/20210917-docker/ title="Docker Introduction">Docker Introduction</a></li><li><a class=list-link href=/zh-tw/posts/20210820-how-to-improve-your-docker-containers-security-cheat-sheet/ title="Docker Security Best Practices: Cheat Sheet">Docker Security Best Practices: Cheat Sheet</a></li><li><a class=list-link href=/zh-tw/posts/2025/20250903-linux-docker-nftables/ title="Docker 容器无法访问外网？nftables 下的 NAT 配置指南">Docker 容器无法访问外网？nftables 下的 NAT 配置指南</a></li><li><a class=list-link href=/zh-tw/posts/20210719-docker-compose-yaml-problem/ title="docker-compose yaml problem">docker-compose yaml problem</a></li><li><a class=list-link href=/zh-tw/posts/2022/20220512-dockertest/ title="Dockertest 极速搭建集成测试环境神器">Dockertest 极速搭建集成测试环境神器</a></li><li><a class=list-link href=/zh-tw/posts/2022/20221006-elasticsearch/ title="ElasticSearch 学习笔记">ElasticSearch 学习笔记</a></li><li><a class=list-link href=/zh-tw/posts/2024/20240519-emoji-regexp/ title="Emoji 正则匹配">Emoji 正则匹配</a></li><li><a class=list-link href=/zh-tw/posts/2023/20230904-faster-multi-platform-builds-dockerfile-cross-compilation-guide/ title="Faster Multi-Platform Builds: Dockerfile Cross-Compilation Guide">Faster Multi-Platform Builds: Dockerfile Cross-Compilation Guide</a></li><li><a class=list-link href=/zh-tw/posts/2023/20231018-graphql/ title="Fetch GraphQL schema information">Fetch GraphQL schema information</a></li><li><a class=list-link href=/zh-tw/posts/20211122-go-gin-jsoniter/ title="Gin 框架绑定 JSON 参数使用 jsoniter">Gin 框架绑定 JSON 参数使用 jsoniter</a></li><li><a class=list-link href=/zh-tw/posts/20210722-shuangdeyu-gin-book/ title=Gin中文文档>Gin中文文档</a></li><li><a class=list-link href=/zh-tw/posts/2024/20240726-git/ title="Git force push">Git force push</a></li><li><a class=list-link href=/zh-tw/posts/20210924-gitlab/ title="Gitlab-CI Introduction">Gitlab-CI Introduction</a></li><li><a class=list-link href=/zh-tw/posts/2025/20250801-gluetun-vpn-docker/ title=Gluetun：讓Docker容器走VPN連線，沒網路就斷線，使用教學>Gluetun：讓Docker容器走VPN連線，沒網路就斷線，使用教學</a></li><li><a class=list-link href=/zh-tw/posts/2024/20240820-golang/ title="Go articles">Go articles</a></li><li><a class=list-link href=/zh-tw/posts/2022/20220607-go-code-refactoring-the-23x-performance-hunt/ title="Go code refactoring : the 23x performance hunt">Go code refactoring : the 23x performance hunt</a></li><li><a class=list-link href=/zh-tw/posts/2022/20220712-go-embed-tutorial/ title="Go embed 简明教程">Go embed 简明教程</a></li><li><a class=list-link href=/zh-tw/posts/2024/20240620-leetcode/ title="Go leetcode">Go leetcode</a></li><li><a class=list-link href=/zh-tw/posts/20210723-read-private-module-in-golang/ title="Go Modules 處理 Private GIT Repository 流程">Go Modules 處理 Private GIT Repository 流程</a></li><li><a class=list-link href=/zh-tw/posts/2025/20250407-protobuf-opaque/ title="Go Protobuf：新的 Opaque API">Go Protobuf：新的 Opaque API</a></li><li><a class=list-link href=/zh-tw/posts/2022/20220908-string-format/ title="Go string format">Go string format</a></li><li><a class=list-link href=/zh-tw/posts/2024/20240413-decisions-pass-values/ title="Go Style Decisions - Pass values">Go Style Decisions - Pass values</a></li><li><a class=list-link href=/zh-tw/posts/2022/20221202-go-selenium/ title="Go 使用 selenium 截图">Go 使用 selenium 截图</a></li><li><a class=list-link href=/zh-tw/posts/2025/20251107-go-synctest/ title=go-synctest>go-synctest</a></li><li><a class=list-link href=/zh-tw/posts/20211112-golang-ex-exec/ title="Golang os/exec 使用方法（筆記）">Golang os/exec 使用方法（筆記）</a></li><li><a class=list-link href=/zh-tw/posts/2022/20220622-go-ppof-practice/ title="golang pprof 实战">golang pprof 实战</a></li><li><a class=list-link href=/zh-tw/posts/2023/20230926-golang/ title="Golang tips">Golang tips</a></li><li><a class=list-link href=/zh-tw/posts/20210902-golang-ji-zhun-ce-shi/ title=Golang基准测试>Golang基准测试</a></li><li><a class=list-link href=/zh-tw/posts/20211222-aes-encryption-and-decryption-three-modes-implementation/ title=golang的AES加密和解密的三种模式实现（CBC/ECB/CFB)>golang的AES加密和解密的三种模式实现（CBC/ECB/CFB)</a></li><li><a class=list-link href=/zh-tw/posts/20211020-google-cloud-platform-gcp-access-linux-server-using-gui-running-in-gcp-instance-using-windows/ title="Google Cloud Platform(GCP): Access Linux Server using GUI running in GCP instance using Windows Remote Desktop Connection.">Google Cloud Platform(GCP): Access Linux Server using GUI running in GCP instance using Windows Remote Desktop Connection.</a></li><li><a class=list-link href=/zh-tw/posts/2024/20240924-google-infra/ title="Google Infra">Google Infra</a></li><li><a class=list-link href=/zh-tw/posts/2022/20220103-some-struct-notes/ title="Gopher 需要知道的几个结构体骚操作">Gopher 需要知道的几个结构体骚操作</a></li><li><a class=list-link href=/zh-tw/posts/2025/20250722-go-redis-lua/ title="Go实战指南：使用 go-redis 执行 Lua 脚本">Go实战指南：使用 go-redis 执行 Lua 脚本</a></li><li><a class=list-link href=/zh-tw/posts/2022/20220422-go-high-performance-programming-manual/ title=Go语言高性能编程手册（万字长文）>Go语言高性能编程手册（万字长文）</a></li><li><a class=list-link href=/zh-tw/posts/2025/20250102-gql-introspection-query/ title="GraphQL Introspection Query">GraphQL Introspection Query</a></li><li><a class=list-link href=/zh-tw/posts/2025/20250307-how-git-core-devs-configure-git/ title="How Core Git Developers Configure Git">How Core Git Developers Configure Git</a></li><li><a class=list-link href=/zh-tw/posts/2023/20230720-how-to-deal-with-a-50gb-large-csv-file-in-r-language/ title="How to deal with a 50GB large csv file in r language?">How to deal with a 50GB large csv file in r language?</a></li><li><a class=list-link href=/zh-tw/posts/2022/20221114-delete-files-non-printable-characters/ title="How to Delete Files With Names That Contain Non-printable Characters">How to Delete Files With Names That Contain Non-printable Characters</a></li><li><a class=list-link href=/zh-tw/posts/2022/20221128-raid-information-command-line/ title="How to Detect RAID Information in Linux">How to Detect RAID Information in Linux</a></li><li><a class=list-link href=/zh-tw/posts/2022/20221021-echo-printf-overwrite-terminal-line/ title="How to Make Output Overwrite the Same Line in a Terminal">How to Make Output Overwrite the Same Line in a Terminal</a></li><li><a class=list-link href=/zh-tw/posts/2022/20221110-which-on-an-aliased-command/ title="How to Use which on an Aliased Command">How to Use which on an Aliased Command</a></li><li><a class=list-link href=/zh-tw/posts/2025/20250503-zipbomb-protection/ title="I use Zip Bombs to Protect my Server">I use Zip Bombs to Protect my Server</a></li><li><a class=list-link href=/zh-tw/posts/2022/20221202-inspecting-web-views-in-macos/ title="Inspecting Web Views in macOS">Inspecting Web Views in macOS</a></li><li><a class=list-link href=/zh-tw/posts/2023/20230927-chromeos/ title="Install Chrome OS">Install Chrome OS</a></li><li><a class=list-link href=/zh-tw/posts/2022/20220410-iphone-ringtone-mp3/ title="iPhone 鈴聲製作教學，將 MP3 音樂換成電話鈴聲或鬧鐘鈴聲">iPhone 鈴聲製作教學，將 MP3 音樂換成電話鈴聲或鬧鐘鈴聲</a></li><li><a class=list-link href=/zh-tw/posts/2025/20250209-iterm2-features-i-find-useful/ title="iTerm2 features I find useful">iTerm2 features I find useful</a></li><li><a class=list-link href=/zh-tw/posts/20211220-kubeproxy-free/ title="Kubernetes Without kube-proxy">Kubernetes Without kube-proxy</a></li><li><a class=list-link href=/zh-tw/posts/2024/20240820-linux/ title="Lightweight Linux Distributions For Older PCs">Lightweight Linux Distributions For Older PCs</a></li><li><a class=list-link href=/zh-tw/posts/20211209-linkerd-multi-kubernetes-cluster-feature-overview/ title="Linkerd 2.8 - 實現超級簡單又安全的多叢集(multicluster) Kubernetes 架構">Linkerd 2.8 - 實現超級簡單又安全的多叢集(multicluster) Kubernetes 架構</a></li><li><a class=list-link href=/zh-tw/posts/20210805-little-git-tricks-use-mailmap-to-merge-different-authors/ title="Little Git Tricks: Use .mailmap to Merge Different Authors">Little Git Tricks: Use .mailmap to Merge Different Authors</a></li><li><a class=list-link href=/zh-tw/posts/2024/20240121-llm/ title="LLM Visualization">LLM Visualization</a></li><li><a class=list-link href=/zh-tw/posts/2024/20240510-llm/ title="LLMs Hackmd Docs">LLMs Hackmd Docs</a></li><li><a class=list-link href=/zh-tw/posts/2022/20220905-system-lvm/ title="LVM - lvg and lvol">LVM - lvg and lvol</a></li><li><a class=list-link href=/zh-tw/posts/2024/20241114-mac-app-share/ title="Mac 小众软件推荐与工作流分享(2024)">Mac 小众软件推荐与工作流分享(2024)</a></li><li><a class=list-link href=/zh-tw/posts/2025/20250307-macos-tips/ title="macOS Tips & Tricks">macOS Tips & Tricks</a></li><li><a class=list-link href=/zh-tw/posts/2025/20250408-vscode-marp-presentation/ title="Marp教學：Markdown搭配VS Code做簡報，快速輸出為PPTX或PDF，提昇做簡報效率">Marp教學：Markdown搭配VS Code做簡報，快速輸出為PPTX或PDF，提昇做簡報效率</a></li><li><a class=list-link href=/zh-tw/posts/2022/20220106-ansible-galaxy-fortios-collection/ title="Misspelling, missing collection, or incorrect module path for fortios_system_config_backup_restore">Misspelling, missing collection, or incorrect module path for fortios_system_config_backup_restore</a></li><li><a class=list-link href=/zh-tw/posts/2022/20220623-monitoring-http-requests-network-interfaces/ title="Monitoring HTTP Requests on a Network Interface in Real Time">Monitoring HTTP Requests on a Network Interface in Real Time</a></li><li><a class=list-link href=/zh-tw/posts/2025/20251109-mosdns-x/ title=Mosdns-X>Mosdns-X</a></li><li><a class=list-link href=/zh-tw/posts/2022/20220704-nginx-ab-testing/ title="Nginx 使用 split_clients 进行简易 A/B 测试">Nginx 使用 split_clients 进行简易 A/B 测试</a></li><li><a class=list-link href=/zh-tw/posts/20211009-nginx-worker-many-file-fix/ title="Nginx 出現 500 Error 修復 (too many open file, connection)">Nginx 出現 500 Error 修復 (too many open file, connection)</a></li><li><a class=list-link href=/zh-tw/posts/2025/20251020-nginx-acme-module/ title="NGINX 原生 ACME 支持：从根本上重塑 TLS 自动化部署">NGINX 原生 ACME 支持：从根本上重塑 TLS 自动化部署</a></li><li><a class=list-link href=/zh-tw/posts/20211119-nginx/ title="Nginx 筆記">Nginx 筆記</a></li><li><a class=list-link href=/zh-tw/posts/20211227-how-nginx-hide-upstream-errors/ title=Nginx怎样隐藏上游错误>Nginx怎样隐藏上游错误</a></li><li><a class=list-link href=/zh-tw/posts/2024/20241113-objective-see/ title="Objective-See: 一个关于 Apple 设备隐私与安全的开源项目组织">Objective-See: 一个关于 Apple 设备隐私与安全的开源项目组织</a></li><li><a class="active list-link" href=/zh-tw/posts/2022/20220706-openid-connect/ title="OIDC(OpenID Connect) 简介">OIDC(OpenID Connect) 简介</a></li><li><a class=list-link href=/zh-tw/posts/2025/20251030-onion-mirror/ title=onion-mirror>onion-mirror</a></li><li><a class=list-link href=/zh-tw/posts/2025/20251118-parqeye/ title=parqeye>parqeye</a></li><li><a class=list-link href=/zh-tw/posts/2022/20220607-bash-parse-command-line-arguments/ title="Parse Command Line Arguments in Bash">Parse Command Line Arguments in Bash</a></li><li><a class=list-link href=/zh-tw/posts/2022/20221021-shell-printing-ascii-art/ title="Printing ASCII Art in the Shell">Printing ASCII Art in the Shell</a></li><li><a class=list-link href=/zh-tw/posts/2025/20250929-eff-browser-extension/ title="Privacy Badger：EFF 推出的免費瀏覽器擴充套件，用來阻止網路監控追蹤">Privacy Badger：EFF 推出的免費瀏覽器擴充套件，用來阻止網路監控追蹤</a></li><li><a class=list-link href=/zh-tw/posts/2024/20240514-prometheus/ title="Prometheus relabeling and linux metrics">Prometheus relabeling and linux metrics</a></li><li><a class=list-link href=/zh-tw/posts/20211029-regex-for-md/ title="Regex for Markdown Syntax">Regex for Markdown Syntax</a></li><li><a class=list-link href=/zh-tw/posts/2024/20241225-terminal-rules/ title="Rules that terminal programs follow">Rules that terminal programs follow</a></li><li><a class=list-link href=/zh-tw/posts/2024/20240425-ollama/ title="Run llama3">Run llama3</a></li><li><a class=list-link href=/zh-tw/posts/2023/20230113-rust-terminal-tools-linux-mac-windows-fish-zsh/ title="Rust Easy! Modern Cross-platform Command Line Tools to Supercharge Your Terminal">Rust Easy! Modern Cross-platform Command Line Tools to Supercharge Your Terminal</a></li><li><a class=list-link href=/zh-tw/posts/2022/20221103-shell-script-best-practices/ title="Shell Script Best Practices">Shell Script Best Practices</a></li><li><a class=list-link href=/zh-tw/posts/20210922-shellbian-cheng-zhi-chang-yong-ji-qiao/ title=SHELL编程之常用技巧>SHELL编程之常用技巧</a></li><li><a class=list-link href=/zh-tw/posts/2024/20241225-linking-directly-to-web-page-content/ title="Smarter than 'Ctrl+F': Linking Directly to Web Page Content">Smarter than 'Ctrl+F': Linking Directly to Web Page Content</a></li><li><a class=list-link href=/zh-tw/posts/20210813-sql-join-types-explained-visually/ title="SQL Join types explained visually">SQL Join types explained visually</a></li><li><a class=list-link href=/zh-tw/posts/2024/20240913-golang/ title="Supply chain attack">Supply chain attack</a></li><li><a class=list-link href=/zh-tw/posts/2023/20230508-synology-your-nas-ram-details-at-a-glance/ title="Synology: Your NAS RAM Details at a Glance">Synology: Your NAS RAM Details at a Glance</a></li><li><a class=list-link href=/zh-tw/posts/2024/20240427-taide/ title="Taide - training data">Taide - training data</a></li><li><a class=list-link href=/zh-tw/posts/2025/20250508-taigitube/ title="TaigiTube 台語水管">TaigiTube 台語水管</a></li><li><a class=list-link href=/zh-tw/posts/2022/20220505-tcpdump/ title="Tcpdump 使用总结">Tcpdump 使用总结</a></li><li><a class=list-link href=/zh-tw/posts/2022/20221228-terraform-provider-development/ title="Terraform Provider 開發紀錄">Terraform Provider 開發紀錄</a></li><li><a class=list-link href=/zh-tw/posts/2022/20221128-linux-shellshock-bug/ title="Test Whether a Server Is Vulnerable to Shellshock Bug">Test Whether a Server Is Vulnerable to Shellshock Bug</a></li><li><a class=list-link href=/zh-tw/posts/2022/20221102-the-art-of-command-line/ title="The Art of Command Line">The Art of Command Line</a></li><li><a class=list-link href=/zh-tw/posts/2025/20250612-bash-timeout/ title="TIL: timeout in Bash scripts">TIL: timeout in Bash scripts</a></li><li><a class=list-link href=/zh-tw/posts/2022/20220810-top-25-nginx-tips-and-tricks-from-practical-experience/ title="Top 25 Nginx Tips and Tricks From Practical Experience">Top 25 Nginx Tips and Tricks From Practical Experience</a></li><li><a class=list-link href=/zh-tw/posts/2023/20231124-ssh/ title="Use terminal and SSH to remote host">Use terminal and SSH to remote host</a></li><li><a class=list-link href=/zh-tw/posts/2022/20220707-vim-diff-tool/ title="Using Vim as a Diff Tool">Using Vim as a Diff Tool</a></li><li><a class=list-link href=/zh-tw/posts/2025/20250423-why-are-qr-codes-with-capital-letters-smaller-than-qr-codes-with-lower-case-letters/ title="Why are QR Codes with capital letters smaller than QR codes with lower-case letters?">Why are QR Codes with capital letters smaller than QR codes with lower-case letters?</a></li><li><a class=list-link href=/zh-tw/posts/2023/20230103-windows-ssh-setup/ title="Windows SSH setup">Windows SSH setup</a></li><li><a class=list-link href=/zh-tw/posts/2022/20220829-long-string-in-yaml/ title="YAML 裡的字串很長該怎麼做？">YAML 裡的字串很長該怎麼做？</a></li><li><a class=list-link href=/zh-tw/posts/20211210-zsh-tab-completion-not-working/ title="Zsh tab-completion not working">Zsh tab-completion not working</a></li><li><a class=list-link href=/zh-tw/posts/2023/20230508-zprofile-zshrc/ title="zsh 配置文件解析及优先级">zsh 配置文件解析及优先级</a></li><li><a class=list-link href=/zh-tw/posts/2022/20220919-pokemon-legends-arceus-stage-clear/ title=《宝可梦：阿尔宙斯》双周目通关>《宝可梦：阿尔宙斯》双周目通关</a></li><li><a class=list-link href=/zh-tw/posts/20211221-understanding-cilium/ title="【理解 Cilium 系列文章】(一) 初識 Cilium">【理解 Cilium 系列文章】(一) 初識 Cilium</a></li><li><a class=list-link href=/zh-tw/posts/20211020-gcp-remote-desktop/ title="【筆記】在GCP上建立可Remote dekstop的Ubuntu環境">【筆記】在GCP上建立可Remote dekstop的Ubuntu環境</a></li><li><a class=list-link href=/zh-tw/posts/2023/20230418-software-design-principles/ title=一些软件设计的原则>一些软件设计的原则</a></li><li><a class=list-link href=/zh-tw/posts/2022/20221025-zhuyin-pinyin/ title=一張圖學會【拼音輸入法】>一張圖學會【拼音輸入法】</a></li><li><a class=list-link href=/zh-tw/posts/2024/20240425-pgo/ title="一文读不懂的 Go 1.21 GA 的 PGO 优化——一次在 WebP Server Go 上的尝试">一文读不懂的 Go 1.21 GA 的 PGO 优化——一次在 WebP Server Go 上的尝试</a></li><li><a class=list-link href=/zh-tw/posts/20211018-what-are-encoding-encrypt-and-hashing/ title="一次搞懂密碼學中的三兄弟 — Encode、Encrypt 跟 Hash">一次搞懂密碼學中的三兄弟 — Encode、Encrypt 跟 Hash</a></li><li><a class=list-link href=/zh-tw/posts/2025/20250425-everyone-need-a-http-proxy-to-debug/ title="人人都需要一個 HTTP proxy 來 debug">人人都需要一個 HTTP proxy 來 debug</a></li><li><a class=list-link href=/zh-tw/posts/2023/20230120-parse-binary-data/ title=使用Go语言解析二进制数据踩坑总结>使用Go语言解析二进制数据踩坑总结</a></li><li><a class=list-link href=/zh-tw/posts/20210901-mydumper/ title=使用mydumper备份数据库>使用mydumper备份数据库</a></li><li><a class=list-link href=/zh-tw/posts/2023/20230418-high-availability-system/ title=关于高可用的系统>关于高可用的系统</a></li><li><a class=list-link href=/zh-tw/posts/20211005-sign_git_commit_with_gpg/ title="利用 GPG 簽署 git commit">利用 GPG 簽署 git commit</a></li><li><a class=list-link href=/zh-tw/posts/2023/20230612-macos-dmg-iso/ title=制作macOS系统dmg包及iso可引导镜像>制作macOS系统dmg包及iso可引导镜像</a></li><li><a class=list-link href=/zh-tw/posts/2022/20221129-ancient-time-unit/ title=古代計時單位>古代計時單位</a></li><li><a class=list-link href=/zh-tw/posts/2022/20221103-utilize-go-fuzzing-to-write-better-unit-tests/ title="善用 Go Fuzzing，幫助你寫出更完整的單元測試">善用 Go Fuzzing，幫助你寫出更完整的單元測試</a></li><li><a class=list-link href=/zh-tw/posts/20211110-10253348/ title="喬叔教 Elastic - 30 - Elasticsearch 的優化技巧 (4/4) - Shard 的最佳化管理">喬叔教 Elastic - 30 - Elasticsearch 的優化技巧 (4/4) - Shard 的最佳化管理</a></li><li><a class=list-link href=/zh-tw/posts/20210718-what-happens-when-you-type-an-url-in-the-browser-and-press-enter/ title=在瀏覽器輸入網址並送出後，到底發生了什麼事？>在瀏覽器輸入網址並送出後，到底發生了什麼事？</a></li><li><a class=list-link href=/zh-tw/posts/2022/20220309-how-to-transform-list-to-object-list/ title="將 List 轉置為 dict 的 list">將 List 轉置為 dict 的 list</a></li><li><a class=list-link href=/zh-tw/posts/2022/20221110-tip-command-output-to-image/ title=將指令輸出轉為圖片>將指令輸出轉為圖片</a></li><li><a class=list-link href=/zh-tw/posts/2022/20220329-go-read-file/ title="怎么选择 Go 文件读取方案">怎么选择 Go 文件读取方案</a></li><li><a class=list-link href=/zh-tw/posts/20210715-make-oh-my-zsh-fly/ title="我就感觉到快 —— zsh 和 oh my zsh 冷启动速度优化">我就感觉到快 —— zsh 和 oh my zsh 冷启动速度优化</a></li><li><a class=list-link href=/zh-tw/posts/2023/20230420-my-mac-setting/ title="我的提升生產力 Mac 設定與軟體">我的提升生產力 Mac 設定與軟體</a></li><li><a class=list-link href=/zh-tw/posts/2024/20240507-go-trace/ title=更强大的Go执行跟踪能力>更强大的Go执行跟踪能力</a></li><li><a class=list-link href=/zh-tw/posts/2023/20230412-all-about-mtu-and-mss/ title="有关 MTU 和 MSS 的一切">有关 MTU 和 MSS 的一切</a></li><li><a class=list-link href=/zh-tw/posts/2023/20230926-checklist/ title=朋友旅行防止絕交檢查表>朋友旅行防止絕交檢查表</a></li><li><a class=list-link href=/zh-tw/posts/2023/20230927-ai/ title=永齡基金會AI大師論壇:人工智慧如何形塑人類未來>永齡基金會AI大師論壇:人工智慧如何形塑人類未來</a></li><li><a class=list-link href=/zh-tw/posts/2025/20250906-golang-iterator/ title="淺談 Go Iterator">淺談 Go Iterator</a></li><li><a class=list-link href=/zh-tw/posts/2022/20220725-build-lightweight-docker-image-for-go-app/ title="為你的Go應用建立輕量級Docker映象？ | IT人">為你的Go應用建立輕量級Docker映象？ | IT人</a></li><li><a class=list-link href=/zh-tw/posts/2025/20250902-linux-cpu-performance/ title="独立服务器 CPU 频率最大化配置指南">独立服务器 CPU 频率最大化配置指南</a></li><li><a class=list-link href=/zh-tw/posts/2023/20230927-mqtt/ title="調整系統使得 EMQX 可以支援 1M 連線">調整系統使得 EMQX 可以支援 1M 連線</a></li><li><a class=list-link href=/zh-tw/posts/20211009-zsh/ title="超簡單！快速打造漂亮又好用的 zsh 終端環境">超簡單！快速打造漂亮又好用的 zsh 終端環境</a></li><li><a class=list-link href=/zh-tw/posts/2025/20250801-linuxserver.io/ title=透過LinuxServer.io打包的Docker映像檔，將桌面程式轉成網頁版，透過瀏覽器即可使用>透過LinuxServer.io打包的Docker映像檔，將桌面程式轉成網頁版，透過瀏覽器即可使用</a></li><li><a class=list-link href=/zh-tw/posts/2025/20251002-hide-web/ title="降低家用 Web 服务被通报的概率">降低家用 Web 服务被通报的概率</a></li></div></ul></div></div></div></section><section class=content-section id=content-section><div class=content><div class="container p-0 read-area"><div class="hero-area col-sm-12" id=hero-area style=background-image:url(/images/default-hero.jpg)></div><div class=page-content><div class="author-profile ms-auto align-self-lg-center"><img class=rounded-circle src=/images/author/ava_hu_75789c2892ed191.jpg alt="Author Image"><h5 class=author-name>則言</h5><p class=text-muted>Wednesday, July 6, 2022</p></div><div class=title><h1>OIDC(OpenID Connect) 简介</h1></div><div class=tags><ul style=padding-left:0><li class=rounded><a href=/zh-tw/tags/url/ class="btn btn-sm btn-info">URL</a></li><li class=rounded><a href=/zh-tw/tags/oidc/ class="btn btn-sm btn-info">OIDC</a></li><li class=rounded><a href=/zh-tw/tags/authentication/ class="btn btn-sm btn-info">Authentication</a></li><li class=rounded><a href=/zh-tw/tags/authorization/ class="btn btn-sm btn-info">Authorization</a></li><li class=rounded><a href=/zh-tw/tags/oauth/ class="btn btn-sm btn-info">OAuth</a></li></ul></div><div class=post-content id=post-content><ul><li><a href=https://jiajunhuang.com/articles/2022_07_06-openid_connect.md.html target=_blank rel=noopener>OIDC(OpenID Connect) 简介</a></li></ul><h3 id=authentication-vs-authorization>Authentication vs. authorization</h3><blockquote><p>Authentication 通常是指校验是否是用户本人的这个过程，而 Authorization 则更多的是指用户是否有权限。通常我们都是先校验 是否是用户本人，然后再校验用户是否有权限。也就是先开始 Authentication，再开始 Authorization。</p></blockquote><table><thead><tr><th>Authentication</th><th>Authorization</th></tr></thead><tbody><tr><td>Determines whether users are who they claim to be</td><td>Determines what users can and cannot access</td></tr><tr><td>Challenges the user to validate credentials (for example, through passwords, answers to security questions, or facial recognition)</td><td>Verifies whether access is allowed through policies and rules</td></tr><tr><td>Usually done before authorization</td><td>Usually done after successful authentication</td></tr><tr><td>Generally, transmits info through an ID Token</td><td>Generally, transmits info through an Access Token</td></tr><tr><td>Generally governed by the OpenID Connect (OIDC) protocol</td><td>Generally governed by the OAuth 2.0 framework</td></tr><tr><td>Example: Employees in a company are required to authenticate through the network before accessing their company email</td><td>Example: After an employee successfully authenticates, the system determines what information the employees are allowed to access</td></tr></tbody></table><h3 id=oauth-2>OAuth 2</h3><h4 id=client-credentials-grant><a href=https://datatracker.ietf.org/doc/html/rfc6749#section-4.4 target=_blank rel=noopener>Client Credentials Grant</a></h4><blockquote><p>这种模式是最简单的，其实就是客户端告诉服务端自己是哪个客户端，服务器就将 access_token 下发</p><p>这种模式很少用，主要用于客户端非常可靠的情况，例如登录托管的云桌面系统，系统向服务器请求 token，服务器立刻下发，之后 用户就以云桌面特定用户的身份进行使用。</p></blockquote><pre tabindex=0><code>     +---------+                                  +---------------+
     |         |                                  |               |
     |         |&gt;--(A)- Client Authentication ---&gt;| Authorization |
     | Client  |                                  |     Server    |
     |         |&lt;--(B)---- Access Token ---------&lt;|               |
     |         |                                  |               |
     +---------+                                  +---------------+

                     Figure 6: Client Credentials Flow

   The flow illustrated in Figure 6 includes the following steps:

   (A)  The client authenticates with the authorization server and
        requests an access token from the token endpoint.

   (B)  The authorization server authenticates the client, and if valid,
        issues an access token.
</code></pre><h4 id=resource-owner-password-credentials-grant><a href=https://datatracker.ietf.org/doc/html/rfc6749#section-4.3 target=_blank rel=noopener>Resource Owner Password Credentials Grant</a></h4><blockquote><p>用户名密码模式，这种流程相对来说，比较适用于可信任的客户端，例如自家研发的客户端，客户端要求用户输入用户名和密码，之后 向服务器请求，服务区校验用户名密码之后，下发 access_token</p></blockquote><pre tabindex=0><code>     +----------+
     | Resource |
     |  Owner   |
     |          |
     +----------+
          v
          |    Resource Owner
         (A) Password Credentials
          |
          v
     +---------+                                  +---------------+
     |         |&gt;--(B)---- Resource Owner -------&gt;|               |
     |         |         Password Credentials     | Authorization |
     | Client  |                                  |     Server    |
     |         |&lt;--(C)---- Access Token ---------&lt;|               |
     |         |    (w/ Optional Refresh Token)   |               |
     +---------+                                  +---------------+

            Figure 5: Resource Owner Password Credentials Flow

   The flow illustrated in Figure 5 includes the following steps:

   (A)  The resource owner provides the client with its username and
        password.

   (B)  The client requests an access token from the authorization
        server&#39;s token endpoint by including the credentials received
        from the resource owner.  When making the request, the client
        authenticates with the authorization server.

   (C)  The authorization server authenticates the client and validates
        the resource owner credentials, and if valid, issues an access
        token.
</code></pre><h4 id=implicit-grant><a href=https://datatracker.ietf.org/doc/html/rfc6749#section-4.2 target=_blank rel=noopener>Implicit Grant</a></h4><blockquote><p>Implicit Grant 模式，适用于不方便暴露 client_secret 的地方，比如浏览器端（网页），分发出去的 App，都属于容易被逆向的程序， 这种情况就可以使用 Implicit Grant</p><p>以最开始我们的例子，Slack 弹出 webview，加载 Google 的授权页面，Google 显示选择对应帐号，下面会提示会让客户端读取 用户信息，当用户点击确认之后，Google 校验完毕，会将页面重定向到客户端指定的地址，并且在 URL fragment 中带上 access_token。</p></blockquote><pre tabindex=0><code>     +----------+
     | Resource |
     |  Owner   |
     |          |
     +----------+
          ^
          |
         (B)
     +----|-----+          Client Identifier     +---------------+
     |         -+----(A)-- &amp; Redirection URI ---&gt;|               |
     |  User-   |                                | Authorization |
     |  Agent  -|----(B)-- User authenticates --&gt;|     Server    |
     |          |                                |               |
     |          |&lt;---(C)--- Redirection URI ----&lt;|               |
     |          |          with Access Token     +---------------+
     |          |            in Fragment
     |          |                                +---------------+
     |          |----(D)--- Redirection URI ----&gt;|   Web-Hosted  |
     |          |          without Fragment      |     Client    |
     |          |                                |    Resource   |
     |     (F)  |&lt;---(E)------- Script ---------&lt;|               |
     |          |                                +---------------+
     +-|--------+
       |    |
      (A)  (G) Access Token
       |    |
       ^    v
     +---------+
     |         |
     |  Client |
     |         |
     +---------+

   Note: The lines illustrating steps (A) and (B) are broken into two
   parts as they pass through the user-agent.

                       Figure 4: Implicit Grant Flow

   The flow illustrated in Figure 4 includes the following steps:

   (A)  The client initiates the flow by directing the resource owner&#39;s
        user-agent to the authorization endpoint.  The client includes
        its client identifier, requested scope, local state, and a
        redirection URI to which the authorization server will send the
        user-agent back once access is granted (or denied).

   (B)  The authorization server authenticates the resource owner (via
        the user-agent) and establishes whether the resource owner
        grants or denies the client&#39;s access request.

   (C)  Assuming the resource owner grants access, the authorization
        server redirects the user-agent back to the client using the
        redirection URI provided earlier.  The redirection URI includes
        the access token in the URI fragment.

   (D)  The user-agent follows the redirection instructions by making a
        request to the web-hosted client resource (which does not
        include the fragment per [RFC2616]).  The user-agent retains the
        fragment information locally.

   (E)  The web-hosted client resource returns a web page (typically an
        HTML document with an embedded script) capable of accessing the
        full redirection URI including the fragment retained by the
        user-agent, and extracting the access token (and other
        parameters) contained in the fragment.

   (F)  The user-agent executes the script provided by the web-hosted
        client resource locally, which extracts the access token.

   (G)  The user-agent passes the access token to the client.
</code></pre><h4 id=authorization-code-grant><a href=https://datatracker.ietf.org/doc/html/rfc6749#section-4.1 target=_blank rel=noopener>Authorization Code Grant</a></h4><blockquote><p>Authorization Code 模式，这是最复杂，也是最安全的一种授权模式</p><p>首先 Slack 客户端打开 webview，加载 Google 的授权页面，并且指定模式为 Authorization Code，Google 让用户确认之后，重定向 回 Slack 指定的 URL，并且在参数中附带一个参数，叫做 code，随后 Slack 的服务端拿着 code，带上 client_id, client_secret 再次请求 Google，此时 Google 校验 token，如成功，则下发 access_token。由于是 Slack 的服务器直接请求获得的 token，因此会 比前面三种都更加安全。</p></blockquote><pre tabindex=0><code>     +----------+
     | Resource |
     |   Owner  |
     |          |
     +----------+
          ^
          |
         (B)
     +----|-----+          Client Identifier      +---------------+
     |         -+----(A)-- &amp; Redirection URI ----&gt;|               |
     |  User-   |                                 | Authorization |
     |  Agent  -+----(B)-- User authenticates ---&gt;|     Server    |
     |          |                                 |               |
     |         -+----(C)-- Authorization Code ---&lt;|               |
     +-|----|---+                                 +---------------+
       |    |                                         ^      v
      (A)  (C)                                        |      |
       |    |                                         |      |
       ^    v                                         |      |
     +---------+                                      |      |
     |         |&gt;---(D)-- Authorization Code ---------&#39;      |
     |  Client |          &amp; Redirection URI                  |
     |         |                                             |
     |         |&lt;---(E)----- Access Token -------------------&#39;
     +---------+       (w/ Optional Refresh Token)

   Note: The lines illustrating steps (A), (B), and (C) are broken into
   two parts as they pass through the user-agent.

                     Figure 3: Authorization Code Flow

   The flow illustrated in Figure 3 includes the following steps:

   (A)  The client initiates the flow by directing the resource owner&#39;s
        user-agent to the authorization endpoint.  The client includes
        its client identifier, requested scope, local state, and a
        redirection URI to which the authorization server will send the
        user-agent back once access is granted (or denied).

   (B)  The authorization server authenticates the resource owner (via
        the user-agent) and establishes whether the resource owner
        grants or denies the client&#39;s access request.

   (C)  Assuming the resource owner grants access, the authorization
        server redirects the user-agent back to the client using the
        redirection URI provided earlier (in the request or during
        client registration).  The redirection URI includes an
        authorization code and any local state provided by the client
        earlier.

   (D)  The client requests an access token from the authorization
        server&#39;s token endpoint by including the authorization code
        received in the previous step.  When making the request, the
        client authenticates with the authorization server.  The client
        includes the redirection URI used to obtain the authorization
        code for verification.

   (E)  The authorization server authenticates the client, validates the
        authorization code, and ensures that the redirection URI
        received matches the URI used to redirect the client in
        step (C).  If valid, the authorization server responds back with
        an access token and, optionally, a refresh token.
</code></pre><h4 id=authorization-code-pkce-扩展><a href=https://datatracker.ietf.org/doc/html/rfc7636 target=_blank rel=noopener>Authorization Code PKCE 扩展</a></h4><blockquote><p>这个模式，和 Authorization Code 基本相同，不同的地方在于不暴露 client_secret，因此可以用于浏览器等。流程如下：</p><blockquote><p>首先浏览器生成随机字符串，我们称之为 code_verifier，长度限制在 43-128 字符
随后，我们将 code_verifier 做 sha256 加密，然后做 URL safe base64 encode，得到的字符我们称为 code_challenge
接着，客户端打开授权服务器的页面，并且在参数中附带 code_challenge=巴拉巴拉巴拉&amp;code_challenge_method=S256， code_challenge 是第二步中生成的，code_challenge_method 指定哈希方法，S256 指的是 sha256，授权服务器将这些信息记录下来
随后服务器提示用户是否授权，当用户授权之后，服务器回调浏览器指定的 URL，并且带上 code
客户端将 code 提取出来，然后请求授权服务器，并且带上 code 和 code_verifier
授权服务器提取请求中的 code_verifier，将其做 sha256，并且与第三步中的 code_challenge 进行对比，如果一致，则说明授权 成功，于是下发 access_token</p></blockquote></blockquote><h3 id=jwt>JWT</h3><p><code>eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c</code>
其实就是三部分：</p><ul><li>Header，指示 token 类型和签名算法</li><li>Payload，包含了真正有用的信息，通常也叫做 claims</li><li>Signature，这是 Header 和 Payload 进行签名之后的结果</li></ul><h3 id=openid-connectoidc>OpenID Connect(OIDC)</h3><blockquote><p>OIDC 主要的目的在于登录用户，获取用户信息，而不是获取其它权限。前面我们说了，OIDC 基于 OAuth 2， 因此，OIDC 可以使用 Authorization Code 模式，也可以使用 Implicit 模式，还有一种 Hybrid 模式。</p><p>通过 OIDC，我们可以以第三方系统的身份来登录另外一个系统，并且获取一些基本的资料，例如 first name, last name, username, email, avatar url 等。</p></blockquote><h4 id=authentication-using-the-authorization-code-flow><a href=https://openid.net/specs/openid-connect-core-1_0.html#CodeFlowAuth target=_blank rel=noopener>Authentication using the Authorization Code Flow</a></h4><p>The Authorization Code Flow goes through the following steps:</p><ul><li>Client prepares an Authentication Request containing the desired request parameters.</li><li>Client sends the request to the Authorization Server.</li><li>Authorization Server Authenticates the End-User.</li><li>Authorization Server obtains End-User Consent/Authorization.</li><li>Authorization Server sends the End-User back to the Client with an Authorization Code.</li><li>Client requests a response using the Authorization Code at the Token Endpoint.</li><li>Client receives a response that contains an ID Token and Access Token in the response body.</li><li>Client validates the ID token and retrieves the End-User&rsquo;s Subject Identifier.</li></ul><p>基本就是 OAuth 2 Authorization Code 模式的流程，区别在于，在 scope 参数中，一定有一项叫做 openid，另外一点就在于最终 的返回结果里，多了一项 id_token</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;access_token&#34;</span>: <span style=color:#e6db74>&#34;SlAV32hkKG&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;token_type&#34;</span>: <span style=color:#e6db74>&#34;Bearer&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;refresh_token&#34;</span>: <span style=color:#e6db74>&#34;8xLOxBtZp8&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;expires_in&#34;</span>: <span style=color:#ae81ff>3600</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;id_token&#34;</span>: <span style=color:#e6db74>&#34;eyJhbGciOiJSUzI1NiIsImtpZCI6IjFlOWdkazcifQ.ewogImlzc
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        yI6ICJodHRwOi8vc2VydmVyLmV4YW1wbGUuY29tIiwKICJzdWIiOiAiMjQ4Mjg5
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        NzYxMDAxIiwKICJhdWQiOiAiczZCaGRSa3F0MyIsCiAibm9uY2UiOiAibi0wUzZ
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        fV3pBMk1qIiwKICJleHAiOiAxMzExMjgxOTcwLAogImlhdCI6IDEzMTEyODA5Nz
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        AKfQ.ggW8hZ1EuVLuxNuuIJKX_V8a_OMXzR0EHR9R6jgdqrOOF4daGU96Sr_P6q
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        Jp6IcmD3HP99Obi1PRs-cwh3LO-p146waJ8IhehcwL7F09JdijmBqkvPeB2T9CJ
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        NqeGpe-gccMg4vfKjkM8FcGvnzZUN4_KSP0aAp1tOJ1zZwgjxqGByKHiOtX7Tpd
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        QyHE5lcMiKPXfEIQILVq0pc_E2DzL7emopWoaoZTF_m0_N0YzFC6g6EJbOEoRoS
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        K5hoDalrcvRYLSrQAZZKflyuVCyixEoV9GfNQC3_osjzw2PAithfubEEBLuVVk4
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        XUVrWOLrLl0nx7RkKU8NXNHq-rvKMzqg&#34;</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>id_token</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>	<span style=color:#f92672>&#34;iss&#34;</span>: <span style=color:#e6db74>&#34;http://server.example.com&#34;</span>,
</span></span><span style=display:flex><span>	<span style=color:#f92672>&#34;sub&#34;</span>: <span style=color:#e6db74>&#34;248289761001&#34;</span>,
</span></span><span style=display:flex><span>	<span style=color:#f92672>&#34;aud&#34;</span>: <span style=color:#e6db74>&#34;s6BhdRkqt3&#34;</span>,
</span></span><span style=display:flex><span>	<span style=color:#f92672>&#34;nonce&#34;</span>: <span style=color:#e6db74>&#34;n-0S6_WzA2Mj&#34;</span>,
</span></span><span style=display:flex><span>	<span style=color:#f92672>&#34;exp&#34;</span>: <span style=color:#ae81ff>1311281970</span>,
</span></span><span style=display:flex><span>	<span style=color:#f92672>&#34;iat&#34;</span>: <span style=color:#ae81ff>1311280970</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><ul><li>iss 是 Issuer 的缩写，值是颁发这个 OpenID 的 URL</li><li>sub 是 Subject 的缩写，指的是这个 OpenID 对应的用户</li><li>aud 是 Audience(s) 的缩写，指的是这个 OpenID 所授权的 client id(可能有多个)</li><li>exp 是 超时时间</li><li>iat 是 颁发时间</li><li>nonce 是随机字符串</li></ul><h4 id=authentication-using-the-implicit-flow><a href=https://openid.net/specs/openid-connect-core-1_0.html#ImplicitFlowAuth target=_blank rel=noopener>Authentication using the Implicit Flow</a></h4><p>步骤如下：</p><ul><li>Client prepares an Authentication Request containing the desired request parameters.</li><li>Client sends the request to the Authorization Server.</li><li>Authorization Server Authenticates the End-User.</li><li>Authorization Server obtains End-User Consent/Authorization.</li><li>Authorization Server sends the End-User back to the Client with an ID Token and, if requested, an Access Token.</li><li>Client validates the ID token and retrieves the End-User&rsquo;s Subject Identifier.</li></ul><p>流程也基本和 OAuth 2 的 Implicit 模式一致，区别在于 response_type 的值不是 token，而是 id_token token 或者 id_token， 对于响应结果，也是会新增加一个 id_token 在 URL fragment 里。</p><h4 id=authentication-using-the-hybrid-flow><a href=https://openid.net/specs/openid-connect-core-1_0.html#HybridFlowAuth target=_blank rel=noopener>Authentication using the Hybrid Flow</a></h4><p>步骤如下：</p><ul><li>Client prepares an Authentication Request containing the desired request parameters.</li><li>Client sends the request to the Authorization Server.</li><li>Authorization Server Authenticates the End-User.</li><li>Authorization Server obtains End-User Consent/Authorization.</li><li>Authorization Server sends the End-User back to the Client with an Authorization Code and, depending on the Response Type, one or more additional parameters.</li><li>Client requests a response using the Authorization Code at the Token Endpoint.</li><li>Client receives a response that contains an ID Token and Access Token in the response body.</li><li>Client validates the ID Token and retrieves the End-User&rsquo;s Subject Identifier.</li></ul><p>区别在于，请求参数中，response_type 的值是 code id_token 或 code token 或 code id_token token：</p><ul><li>当值是 code token 时，会返回 code, access_token</li><li>当值是 code id_token 时，会返回 code, id_token</li><li>当值是 code id_token token 时，会返回 code, id_token, access_token</li></ul></div><div class="row ps-3 pe-3"><div class="col-md-6 share-buttons"><strong>分享:</strong>
<a class="btn icon-button bg-facebook" href="https://www.facebook.com/sharer.php?u=https%3a%2f%2flinzeyan.github.io%2fzh-tw%2fposts%2f2022%2f20220706-openid-connect%2f" target=_blank><i class="fab fa-facebook"></i>
</a><a class="btn icon-button bg-twitter" href="https://twitter.com/share?url=https%3a%2f%2flinzeyan.github.io%2fzh-tw%2fposts%2f2022%2f20220706-openid-connect%2f&text=OIDC%28OpenID%20Connect%29%20%e7%ae%80%e4%bb%8b&via=Ricky" target=_blank><i class="fab fa-twitter"></i>
</a><a class="btn icon-button bg-reddit" href="https://reddit.com/submit?url=https%3a%2f%2flinzeyan.github.io%2fzh-tw%2fposts%2f2022%2f20220706-openid-connect%2f&title=OIDC%28OpenID%20Connect%29%20%e7%ae%80%e4%bb%8b" target=_blank><i class="fab fa-reddit"></i>
</a><a class="btn icon-button bg-pocket" href="https://getpocket.com/save?url=https%3a%2f%2flinzeyan.github.io%2fzh-tw%2fposts%2f2022%2f20220706-openid-connect%2f&title=OIDC%28OpenID%20Connect%29%20%e7%ae%80%e4%bb%8b" target=_blank><i class="fab fa-get-pocket"></i>
</a><a class="btn icon-button bg-linkedin" href="https://www.linkedin.com/shareArticle?url=https%3a%2f%2flinzeyan.github.io%2fzh-tw%2fposts%2f2022%2f20220706-openid-connect%2f&title=OIDC%28OpenID%20Connect%29%20%e7%ae%80%e4%bb%8b" target=_blank><i class="fab fa-linkedin"></i>
</a><a class="btn icon-button bg-mastodon" href="https://mastodon.social/share?text=OIDC%28OpenID%20Connect%29%20%e7%ae%80%e4%bb%8b - https%3a%2f%2flinzeyan.github.io%2fzh-tw%2fposts%2f2022%2f20220706-openid-connect%2f" target=_blank><i class="fab fa-mastodon"></i>
</a><a class="btn icon-button bg-whatsapp" href="https://api.whatsapp.com/send?text=OIDC%28OpenID%20Connect%29%20%e7%ae%80%e4%bb%8b https%3a%2f%2flinzeyan.github.io%2fzh-tw%2fposts%2f2022%2f20220706-openid-connect%2f" target=_blank><i class="fab fa-whatsapp"></i>
</a><a class="btn icon-button" href="mailto:?subject=OIDC%28OpenID%20Connect%29%20%e7%ae%80%e4%bb%8b&body=https%3a%2f%2flinzeyan.github.io%2fzh-tw%2fposts%2f2022%2f20220706-openid-connect%2f" target=_blank><i class="fas fa-envelope-open-text"></i></a></div><div class="col-md-6 btn-improve-page"><a href=https://github.com/linzeyan.github.io/edit/main/content/posts/2022/20220706-openid-connect/index.zh-tw.md title=改善此頁面 target=_blank rel=noopener><i class="fas fa-code-branch"></i>
改善此頁面</a></div></div><hr><div class="row next-prev-navigator"><div class="col-md-6 previous-article"><a href=/zh-tw/posts/2024/20241113-objective-see/ title="Objective-See: 一个关于 Apple 设备隐私与安全的开源项目组织" class="btn filled-button"><div><i class="fas fa-chevron-circle-left"></i> 上一篇</div><div class=next-prev-text>Objective-See: 一个关于 Apple 设备隐私与安全的开源项目组织</div></a></div><div class="col-md-6 next-article"><a href=/zh-tw/posts/2025/20251030-onion-mirror/ title=onion-mirror class="btn filled-button"><div>下一篇 <i class="fas fa-chevron-circle-right"></i></div><div class=next-prev-text>onion-mirror</div></a></div></div><hr></div></div></div><a id=scroll-to-top class=btn type=button data-bs-toggle=tooltip data-bs-placement=left title="Scroll to top"><i class="fas fa-chevron-circle-up"></i></a></section><section class=toc-section id=toc-section><div class=toc-holder><h5 class="text-center ps-3">目錄</h5><hr><div class=toc><nav id=TableOfContents><ul><li><ul><li><a href=#authentication-vs-authorization>Authentication vs. authorization</a></li><li><a href=#oauth-2>OAuth 2</a><ul><li><a href=#client-credentials-grant><a href=https://datatracker.ietf.org/doc/html/rfc6749#section-4.4>Client Credentials Grant</a></a></li><li><a href=#resource-owner-password-credentials-grant><a href=https://datatracker.ietf.org/doc/html/rfc6749#section-4.3>Resource Owner Password Credentials Grant</a></a></li><li><a href=#implicit-grant><a href=https://datatracker.ietf.org/doc/html/rfc6749#section-4.2>Implicit Grant</a></a></li><li><a href=#authorization-code-grant><a href=https://datatracker.ietf.org/doc/html/rfc6749#section-4.1>Authorization Code Grant</a></a></li><li><a href=#authorization-code-pkce-扩展><a href=https://datatracker.ietf.org/doc/html/rfc7636>Authorization Code PKCE 扩展</a></a></li></ul></li><li><a href=#jwt>JWT</a></li><li><a href=#openid-connectoidc>OpenID Connect(OIDC)</a><ul><li><a href=#authentication-using-the-authorization-code-flow><a href=https://openid.net/specs/openid-connect-core-1_0.html#CodeFlowAuth>Authentication using the Authorization Code Flow</a></a></li><li><a href=#authentication-using-the-implicit-flow><a href=https://openid.net/specs/openid-connect-core-1_0.html#ImplicitFlowAuth>Authentication using the Implicit Flow</a></a></li><li><a href=#authentication-using-the-hybrid-flow><a href=https://openid.net/specs/openid-connect-core-1_0.html#HybridFlowAuth>Authentication using the Hybrid Flow</a></a></li></ul></li></ul></li></ul></nav></div></div></section></div><footer id=footer class="container-fluid text-center align-content-center footer pb-2"><div class="container pt-5"><div class="row text-start"><div class="col-md-4 col-sm-12"><h5>導覽列</h5><ul><li class=nav-item><a class=smooth-scroll href=https://linzeyan.github.io/zh-tw/#about>關於</a></li><li class=nav-item><a class=smooth-scroll href=https://linzeyan.github.io/zh-tw/#skills>技能</a></li><li class=nav-item><a class=smooth-scroll href=https://linzeyan.github.io/zh-tw/#experiences>經歷</a></li><li class=nav-item><a class=smooth-scroll href=https://linzeyan.github.io/zh-tw/#education>學歷</a></li><li class=nav-item><a class=smooth-scroll href=https://linzeyan.github.io/zh-tw/#projects>專案</a></li></ul></div><div class="col-md-4 col-sm-12"><h5>聯絡方式:</h5><ul><li><a href=mailto:zeyanlin@outlook.com target=_blank rel=noopener><span><i class="fas fa-envelope"></i></span> <span>zeyanlin@outlook.com</span></a></li><li><a href=https://github.com/linzeyan target=_blank rel=noopener><span><i class="fab fa-github"></i></span> <span>linzeyan</span></a></li><li><a href=https://www.strava.com/athletes/rickylin target=_blank rel=noopener><span><i class="fab fa-fab fa-strava"></i></span> <span>Ricky</span></a></li><li><a href=https://t.me/ricky_lin target=_blank rel=noopener><span><i class="fab fa-fab fa-telegram"></i></span> <span>Ricky</span></a></li></ul></div></div></div></footer><script src=/application.eed5c22001d7c9cc6de7d8db62219c198319957fa017da141928bee1c40883b4.js integrity="sha256-7tXCIAHXycxt59jbYiGcGYMZlX+gF9oUGSi+4cQIg7Q=" defer></script></body></html>